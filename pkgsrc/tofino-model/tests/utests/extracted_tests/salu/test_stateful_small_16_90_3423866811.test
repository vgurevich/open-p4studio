// ********** begin extracted from log
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[0], 0x9da41fb5); /* a=0x2010900   <<salu_const_regfile[31:0]=32'h9da41fb5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[1], 0x2c049dc8); /* a=0x2010904   <<salu_const_regfile[31:0]=32'h2c049dc8>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[2], 0xf61249eb); /* a=0x2010908   <<salu_const_regfile[31:0]=32'hf61249eb>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[3], 0xc93373a9); /* a=0x201090c   <<salu_const_regfile[31:0]=32'hc93373a9>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[0], 0xe11ea1c8); /* a=0x2010910   <<salu_mathtable[31:0]=32'he11ea1c8>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[1], 0xdb009dc5); /* a=0x2010914   <<salu_mathtable[31:0]=32'hdb009dc5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[2], 0x90565e8f); /* a=0x2010918   <<salu_mathtable[31:0]=32'h90565e8f>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[3], 0x7f9e570); /* a=0x201091c   <<salu_mathtable[31:0]=32'h07f9e570>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathunit_ctl, 0x146); /* a=0x20109c8   <<salu_mathunit_output_scale[5:0]=6'h06>> <<salu_mathunit_exponent_invert[6:6]=1'h1>> <<salu_mathunit_exponent_shift[8:7]=2'h2>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.stateful_ctl, 0x141); /* a=0x20109cc   <<salu_enable[0:0]=1'h1>> <<salu_output_pred_comb_shift[5:1]=5'h00>> <<salu_output_pred_shift[8:6]=3'h5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][0], 0x14a26); /* a=0x2010980   <<salu_const_src[3:0]=4'h6>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h5>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][1], 0x39d6e); /* a=0x2010984   <<salu_const_src[3:0]=4'he>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'he>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'he>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][2], 0x11607); /* a=0x2010988   <<salu_const_src[3:0]=4'h7>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'hb>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][3], 0x35a5b); /* a=0x201098c   <<salu_const_src[3:0]=4'hb>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'hd>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'hd>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][0], 0x280ef); /* a=0x2010990   <<salu_const_src[3:0]=4'hf>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h0>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'ha>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][1], 0x294ef); /* a=0x2010994   <<salu_const_src[3:0]=4'hf>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'ha>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'ha>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][2], 0x1179c); /* a=0x2010998   <<salu_const_src[3:0]=4'hc>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'hb>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][3], 0x16af5); /* a=0x201099c   <<salu_const_src[3:0]=4'h5>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h5>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][0], 0x2059); /* a=0x20109a0   <<salu_const_src[3:0]=4'h9>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h0>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][1], 0x39b12); /* a=0x20109a4   <<salu_const_src[3:0]=4'h2>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'hd>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'he>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][2], 0x3a041); /* a=0x20109a8   <<salu_const_src[3:0]=4'h1>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h0>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'he>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][3], 0x3c962); /* a=0x20109ac   <<salu_const_src[3:0]=4'h2>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h4>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'hf>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][0], 0x8510); /* a=0x20109b0   <<salu_const_src[3:0]=4'h0>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h2>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h2>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][1], 0x30a55); /* a=0x20109b4   <<salu_const_src[3:0]=4'h5>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h5>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'hc>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][2], 0x12042); /* a=0x20109b8   <<salu_const_src[3:0]=4'h2>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h0>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][3], 0x1b332); /* a=0x20109bc   <<salu_const_src[3:0]=4'h2>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h9>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[0][0], 0x6cbb); /* a=0x20109e0   <<salu_cmp_const_src[3:0]=4'hb>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'hd>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[0][1], 0x406b); /* a=0x20109e4   <<salu_cmp_const_src[3:0]=4'hb>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'h8>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[1][0], 0x2f5a); /* a=0x20109e8   <<salu_cmp_const_src[3:0]=4'ha>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h1>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'h5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[1][1], 0x3849); /* a=0x20109ec   <<salu_cmp_const_src[3:0]=4'h9>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'h7>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[2][0], 0xc26); /* a=0x20109f0   <<salu_cmp_const_src[3:0]=4'h6>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[2][1], 0x6859); /* a=0x20109f4   <<salu_cmp_const_src[3:0]=4'h9>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'hd>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[3][0], 0x702e); /* a=0x20109f8   <<salu_cmp_const_src[3:0]=4'he>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'he>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[3][1], 0x7c78); /* a=0x20109fc   <<salu_cmp_const_src[3:0]=4'h8>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'hf>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[0], 0x63); /* a=0x2010920   <<salu_output_cmpfn[3:0]=4'h3>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[1], 0x6f); /* a=0x2010924   <<salu_output_cmpfn[3:0]=4'hf>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[2], 0x67); /* a=0x2010928   <<salu_output_cmpfn[3:0]=4'h7>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[3], 0x6f); /* a=0x201092c   <<salu_output_cmpfn[3:0]=4'hf>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[0], 0x20); /* a=0x2010930   <<salu_alu2_lo_bsrc_math[0:0]=1'h0>> <<salu_alu2_lo_math_src[2:1]=2'h0>> <<salu_datasize[5:3]=3'h4>> <<salu_op_dual[6:6]=1'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[1], 0x67); /* a=0x2010934   <<salu_alu2_lo_bsrc_math[0:0]=1'h1>> <<salu_alu2_lo_math_src[2:1]=2'h3>> <<salu_datasize[5:3]=3'h4>> <<salu_op_dual[6:6]=1'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[2], 0x23); /* a=0x2010938   <<salu_alu2_lo_bsrc_math[0:0]=1'h1>> <<salu_alu2_lo_math_src[2:1]=2'h1>> <<salu_datasize[5:3]=3'h4>> <<salu_op_dual[6:6]=1'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[3], 0x25); /* a=0x201093c   <<salu_alu2_lo_bsrc_math[0:0]=1'h1>> <<salu_alu2_lo_math_src[2:1]=2'h2>> <<salu_datasize[5:3]=3'h4>> <<salu_op_dual[6:6]=1'h0>> */
 phv_data_word = UINT64_C(0x0000000300010003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x00936171;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100030003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01ad67e8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000300000001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x00c1f2c9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200020001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03cad4dc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300030001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00f3d952;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300000003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x01c057a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000300000000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03a88a69;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300000001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x009c0958;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300030000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x01f383cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200020000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x03d26c53;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300000002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03a0f374;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000100010003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00ccbcdb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300000003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0xfff90000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00ccbcb3;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020002);
 addr = 0x00e24e70;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300020001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03d462f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300010002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x00c55e21;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300000003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00c9e680;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300030000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02955f4c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000b616,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100030002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00aeb538;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000000020002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x038d017a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000030002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x0091f353;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000200020003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00e63f4b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200000001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x02a8ab64;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffeb614,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000020002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x00d9b78e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000020002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x02a70633;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6140002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000030001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00f9104f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100000003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x008ed035;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000200010002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x02fdd902;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002b616,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300020002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x0195bf2d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000000000002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02bbee34;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6150001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300010002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x00f0a919;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200030000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x019aa99c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300020000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x01e0b509;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000300020002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030002);
 addr = 0x03d77e50;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300000002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00020000);
 addr = 0x00c5d8cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200020001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x0003fff9);
 data_in_bv.set32(3,0x00020000);
 addr = 0x02c5d8e7;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002b614,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000030001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01a00f84;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200010002);
 data_in_bv.set32(0,0xffff0001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x03a00fb1;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300010001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x00d86290;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300030002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x0087d528;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200030001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020002);
 addr = 0x02f52fb7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6140002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100010002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x02d587cb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003b614,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02a3833b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6160000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000000020003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00010002);
 addr = 0x01f4151f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200030003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x03cda6aa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000100030003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x01944919;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x008901f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300010003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x039a4df2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000000001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x03ff7725;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03d01503;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000000030001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x028f8f83;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b617,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200000003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01ed7506;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000100020002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x009140f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300020002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01a6df86;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100020003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x01ad07b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200020001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x0186b77e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x01e847f2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9ffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000010000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020001);
 addr = 0x00ed32fd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000000030001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfff90001);
 addr = 0x02ed32a6;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002b617,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x01b3b14f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100020001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0xfffd0001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x01b3b10a;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200030001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03f644ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300020001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x0098531a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300030000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x03bbfcad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x00c8cacd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300030001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x03b1007c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00e6bc4f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200010000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x03a0fa0f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x01f09a17;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000300000000);
 data_in_bv.set32(0,0xfffd0002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x02f09a5d;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6170001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300010002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x02f5c3e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001b616,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200020002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01a6de3f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020000);
 addr = 0x019cdb9d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000200010003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02901370;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100020001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x0096b1d0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000200010002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00b4df7f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200030002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x019b319a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000300010000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x02838e3e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6150001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200020003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030002);
 addr = 0x03e230f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100030000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03d77577;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000010000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x039bea61;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000010000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x039bea5b;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000010003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x01f7c4a6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100020003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x01e63e19;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300010000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00a8a935;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300000003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03d8ca2d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000020000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x039b3e63;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100030001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03fa4200;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000100030000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020002);
 addr = 0x00cd5da9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200030002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x009965b2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000030000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x02e2a2a8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001b617,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000030000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03aeeca5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300010000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x00b839bd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000100010001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01ce0489;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100030000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03eb1d95;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000100000000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x00a7ad4c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300000002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01f772f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200010000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01cb7873;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200010001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x0099b117;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000200030002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030000);
 addr = 0x00ce995d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100030001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00dba96b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000200010000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02a4e2a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002b614,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000000001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x00dda7df;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300010002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00020002);
 addr = 0x01b4ee44;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300010002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03e1a502;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000100020001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02d98324;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001b617,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100020003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x00a7e2c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200030000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03f8ad64;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000030001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x00b17c7e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300010001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01a3efd2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000020000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x02962630;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6140000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300000002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01efdb36;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000200000002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00ada689;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000200020002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02861060;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001b617,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000000010002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x02d357b7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6160002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000300000001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01ee47ff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000100030002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01d67870;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100000003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x00ba6f42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200030002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x02873d2e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002b616,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300030003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03f4d121;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300000003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02a4b025;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002b617,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200020002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01daa769;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300020003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x03c23611;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300010003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x03b2f4bd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300010001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x03b2f4aa;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000030000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x0384e0a8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100010002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x028c5e33;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6160003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200030000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x02f895ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000b615,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300030003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01c66cbc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000000030003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x038781d0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000100020001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x00c80be4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffefff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000020001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03c6295a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000000010003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x02e45965;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffcb615,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000000002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x03dd223c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000030002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x0287acb2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6170001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x0084a65e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000020001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02914db1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6160002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100000002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x01a9f091;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000300030002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x0286bf05;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b617,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00020000);
 addr = 0x0093c722;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000000003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01f7ca71;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300000003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x0185e85a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300010000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00d0626e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300000003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03f2e5ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000030002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x00b43be8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdfff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200030002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020002);
 addr = 0x01edbd9b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000100020001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02a1b787;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002b615,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01f453ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9ffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200030001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x0289f0f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb6160003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200020002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03919b97;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300000002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x00de35d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000200020000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0xfff90003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01de3599;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000000010001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x03bfb06f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03ba5a0e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100000002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02c9369e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6150002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300010003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x02c02d97;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6150000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100020002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x03c8c392;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200020003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00c4d397;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000030002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010001);
 addr = 0x029779e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001b615,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300030000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03f77d44;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000010000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x00cfbb0a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300030001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x029035a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001b617,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300020000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x02892eef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffb616,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200000001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02df533b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6160001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03c6ae51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x01b3d925;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000020002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x03c04ba5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300020000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02b8489b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6160000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100020000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03d667c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200010002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03b1bc82;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300020001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00020000);
 addr = 0x028a3e5a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6170000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300010003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x03b7ac2d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000100010003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x00ea8667;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffcfff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300030002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020002);
 addr = 0x02d327fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb6160002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x009c720d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100000003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01bbfb06;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000000030003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x03ad77cf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200030002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020000);
 addr = 0x0199b2d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00020002);
 addr = 0x03a7ee96;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000100000000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01de21ff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000100010003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01c95c35;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000030000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x028fcd20;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001b616,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200010000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x00b3e315;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000200020000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x009afee9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000000020003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03b5b9a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300030002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00020000);
 addr = 0x02c33a3a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6170001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100030003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x01d380e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000100030002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00b49b67;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffcfff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000010002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03fade8f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200000001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02b66ebe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6170002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100030002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02bcc412;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6150000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200030000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x01fa3f27;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000300020000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x038f8e1f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300000001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02f5eaf2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300010000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00f41c69;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000100000002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x00a06d52;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000100020000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01d567ba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000000010000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00020000);
 addr = 0x02e8420c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003b617,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00e3f224;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100000001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x02e66136;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6160003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200010000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x00a49886;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300010002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x02f2f295;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6140002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000020001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01ac539a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000100030001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x00f76feb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffefff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000010001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x01fc2185;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300020001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010002);
 addr = 0x02efb1be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6160001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100020000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00020000);
 addr = 0x03c8a59a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000000010000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02fb819f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6140001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100010000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0181f6a0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000300010003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x01ec7417;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000300000000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01c250d5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000100010003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01d95061;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000000020003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02da271c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6140003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000000020002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x029d6a4c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002b615,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100020003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03b751c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200020001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01a26bfe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000300010000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010002);
 addr = 0x03f25437;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000000030000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x00ec10b6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000000001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00a79d94;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000000020002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x019b5be8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000300030003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02ebd1d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6140000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200020001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x009f3c0c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300010003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x02fb86ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001b614,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100020002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02dca677;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb6140000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300020000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00ea8675;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300030002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x03b69bf2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200030003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01f18e16;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000300020001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x01eb2902;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000300030000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x02c166a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000b616,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200010001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x03da0f52;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000000010001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x01da0f15;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100010000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x02ff8982;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b617,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000100030003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02c12078;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000000010002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01dc7018;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000000020002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x03ae3bb5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000010002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x01d982e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9ffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000000030001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x02ebf82a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003b614,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100020003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x02abcc6d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdb617,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200030001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00c641fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200020000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01d2a657;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000200020000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x039f38fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02a7a758;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6140001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300000003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03abff01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000030000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x02b89188;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b614,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000010003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x03dc2117;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200010001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x000112cc);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00800032;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000112cc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100020003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00b8e1ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffcfff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000200010000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01cbe879;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9ffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300020000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x02cf9775;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb6150002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000010000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03b753c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200020000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00020001);
 addr = 0x03fce6d5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300000001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x03f4c4a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000020002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x03ea5f46;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100030000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x03e10aaa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000030001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01b358d9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100030001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00ea93fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200010003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x00a55fe9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000030003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02d2db19;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6150003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200020002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0090d0cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200010002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01b34d08;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000100010001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x019a4b36;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000200030002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01acde64;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100000003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x02b2a8bf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6160001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100010002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01f5b4b5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000200020001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03b87a43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000100010000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00a6961b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300010002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x01eeba4f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000000030001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01e5372b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x008a5e8b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000000030002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x01eb5168;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000200010003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01b59680;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000030001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x028ce96f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdb614,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000000000001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x02e8d8ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffb614,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000100020001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x039ea786;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000200020001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00ef8bf9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300000000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x02f81da7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000b616,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000300020001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03c8ef96;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300010000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030003);
 addr = 0x028a634d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000b615,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100030002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x00b34a2d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300020003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01f746b1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000300020001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02b4e183;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b617,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200010001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x0098705f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300030000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03fcc105;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000030000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03acf926;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000020003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00020003);
 addr = 0x02c3ee95;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6160001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100020000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00e69eee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000030001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00885a82;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300000003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x038a927a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000100000003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02c5306c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003b615,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000300010000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01fba152;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200030001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x038fd18c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000100020001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00af4a41;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100020003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02d43300;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000b614,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300020003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02f616a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002b616,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300000002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x01e76c00;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000300000000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01cb9781;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100000001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01ec4b13;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000100020002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010001);
 addr = 0x02e684ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003b617,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000030002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x03a92e02;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000000003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x03a92e74;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100030000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x0095bc49;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200000002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03c49f8a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000010000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x02a9426f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffeb614,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000000020003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03ca55fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300030000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x029bc551;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6160003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200020000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x01c502d0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02ecacc8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002b614,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00a2a868;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300020000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02d619b6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6150002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000300020003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x00cad017;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300030001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x00bcfefc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000000000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02fe5936;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6160000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200030001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x0183bf48;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200030001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x02c03ce0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002b614,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100020000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020000);
 addr = 0x03f04ba0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100030003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03a4d345;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100020000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x01e1865a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200020001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00020000);
 addr = 0x03a22c0a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200010000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00f4e3e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200000002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03994805;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000010003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x01cb9d21;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000000000003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03ce4809;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300000000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x01d698b0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000020000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x00944cd5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100000000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x00e1a795;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300020003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x03f22874;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000100030002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010002);
 addr = 0x039a11f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300010002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x029afe74;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200020003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03aa725f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300000000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x01ff5dd5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000000010000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02d62811;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6150003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00feedef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200010001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x02888e1c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6140000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200010001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x03e7e4eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100030002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01e2890e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000300000003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x03f48135;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000020002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00bc21da;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100010003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x018c23ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01f7ded6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100010000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x009d503a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000000020003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00dfd40e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300030002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02c5fdda;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6140003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200030002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x0297d40f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003b616,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03c6de83;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300030003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x02f192f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000010002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x0083ab1d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300010002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020003);
 addr = 0x038f030c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00020001);
 addr = 0x03bf3abb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000030001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x03f01e9f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100020003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00aae312;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200020000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01c0a0ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000300020001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x02bc05ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdb617,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x00cad6fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200030000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x01f00e9d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200010000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x02ade46f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffb614,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100030003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03afd6a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200020002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01c24dac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300020003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x01a34331;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000000002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x03cbdc66;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200020003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x0289a1f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000300020003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0396cec6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300020003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x029cbdf0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000030002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01fc06d5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300030001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x02d071eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdb616,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000300000002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00edda75;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000200020002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x03ccea87;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000000020001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01bf6957;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000000000001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x039acbec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200020001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00020002);
 addr = 0x03c8d777;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100010000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x03dd05e9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000000000001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x00b56539;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200000001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x03b6f3a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100020001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x038b0a5d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000030002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00b80b5e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200000001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00af629b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200000001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01e1c310;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000300000000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x00fd7fd6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100030000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x0182acf7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9ffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x01a016fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9ffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300030000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x03f57aa6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300020001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020000);
 addr = 0x01f3da16;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000100000001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x00942711;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200010001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x02b87991;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6160000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000300000001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030002);
 addr = 0x03ebccba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100020002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x03aa5b48;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000000030003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x0392755d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000100010002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03c0a828;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000000003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x0089881b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100010003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x03ce7849;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300010001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x03a1b1c5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200010001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x01dcf118;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000300020001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01f9b9a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100020003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02879958;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6140000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200020000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03a10692;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200030001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00a106f2;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03d90374;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02bbbd46;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001b614,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01e52be7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000010002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x01c94a49;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000300020001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02b7163a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6140000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100030003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03c82ddd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000000020003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01f47957;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000300000001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03f6f90d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200020001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x03b91880;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100020003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x0393dd1f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000200010003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03a335c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020000);
 addr = 0x03deb19b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300020003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x03c4cbb1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000020001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x029fbe0f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002b615,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100010001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00a14abe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000200010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x01cd6647;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100000002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x02bb88ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002b617,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100000001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020003);
 addr = 0x00e196dd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02de91ad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003b616,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000010000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x02f38f42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003b615,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200020001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01936c8b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000100020000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x02c2ceb2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6170002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200030002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x02a43e08;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b615,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200010001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x02c406eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffcb616,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020003);
 addr = 0x00e136b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000010001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02b8be1e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6170002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000100020000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x00830265;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffcfff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200030002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x0198ecb3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000300030002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02cd8b84;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002b617,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100010003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x0180c51d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01ddcaed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300000003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x038e66f1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03d518e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100010001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x02b18a65;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffcb616,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000000010003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03accd2b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000100020002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00a4a830;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300010000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00a65882;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00c10860;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000010002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x0298ee1c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6150001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x0099750d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300020000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02952262;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003b615,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300020002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02a501fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb6170001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000030000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00e4e37a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200030000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x00c2c528;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100030003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00020002);
 addr = 0x02dd971a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6160003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01a0bf43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100010003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01991a10;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000200020000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x02e3d492;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6170003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000000000001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03c82276;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200000003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x018bbbc4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300010002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00010001);
 addr = 0x00d14266;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200010003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x03d02efd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000000020003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x01faf0b6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200020002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x01d0375f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000100020000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x00b5f185;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300010002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x00bc6080;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000010002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x00ede661;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200020000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x0002fff9);
 addr = 0x00ede669;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300010001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x038c98ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300020002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x03e15c72;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300020000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00e78203;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000030003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x039b8589;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000010000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03985d64;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03bc1592;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300030003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010002);
 addr = 0x02a34ccd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001b615,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100030000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020000);
 addr = 0x00d3e0bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000100030002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03dc9f67;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300020002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x03c870cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300020003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x0095fbcc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000000010002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x00e9d56c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffefff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000100020002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03a47e35;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300030002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03d7deeb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300010002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03e267d6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300030001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x02f4abc4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003b615,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100000001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00c32fc8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000200010002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03d0516b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000030001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01c20847;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000100000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x00d17901;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02bfd31a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6140003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300020000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x01aff4be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000300020003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x0090a2ff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00a918f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100000002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x01b3eaa4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000100030000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00020003);
 addr = 0x009df5ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200030000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x03d744a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000100010000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x03a8c93b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200020001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x008d781a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000020000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x02a75a2a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002b616,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000100010000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01f85953;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000300010003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03eabdb0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000200030002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x01bbab71;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200010003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x02e466d7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6150002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200030003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x03a602db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000200030002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03db5547;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200000003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01b81a43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000300020000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x018d5bd0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200000002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x02f86e85;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003b617,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200020000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x008aea62;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffcfff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300000003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffcfff9);
 addr = 0x038aea69;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffcfff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000020003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x03bbfc57;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300000002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020002);
 addr = 0x01ed7a6a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000200030002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x0383bdba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01a36358;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01fb7f8a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000300000000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00d95e3e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000020001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01bac635;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300010000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x03e6f753;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000020001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x01d3b945;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200010003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00020002);
 addr = 0x0097350b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000000000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x02d33747;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001b614,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200030000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x009a4ca8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100010002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030002);
 addr = 0x01bf8276;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000100030000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01aecb7e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9ffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000300030001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00020002);
 addr = 0x00e347b5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000030001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00d46f6a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000200020001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x02f151aa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002b614,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200020001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02ab9e64;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003b614,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000000000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x03d276a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200030003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x03ac2578;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000100020000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02f604a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001b617,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000000010002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x02c74fd9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6140002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000300030003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x038f6319;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300030000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01becb64;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200020000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x02f8f95f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6140003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000000010001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03d60665;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200000000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02fd05dd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6150001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100010001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03d54550;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000000000001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x01cf848b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300030001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x02ec1df4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100010001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x00e3b240;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000000003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00be9599;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300000003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00dcfc66;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdfff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000030000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020000);
 addr = 0x03d8460a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000030002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x00fefdf9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300020001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x028c8bd7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6170000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300010003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0xb6170000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x008c8be0;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6170000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200010000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0396336d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000020000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02c857b0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6170002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200030001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02fb895e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6170001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200030003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03ba98d2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000010002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x02ac812b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001b616,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000000000000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x00b5431c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300020001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x03cd0846;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200030000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x0092a8b1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200030000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x02b2abd6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6170001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000020003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00fc8b44;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000200030000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x038c99fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000020003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x0286801e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6160002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200010003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x00889db9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x02e051ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000b614,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000300030003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00c4aa76;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200030000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030002);
 addr = 0x03846e9a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200030000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x00c91ca5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000020002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01a552c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000100000001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x01bc07a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300020000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x02977d87;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b614,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300010001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x01892d0b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300000001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x008bae23;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100020002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010001);
 addr = 0x02dd3f36;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6150001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200010000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x0185ac3f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100000003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x01b89391;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300030001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00f37f2b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00c01db7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000100030002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00bb3c4f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000100020002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01c43293;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000200030002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x02982f60;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffcb616,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200000000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00805816;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100030003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00020000);
 addr = 0x03927d46;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000000010001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00b3a43f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100030002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0xfff90002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01b3a443;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000300030001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x02d20549;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001b616,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200010001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01f9efb7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000200020001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02e880a0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000b616,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200030002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00a73dd0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100000003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01ab6837;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000300020001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x019cb7eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000100010003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x00fcab2b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000030001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x00a0af1d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000200030001);
 data_in_bv.set32(0,0xfff90000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x03a0af67;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100030000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x01b9261b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200030001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01d6be65;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000300010000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01f97669;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000200030002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x03f4d934;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200010003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x0000a800);
 addr = 0x02800013;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6140001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000a800,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200020000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x02cc50fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200030001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x03bd8da4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300020003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01a6f829;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000200030002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010001);
 addr = 0x03bf577c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01d412d3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100020002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x01fabda1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02b33156;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6140000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100020003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x01ee7cc2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000200020001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00f785a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300020002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02aacae4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001b617,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000100010002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00e7c5ad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200020003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x02eb8fb5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6140003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000300010003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x029405c0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003b614,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200020003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03f60d41;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000000030000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03f60d2a;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000000000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02f3a162;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000b616,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000020002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01c4f504;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000300030000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x00b89c7e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000020003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x01d217e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9ffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200020002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x008475cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000020001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01a8ec15;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200010000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00e76e4e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000100010003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x00fe9af3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300010000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03bafeac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x02b39c72;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200030001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02e49112;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6140001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200020003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01a41efa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000100010001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x00d1d3ab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000000020000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x0296a447;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002b616,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100030002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x039cc385;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000020000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010000);
 addr = 0x01efd794;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00cf525b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300030001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x03ac8eda;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100010002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x00f03679;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000100020002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03bf894e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000000030001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x0092c4d4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000030000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01e49e61;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200030000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03a98b24;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300020000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01f14587;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000300010002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x0191060a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000000000001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x03fe0993;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000100000000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x01f6e35d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300010002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x0384d9f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300000003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x019f8c5f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200000000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0388d801;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300030001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01d91623;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300030001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02c30ed3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6140003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200010003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x01ee6e06;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000200020003);
 data_in_bv.set32(0,0xfffd0002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x03ee6e33;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300000000);
 data_in_bv.set32(0,0xfffd0002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x03ee6e6f;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000000003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020002);
 addr = 0x00a958e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300020002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00020002);
 addr = 0x0393ef50;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300020003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x00c8480e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000030003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x03bd23fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01b435cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000000030001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020002);
 addr = 0x01f730a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000000001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x01a33999;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000100020001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x01a07058;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000000010001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x03995fb4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200030003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00e8b1fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100010002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfff90001);
 addr = 0x01e8b1a0;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0392211d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000000010002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030002);
 addr = 0x00e2483b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000000010003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03c0eef1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000010003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00d690bd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01f8bf42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300010002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01998254;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200010000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02da057a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb6170002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300010003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02853954;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6150003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300010001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x03f6097c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300010002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x029938a0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002b614,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200000003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x01cf9075;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000100010003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010001);
 addr = 0x00f8b3ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000100030003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x0388d183;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300020003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x01f7901f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000000000001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x02dd4bc6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002b614,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100000002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x00c2fa6f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200010002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01d85f8e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000000010001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010000);
 addr = 0x0298ae52;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6160003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000000010001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01de5962;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000200030001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03daaf7b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x03e2b8de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300000003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01b6ccc3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000000000000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02ac2f3b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6150001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000100010002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00020000);
 addr = 0x01f5fde2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000300020003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x02e4cb19;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6150003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300010001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x0390c842;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200010003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02a842a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002b616,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100030000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030002);
 addr = 0x028da2f3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb6170002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000000010001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03b2200c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200010001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00e8c4f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000000000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x00a6166c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdfff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000000010003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00020003);
 addr = 0x03e0682b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300020003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x018d3a09;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000000001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x0290cadb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6150003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300010003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02e46dff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000010000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02b96d41;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002b616,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000020000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00d24d14;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300000003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01c84800;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300030001);
 data_in_bv.set32(0,0xffff0000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03c84821;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100030002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x00a6d6ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000010002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x03ec12cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300030003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010001);
 addr = 0x009a4870;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100010000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x01efd41d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000300010000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00020002);
 addr = 0x0397e1e0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000010002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01b90906;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300010003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x01b5781f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000100010001);
 data_in_bv.set32(0,0xfffd0002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00b57872;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200010003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x02aff30a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002b614,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000030000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x038dcb02;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000100020000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x0198c254;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000200020002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03a3c513;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000200030003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03c8ba42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300010001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01ee6836;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000200020000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01b111f1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000100010002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03d69edd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000100030002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00ca231e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100020003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01fa09e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200000003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x028d1455;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6140003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100020000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02a9f483;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002b615,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100020003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x0398872e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x03f947f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300020003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x00db2961;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdfff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300010002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x02a0a6ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000b617,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300010000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03fab3bf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200020003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x029a9601;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b614,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000100020003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02c1e2a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003b615,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100000003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01cc3b78;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00862e14;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100030001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01f6a1e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100010002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x00b69d5f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100010002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00020000);
 addr = 0x03aab392;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000100000000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x02e393d3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6140002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200030001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x03e8f040;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x009e2c4f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100030003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03dc40ef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000100020002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x019a9871;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9ffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000300020002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01f35231;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000100020000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00dbe160;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100030001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01a8a2c9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000100010000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00adf2eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdfff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200030003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x0089ff5a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300000000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02daffa6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001b614,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200020003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00f5fc16;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00fd68f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000020001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00e9e087;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300000002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01c702d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200030003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x0189c328;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000000020002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x03cb2900;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000100020003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01e4eaef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200030000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01b355f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9ffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000300010000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00ad594c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100010000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x03a3c53d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300000001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01f5a332;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000000020001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01eae14e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000000020000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00a5dac1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300030001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03b72827;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100020000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01fccc81;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000300000001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01cfd4fd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100010001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x01c67b89;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300020003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00020003);
 addr = 0x03ccd82c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200020000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02bffd54;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6140003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200010003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x0193dd87;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200010000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x028a49ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002b614,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000010003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x02e9527c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200030002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01c312c0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000000030001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020003);
 addr = 0x03edf374;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000010002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01d61116;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200000001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x02fdb83e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6150002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000020001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00e18114;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02805a42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000b617,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100020001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03908d68;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100020001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x0294a752;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6170002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300010000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00020002);
 addr = 0x00e43b15;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200000002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02fec12e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000b616,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200020000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01928a7c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000000030002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x9fff0002);
 addr = 0x03928a55;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300030001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x03bef472;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000010001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x03c315d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000000030000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x01f3f7c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000100030001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x029e0fe7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffb614,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200030003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffffb614);
 addr = 0x009e0fe6;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x0393fe33;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300030000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x01918378;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000300030000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x02e4b114;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6170003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100030002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x00af9d34;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000030001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00020000);
 addr = 0x00a72869;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000200010003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02d7f4c0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003b616,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000030000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x038a26c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000020000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02cb36a6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003b616,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100030000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01d08a68;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100010001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x02b969f3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100030003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x0293f101;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b615,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000100030001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x03f376db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300010003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x02cb1353;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6140001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300030002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0xb6140001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x00cb132d;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6140001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200030001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x02bc4b43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002b616,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000300000001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01943b56;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000200030000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03f91990;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300010000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x03831893;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200000001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x038a7f18;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200010000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x039e5acc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200030003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00dc40a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200000003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x01b06fda;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000200030003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00c51071;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000030002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03ec0f5e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200020001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x03c5460e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000100010002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x009b7539;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000100000002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02f55c54;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6140002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200020000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0xb6140002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x01f55c62;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6140002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000020003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x02bdfc53;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6170002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200000003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02f79cde;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6160002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100030003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00020003);
 addr = 0x009d6fcd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000020000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x01c17cdf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200030001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x01c34c13;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000300030003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x01d11f4a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000000030002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00953426;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300020001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01f7a741;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200000000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00ffc8ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x028cca83;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b617,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300000000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00ce490c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x03899500;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000000030003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02bec50a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b617,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200020000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03e81986;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100030001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x03d74a15;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300020002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03b35d3d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000000000002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0195080c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000010002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02ce61e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000b614,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300010002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x039b7c23;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000200010002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030002);
 addr = 0x00ecdf05;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000200020001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0393ccbb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300010002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03c18a1a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300000002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0097d5f2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300020002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x03f160bd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100010001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x02f3ea63;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002b614,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200030003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01e5514a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000100000001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02a379de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6150002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100030002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x008836c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300020001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x018322de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000300010001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00cb1c47;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200000003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x02f00bd7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6170002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100010002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01883280;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200010003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x00ad46e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdfff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100010002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x01e4b6f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9ffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200030001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02c08e63;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffcb617,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000300030001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x00fac9be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000100010000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x01af934d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200030000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00ed7148;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300030001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x01c997ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000200000002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x02d7e89d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6150000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200020000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02b201dd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6140001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300010002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x02bccd32;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6140001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200030001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x039a043f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300010002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x0192d39c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000200000003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x03983256;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100000001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x02a5154f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003b615,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000010000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03ef9485;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000030003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x02f7ed11;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6160003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200030000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01e62677;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9ffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000000000001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03920fd9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000000020002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x01d103e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9ffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200010003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x038bc6d7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300000001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x0388aa72;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300010000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x00f727e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100030000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x038380ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000000002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x0283f901;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002b616,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x009e08c9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030003);
 addr = 0x0091ab54;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000000020003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01c2264c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000100030000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02e425e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffb617,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200030002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00dd5866;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffcfff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01b7fbab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000200010000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x01c96ec4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200020000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00d2c5d2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100010003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0299450a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003b615,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200020001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020003);
 addr = 0x00d08d5b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000000030000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x02a33cb1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6150001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000030003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01dade65;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x029e2b39;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6140002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100020001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01cf82f8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9ffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000100010001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01b2e335;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200030003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x0283dba3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001b615,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01ee4a52;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200010003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00a521b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200010002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x02920af0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000010003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01cd600c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000300010001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x028c733f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6140002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100000002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03917d2f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000100020003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x01893c05;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000200030000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x03e70597;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000200010003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x03aa7e7b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000030003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x00d68af9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300020002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x0281cd60;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffb614,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200010003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01d82fc4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000000030002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x00bc0056;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300000003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x03fec4f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200020000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02a4658f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002b615,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000100010001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x03ed7da9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100030002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x00aa76d2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300010000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02bdbfc0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000b617,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x019dc84c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000100010001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x02cea657;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6170002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000030003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03f48e15;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300000002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x02ad8ae8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffb616,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200020003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00dd2f32;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000010003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x03c11855;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200030003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x01a56a42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000300030000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x02936862;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffcb614,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x00e6131c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200000001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x03ecbd8b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200020002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x0394da01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300030002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03d16317;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000100000000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x008f89fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100020000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x00ddbebc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200010003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01c75ce1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000000020000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x018813e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9ffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000000030000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02b21428;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003b617,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000300020003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03b6961d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100020001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x00b5c1f3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000000003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x00e5dc81;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300020000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03f1fd8c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100020002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x008f99c3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000020000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x00f61164;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300010002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x03cca831;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200010002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03cb30ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000000030000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x00ab5c9a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000100020002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02b30d61;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003b615,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x01e765ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200020002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00fcbf0f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000010000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00885222;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300010000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02ff70c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000b616,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100030003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x02c82683;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b615,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200010000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03ed54a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300010002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x03a93ade;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100010003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020002);
 addr = 0x03fa9c51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200020001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01981fba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000000010001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x02d1d3af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000b614,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300020001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02c3e084;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003b614,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02eeb2ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000b614,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200030001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x0389b333;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200010002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02de0a20;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000b616,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000000030000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00ec1ae4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100010002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00020000);
 addr = 0x00ff04bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000100030000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x02f4af0e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003b616,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000020000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x00ab4a57;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300020003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0xfff90002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x00ab4a01;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200020000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03bf62ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200030003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x00f0bac7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000200030003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03a8b89c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000000020001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x02f37a2b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001b615,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100030003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x03e5c0c9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100020001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02ae8958;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6170003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100010001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x00d95e0a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300010001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02cd933a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6140003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200020002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x0195c0ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000000030001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x01dc9045;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000100020002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01b9200c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000300030000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x02d38bb0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6140002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000000002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02e55ff4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb6140001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200020002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03ea9dbb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000200000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x00fe5b03;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000000030003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03c069d6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000100020002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00c069d0;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000200010002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x03961f2b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000100010001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01f6b4c3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300020001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x01aef932;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000300030000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00020002);
 addr = 0x02e94b7c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb6160002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100010000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x00de57e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffefff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300030002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x019ab607;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02b3e564;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000b616,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x01f9d364;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000100000000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x008e0c61;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000100010002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00e0471c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200020002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x03f0d077;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300010001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01b54f66;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200030002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x01f83408;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000030000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x00f61643;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000030003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x00fb7fd0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100020003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03d72b5e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200000003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01d8cb2e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200010003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x038e0133;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x02a6c41e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6140002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200020001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00cb80c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100020003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x029d0ad7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6160003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00891e15;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100030003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x028c461c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6150001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200000000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02ca0f83;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b616,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x0185eb76;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000200010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00010001);
 addr = 0x02f424cb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000b617,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300010000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03bb7501;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200020003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00ff675a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100010002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x00c6fe64;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300030001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03a1f8b5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000100000000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01d21d75;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000100030002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00df8870;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100020002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x01b8c037;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000000030001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02f34b7c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb6140001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000100000000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01a8ffdf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000100000003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03fa1c4a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000030000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00ce47db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300000003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x00e095f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300020000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03e5d332;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300030002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x03a830dc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000010003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x02af4249;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002b617,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200010000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x00aed10f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300020003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x00b68d27;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100010001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x019ff92e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000100010001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x028309de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6150001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200010000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01ee51a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000000000000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02b1e254;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6160002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100020000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02dbf901;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002b615,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200030002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03963512;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000030001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x02c74524;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000b617,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100030000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03fb98c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200000002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x00db35b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300010002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01c891ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300000003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x01d59c6f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000200010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x0390e501;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300010002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00f9122f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000100000002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02bd6317;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6160003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03f67cf1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000010001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020002);
 addr = 0x01ab30f8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000000030003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x02aab1a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001b616,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000020003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x038a3f59;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x009cd233;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01d57df4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200020002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020002);
 addr = 0x0393ff95;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200020002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020000);
 addr = 0x008aa079;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000100020000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x03a51c28;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100010002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00b9272c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200010001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x00adc8c3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300000002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03ef49ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000000020003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x01a31428;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000100020001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x0094f9cf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000100030002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00e4212d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000020001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x01e9c09c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000200010002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02d8c8da;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6170002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000010003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03f1cac6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300020000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x0296868d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003b616,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300010000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02ba9135;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6140003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01c392e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00010000);
 addr = 0x02a509a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002b615,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200030001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x03f60373;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300030001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x029a777f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb6170003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000000020001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x01d667fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000300020003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x02b7a42e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001b617,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x01f261c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000300010002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x0293c964;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001b617,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300000001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00020000);
 addr = 0x018d2ee3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200020001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03a57137;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00c74cfb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300010000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03d55b05;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000020002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03c2fdbb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000010003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00020003);
 addr = 0x00a8f1d6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300020000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01fbf637;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000010001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x01800638;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200010000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03d2326a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000010003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01dbf358;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x02b83474;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x0280fec1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001b616,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x03bd49ab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300010001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x00c3de6a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000000030002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03ab8edb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000020003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00ab8ecb;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000000030001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x01b0a9a5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000030001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x019c2e42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x02c32409;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b616,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300010003);
 data_in_bv.set32(0,0x0001b616);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03c32476;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b616,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300020003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01ca1b77;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000300030002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x00919a54;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000200010002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x01a30f26;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000200020001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02d736cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001b615,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200020001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01d05aee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000300020000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010002);
 addr = 0x01a50f66;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0000000300020001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02a6cbf0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb6170002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000010002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03a821c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100020001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x02ef297a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200000000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00b476dc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100010003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x02be8da6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002b615,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100030000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00f4e1ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000010002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02a1baa3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002b615,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000020003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03d415b0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200030000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01d62e64;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000200000000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x0287141a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6150000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000000020002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x00bc84f2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300010000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x01dfe33f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000020001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03cc27f1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01ca74dc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000300020001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03c1dcb4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000200000001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01f28f5c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000200030002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01da1205;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000200030003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x03b67223;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100000002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03e9603f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000300030000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x01dd3e76;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000200000002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03ba7e70;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000000010001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x02e2ba76;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000000010003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00e2ba4c;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000100030001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x02994578;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000030002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x01ea9fd9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000100030001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x039bdad4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000300010002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x03fef546;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100020001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02d025f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000020002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x03f4331f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300020002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x008504fd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200030000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x00a07288;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002fff9,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000100010000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x019920b6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000300020002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x038b0a7d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000100010003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x00d1f356;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000300010002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01f59871;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000300020002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x02fc87e1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002b617,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200010000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x0281931a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6160000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000020002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01854a0f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000000010002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03dccbf8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000300010001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x008ce2fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfff90001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000300030002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03db590b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000020001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01c0dd82;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000030001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x01afb1e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000000000001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x038b3fae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000030001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02bc7b00;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003b614,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000020003);
 data_in_bv.set32(0,0x0003b614);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01bc7b23;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003b614,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000100010000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x02c65fe0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdb615,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100020003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x038f64aa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000300020002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x02e06f42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003b617,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x009d06b3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000020000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020000);
 addr = 0x00821bc9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000100000003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01c0c2e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000200010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x0399c224;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x00fcfc2b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fff9,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0002000000020002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x038a6e68;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000000010002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x038df488;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300010001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x029da1d1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6160003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200030003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x03aaa667;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000030001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x0188db60;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000000000002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01804005;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000000030000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02d2c7db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb6150000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300010001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02ad3c1d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6170003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200000003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01853c73;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9fff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200030003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01d60f39;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000200010001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x00b61a9e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfff90002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000100020003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02d21978;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000300010002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x00e899e8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200000003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03d1be15;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200030003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03b5d800;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000200030003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x03a698aa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000030003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x0183a11e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000000020001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03ca6b51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000100020001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x01819e5a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000000000001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01fc4ea3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0002000000030003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x03f67810;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000100010002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x029e029c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6170001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200000002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x01d6f736;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000000002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x02c5692c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002b616,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100000000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00e0ef3d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0000000000030002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03f0e09b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200020001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00f0e0de;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200010000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01dbe205;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200030001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03bd9c0c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000200010002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00020000);
 addr = 0x03d909ba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000000010003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x00a74c49;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200030003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x02a3e0f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200020002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x03983e2a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200020003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01b14814;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xffff000200010000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00020003);
 addr = 0x03f6ca58;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100010003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x03b1602a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000000020001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00c386cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fff9,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000100030001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00e61b57;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfff90003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000100020003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01f08ea6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffc000200030000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02bfb361;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003b614,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300000000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x0099a6b5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfff90000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xffff000100020000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x03937ea3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200020003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x02b92c3b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6150000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01bff76e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000100010003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03b7cb0e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0001000200000002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020002);
 addr = 0x02e5526b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002b616,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200000001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x028061e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffb617,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000020002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01bcc196;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffff0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0001000200000002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01f58339;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100000003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03a75fea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffd000200020001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x02be4b38;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb6170003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000030000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03d5704e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffe000100000002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x01dc8da6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000000030001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01e5efb9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
 phv_data_word = UINT64_C(0x0003000100030003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x03a340dc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0xfffc000300000001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x03fea7b7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x01000001,action_out);
 phv_data_word = UINT64_C(0x0003000300020001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x02a3bc96;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb6150000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200010002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01801469;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x04000001,action_out);
// ********** end extracted from log
