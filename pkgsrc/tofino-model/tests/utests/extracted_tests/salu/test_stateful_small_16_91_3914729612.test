// ********** begin extracted from log
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[0], 0xce319e89); /* a=0x2010900   <<salu_const_regfile[31:0]=32'hce319e89>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[1], 0x20a7cb58); /* a=0x2010904   <<salu_const_regfile[31:0]=32'h20a7cb58>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[2], 0x3cdd917b); /* a=0x2010908   <<salu_const_regfile[31:0]=32'h3cdd917b>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[3], 0xf8280323); /* a=0x201090c   <<salu_const_regfile[31:0]=32'hf8280323>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[0], 0xf05cc45c); /* a=0x2010910   <<salu_mathtable[31:0]=32'hf05cc45c>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[1], 0x4b38da4d); /* a=0x2010914   <<salu_mathtable[31:0]=32'h4b38da4d>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[2], 0xd3cb63ed); /* a=0x2010918   <<salu_mathtable[31:0]=32'hd3cb63ed>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[3], 0xcb123d10); /* a=0x201091c   <<salu_mathtable[31:0]=32'hcb123d10>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathunit_ctl, 0x142); /* a=0x20109c8   <<salu_mathunit_output_scale[5:0]=6'h02>> <<salu_mathunit_exponent_invert[6:6]=1'h1>> <<salu_mathunit_exponent_shift[8:7]=2'h2>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.stateful_ctl, 0x7); /* a=0x20109cc   <<salu_enable[0:0]=1'h1>> <<salu_output_pred_comb_shift[5:1]=5'h03>> <<salu_output_pred_shift[8:6]=3'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][0], 0x1cade); /* a=0x2010980   <<salu_const_src[3:0]=4'he>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h5>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h7>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][1], 0xeece); /* a=0x2010984   <<salu_const_src[3:0]=4'he>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h7>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h3>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][2], 0xdd27); /* a=0x2010988   <<salu_const_src[3:0]=4'h7>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'he>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h3>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][3], 0x29c21); /* a=0x201098c   <<salu_const_src[3:0]=4'h1>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'he>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'ha>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][0], 0x590a); /* a=0x2010990   <<salu_const_src[3:0]=4'ha>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'hc>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][1], 0xe927); /* a=0x2010994   <<salu_const_src[3:0]=4'h7>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h4>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h3>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][2], 0x31974); /* a=0x2010998   <<salu_const_src[3:0]=4'h4>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'hc>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'hc>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][3], 0x2b015); /* a=0x201099c   <<salu_const_src[3:0]=4'h5>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h8>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'ha>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][0], 0x1444f); /* a=0x20109a0   <<salu_const_src[3:0]=4'hf>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h2>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][1], 0x3c317); /* a=0x20109a4   <<salu_const_src[3:0]=4'h7>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h1>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'hf>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][2], 0x11a3d); /* a=0x20109a8   <<salu_const_src[3:0]=4'hd>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'hd>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][3], 0x11833); /* a=0x20109ac   <<salu_const_src[3:0]=4'h3>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'hc>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][0], 0x3b041); /* a=0x20109b0   <<salu_const_src[3:0]=4'h1>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h8>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'he>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][1], 0x266a0); /* a=0x20109b4   <<salu_const_src[3:0]=4'h0>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h3>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h9>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][2], 0x5302); /* a=0x20109b8   <<salu_const_src[3:0]=4'h2>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h9>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][3], 0x2d63d); /* a=0x20109bc   <<salu_const_src[3:0]=4'hd>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'hb>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'hb>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[0][0], 0xcd0); /* a=0x20109e0   <<salu_cmp_const_src[3:0]=4'h0>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[0][1], 0x6393); /* a=0x20109e4   <<salu_cmp_const_src[3:0]=4'h3>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h1>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'hc>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[1][0], 0x36); /* a=0x20109e8   <<salu_cmp_const_src[3:0]=4'h6>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[1][1], 0xc4f); /* a=0x20109ec   <<salu_cmp_const_src[3:0]=4'hf>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[2][0], 0x2a66); /* a=0x20109f0   <<salu_cmp_const_src[3:0]=4'h6>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'h5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[2][1], 0xefb); /* a=0x20109f4   <<salu_cmp_const_src[3:0]=4'hb>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[3][0], 0x2867); /* a=0x20109f8   <<salu_cmp_const_src[3:0]=4'h7>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'h5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[3][1], 0x5c15); /* a=0x20109fc   <<salu_cmp_const_src[3:0]=4'h5>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'hb>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[0], 0x6c); /* a=0x2010920   <<salu_output_cmpfn[3:0]=4'hc>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[1], 0x6e); /* a=0x2010924   <<salu_output_cmpfn[3:0]=4'he>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[2], 0x60); /* a=0x2010928   <<salu_output_cmpfn[3:0]=4'h0>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[3], 0x67); /* a=0x201092c   <<salu_output_cmpfn[3:0]=4'h7>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[0], 0x67); /* a=0x2010930   <<salu_alu2_lo_bsrc_math[0:0]=1'h1>> <<salu_alu2_lo_math_src[2:1]=2'h3>> <<salu_datasize[5:3]=3'h4>> <<salu_op_dual[6:6]=1'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[1], 0x24); /* a=0x2010934   <<salu_alu2_lo_bsrc_math[0:0]=1'h0>> <<salu_alu2_lo_math_src[2:1]=2'h2>> <<salu_datasize[5:3]=3'h4>> <<salu_op_dual[6:6]=1'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[2], 0x25); /* a=0x2010938   <<salu_alu2_lo_bsrc_math[0:0]=1'h1>> <<salu_alu2_lo_math_src[2:1]=2'h2>> <<salu_datasize[5:3]=3'h4>> <<salu_op_dual[6:6]=1'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[3], 0x67); /* a=0x201093c   <<salu_alu2_lo_bsrc_math[0:0]=1'h1>> <<salu_alu2_lo_math_src[2:1]=2'h3>> <<salu_datasize[5:3]=3'h4>> <<salu_op_dual[6:6]=1'h1>> */
 phv_data_word = UINT64_C(0x0001000000030001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x039f050d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000010000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02bbf87d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000000000001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00c370a0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000100000002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x00e6e6af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000100010003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x02c408e0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffefcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000300030000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03981caa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100030003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x00ac16c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000200030000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03e3df01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000200030001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03d64758;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000000030003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x00e7e4e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000000010002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01bc6677;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100030000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x038e2ffd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300020000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01ca4c5b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000020002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x01902804;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100020002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03fdea4e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100020002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x01a55e81;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000300010002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03db8f21;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000000020002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x01e1d53e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x00c0038e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000100020000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x00eac265;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000300010002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x03990eda;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100000003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x01fc0d41;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000020002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x03f0e3ba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000000000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0282079e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200030000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x02eed1d6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100010001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x00a338cf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000100000003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x018e6d3c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000200020000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x01d518d3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200010003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x00b396af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000000020001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00020003);
 addr = 0x03cec6b7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100030003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x03d9e504;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100030000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x03cf1c3d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000100000000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x009ee56a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000000020002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x03c3e790;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100010000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x03ab1ddf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100020003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00e96ef2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000200020002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02bc0a4a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100000003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x00df5612;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000000030002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01b48d74;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100030002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00c4dbd8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000100030002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01bd6c2f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000000020001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x00c2dae4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000000010003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x03b01f57;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000200020000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00010001);
 addr = 0x0091d8fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000100020002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03b208db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000200010003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03e5fe87;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100010003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010001);
 addr = 0x00fd9487;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000200010001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x038ca493;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300020003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x00d3fc56;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000200010003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x03fb54fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000100010003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02fa0905;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300030001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01e5e2ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100000003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x009333bf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000000010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02bc1734;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200010003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x02c030f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100030003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01e65792;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200000002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x0182b3fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000000030000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01d515bf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000100000000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01b89cc3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000000000003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x00b301fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000000010001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x00f3ab7c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000000000002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x00d0cbf3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000000030001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01ef84b0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000300030002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x01d79059;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00acf815;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00a15b51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000300030000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x03bc78db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200020002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x01df8f60;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100030003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x01f31097;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000200020003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03d497c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200000002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02ad7a6e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100020002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01f59b71;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100030002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00de2720;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000000000002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x02f6ce6a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdfcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x02ef413d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000020002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x02c403e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffcfcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200010003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x02c91c88;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000300010000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x01ab536e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200020001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x028245f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200030003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x0099e2ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000100000003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x02f2047e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x018af256;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300010003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x028af27c;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100020003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x00899877;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000300010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01dbd01b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000300030002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x01ea5043;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000300030002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01a1bbb1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000100020002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030001);
 addr = 0x0397854c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100020003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x01e3c04c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x00bf625f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x02bf6210;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300000000);
 data_in_bv.set32(0,0xfcdc0003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x01bf623a;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200010001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02c4a9df;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00db7b14;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000000000000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02cedfcb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100030002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010001);
 addr = 0x0388f8ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300030002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00de12d5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000100010000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03dc4f74;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000200030000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x00a29c37;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000100020000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x0395735a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01a52641;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000000010003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x03bea953;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000100020002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x02fa37cf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200000002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x0291b9ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000020000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030000);
 addr = 0x03f9b1a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000200020002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03c3ae1d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300010003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00020000);
 addr = 0x00b27a75;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000300030001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x02a5bad2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200030000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01e9a9c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100020003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x03d81b34;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000020000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x03f2be73;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000100020002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03fa07c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000000010003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00030003);
 addr = 0x0394c058;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000100030001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x0292c2c3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000000010001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x0003fcdc);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x0192c2e1;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300010000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01ddd3af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300030003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00e5113d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000200010001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x008ce5ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000100020002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x00bb8ca4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000000010000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x02c34941;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300020001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x01e32289;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100010002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x02faeb8b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200020000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01cb7bb4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000200020002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x038427e9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000200030002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00c30e9f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0096b456;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000100000001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x02aff9ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdfcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200030002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01aa2d68;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100010003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00030001);
 addr = 0x0088ad8f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000300020003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x00ac755c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000100000002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x00e5ce94;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000000010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030003);
 addr = 0x009a7285;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000200000002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x02a669ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffefcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000300030000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x00a220e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000200020001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x01c0dee1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03ea0480;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100010002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x00d6409d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000000030001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00fb7fde;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000000020003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x00e48f62;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000200000002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x0091236e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000100020000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00010001);
 addr = 0x03ff7470;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200030003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x019e36d0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000300010002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x03ace396;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000020000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x02c26581;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01cd0213;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300000002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x01f792e0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000100020002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x00deff89;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000100000003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00ae4d6d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000200030001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x008eae1b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000000020003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03c575f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100030001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00010002);
 addr = 0x01c3c4a8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000200010002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x00b81ee9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000100010000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x02c48057;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200000002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x02dffb6c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffcfcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200030002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00efa2da;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000000010003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00be9b4d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000000010000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x038457a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000000000002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x039bf74a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x01a14eca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000200020000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x0093bf32;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000100030000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02e2de82;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200030001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x008ec011;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000300020000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x01acd604;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100010002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0092cc84;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000200010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020003);
 addr = 0x0085cbec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000300010000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01ae9d80;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100010001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01c20436;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02c4e361;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000020002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x00c0a15a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000300010000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x00960edc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000000010003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03f76e74;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000300020003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x01f61146;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000100010000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x02e8c452;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200030003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03f512a5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000300020001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x00d77343;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000000000001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x03d7732d;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000010000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x03cab084;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000100020002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02cfb97e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100030000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02b4c455;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300030003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x01cca963;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000300030002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x0196b4fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300030001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x0096b4bb;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000300010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020000);
 addr = 0x00b9aea8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000000010000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x00c78ad4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000100010000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x0094499d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000000030000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x03ffd8d6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000000003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x009de43d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000100020002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x02ca1554;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00aa6a6c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000100020000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x029f5153;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000100000001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01a61fdd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000000000003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00020002);
 addr = 0x038e39b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100000003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03f91011;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000030002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02c7e66a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300000003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x00d83932;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000200030000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00020001);
 addr = 0x0191ca7f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000000003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x00f34b6c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000200010001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x038cb642;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000100020001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01fdca9e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000000001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00df37d5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000300020002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00af08c9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000000030001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x029d3fe6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffefcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000000010001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03e8dde2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000300000001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02f7d67b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100020000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x00802a7b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010002);
 addr = 0x02ae3886;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x0291d526;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100000001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x00c099d9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000100000002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03a87e94;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200020003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x01b312fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000020001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x0092fbb4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000000030002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03ddc90d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000300030001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x00fbd2e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000100010001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x00e9eeaa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000300030000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01d8bb72;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200020002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x0195da37;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100030002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01948cc2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100030002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x029e6ea5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x0390f92d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300020003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x00a3c26c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000000030003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01a46eef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100030003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x01990333;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300000002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x01c14acd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300010001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03c14a8d;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200020000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x02c6e070;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000030002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010000);
 addr = 0x01beaade;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300010000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02ee214f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00020000);
 addr = 0x00ea1795;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000100000002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x01bb4784;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100000001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01daf9b5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200010000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x029c5921;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100010000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x02833404;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000300010003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03bb1cdf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000200000003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00b1585e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x02a5389a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100020003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02994f01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300010000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01f112b5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000300020003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x00bc400d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000200030000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01894c85;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000100030001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00d848b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000000000002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020002);
 addr = 0x01bd8bbf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000300030003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03a06e08;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000100000000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x03951f01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000300000002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01ec8a9d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300020000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02c5bf01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100010002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00c0612b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000000020001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x01875440;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300020000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x00875471;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000100000002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02aa202a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000300030001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00ab7e6c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000200010001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x03d7e363;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100030001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00020002);
 addr = 0x03de6416;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000000030002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03e3ed55;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000030002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00020000);
 addr = 0x01bed505;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000100000001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03d00c51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000030002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x0184ead0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100030000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00b3383a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000100000002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01a23b62;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100020001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00afa0ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000200020001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03c0109b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020001);
 addr = 0x00dc9eec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000100020000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03b3f21e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020001);
 addr = 0x0392679d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000010002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x029c04dd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200000002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x00d8936c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x02fe5bc4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100000001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x02f269a8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100000003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x00ffbdc3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000200020001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00a28f2d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000100010000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03fbaa80;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x029f5ac9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200020003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x029b23a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200010001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01eebe42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000200010000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03ea057f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000000000002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01949629;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200030000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x00b2cc70;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000100020000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02c7b756;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000020000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x01a282ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000010003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x00834810;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000300030002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02c1f791;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100030000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x029a2982;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000300000000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x01ded7cb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02f66a04;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100000003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x02ae2f02;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03fbe5da;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000300020002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x038925b2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200030002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00020000);
 addr = 0x03dd7ecf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000100010002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x02ff345d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200030001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x00bca97d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000000020001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00e05e31;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000000020002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01a28733;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000000002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03d96f09;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200020003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03bcb93d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000000030002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x01f42e9f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200030000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010001);
 addr = 0x00f8bc28;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01ea95be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000200030003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x00a853db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000300030000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x01b8f092;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100030001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x029f539d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100010002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x02ed3e6d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200030002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01fef58d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000200000000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x00bfb1c9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000300030003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x02bbdef9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200030002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01de8816;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000020003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010002);
 addr = 0x03da3494;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100000001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x02ab0bfd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000000010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x00f9b947;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000300020000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x0393d2c5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100020003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x02a23c8d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100020002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x03e27aeb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01d27d99;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000000000001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x01feaa16;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200020002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x01bb924f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200020003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x03fac1df;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000000030001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00f1d19f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000300000003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x0090f5ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000000030002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x00f49ad5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000000020003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00dc713c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000300030000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03ca81f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000000010002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x03cc6256;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200030001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020000);
 addr = 0x00e28011;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000200000001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x01e11823;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000000010003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x00f06fa1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03adaeca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100000001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00c229f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000100030002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x02a697e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdfcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000000003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x02cfb966;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdfcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300020000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x03953772;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000010002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00020000);
 addr = 0x0195374c;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000020000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x03ba6e63;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000000000001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x01a5113b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000000010001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02c2f987;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x0294d005;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00d3b3c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000300020002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x00e5b215;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000000010003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x03fc1903;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100030003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x03cc1188;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000300000000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x02c7505b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000300010003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x01a71429;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100010001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02d76d14;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000010003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010001);
 addr = 0x03d050c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000200010003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010003);
 addr = 0x0194a990;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030003);
 addr = 0x03888412;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000200020000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x03e1d513;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x01876791;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000300000000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00fc2099;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00812b3b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000300020003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02e602b6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000000000002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x008762ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000000030003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02bbd41a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100020002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020002);
 addr = 0x00dff9fd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03c771c3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200020002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00010002);
 addr = 0x008c61b8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000200000002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03b132e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200010001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03f5f36b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000100010001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03a46dee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000000000000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x02aba504;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000000000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x01d8f4b2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300010001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02ce1f3b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000000002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x0185d282;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100000000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03839390;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000200020002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x03c92f2a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000020003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01cc6996;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100030003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01fcf6b5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00010001);
 addr = 0x029057bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300030001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02f9e7ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100030001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01dad8c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000030000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00ad923f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000100010003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x0282bfd3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300010001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03d3775a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x02bfb052;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000030001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00c5557f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000000000001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x00e4b8c2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000200020002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x02e4b8ab;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100000000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x028a2881;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200010003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x03ad9cc7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00fe58e8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00cbd041;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000300030000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00010002);
 addr = 0x0295b659;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000300000001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x03a9028e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000200010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03dbc80a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000020000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x02b840ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200020003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02f9ffce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000010001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00020000);
 addr = 0x03cb503f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000300000001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00d959d4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000200020001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x02f5d057;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100000001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03bc1120;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100020001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x00cde2de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000200030003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x01e0b136;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000200000003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x039b9d14;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200030002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02d88032;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100020003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02c8fcf2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000100030002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x0097fdb0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000100030002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00dfa27f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000300010003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03807fdb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000000030003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x02ff986b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdfcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000000010000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x019b24fd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x029671c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000010002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x0288bf3b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000300020001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x01aacce4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x009a4eb9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000000000001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00fd4cd0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x0189936f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200030000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00030002);
 addr = 0x00f32731;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000200020001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x01db0efb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300010003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x03990188;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000300030003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02965fdd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01c03ef2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01c6718e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x02c41e1d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100030000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01c2ab4c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100010000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01c0a01f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100030000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01eda41d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01cc8be6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000300000001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x038890c3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000030003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03c85001;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300020000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00020002);
 addr = 0x00c0c5a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000200020002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x01d22fa6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000200030001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02a1bd66;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000000030001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x01e456e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000300010001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x02d61b34;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100020001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x0285bb63;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdfcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000030002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffdfcdc);
 addr = 0x0385bb0f;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdfcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000200030001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03cacec9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000100010000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x00e875ab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000300020000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03c06423;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100030003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x00e59d26;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000100000003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01b46a68;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200010000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03cea2fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000100020002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02cb9d9c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100010002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x00af4e3d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000100020003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x02af4e72;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200030002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x01c53c87;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000030001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03e19ab9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000010002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x02d992b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100020000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00d147ba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000200010000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00f63d80;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000100030000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x008ad01d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000000000000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x02ffe895;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000300020002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03ccb2db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000200030003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00ccb2a4;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00d1b7d5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000200020003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x02dae226;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100010000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01c56bc2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100030000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x02c6f73e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000300020001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01973fb4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000000020002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x0382693f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000100020000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01af1ab7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000200030002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01d04716;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100020000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x02b49448;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000300010002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02b24e0f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000000010001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x0289b8ef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffefcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100010000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x03a1984a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100010000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x008fb39c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000100000002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x00d156a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000100030000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x03ad3eef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300030002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01a276d2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300010001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x03d90432;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000300020002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x02d90402;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000030003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02d08aab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200000000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02fccdc9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01d899b6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x03a9de80;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000200030001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02984ce9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffefcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x038194e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000020003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x00b9e7e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000200030003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00010001);
 addr = 0x03d4d107;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000100000000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03a8c2f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100020003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01e9fafa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000200010001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00f9fb73;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000300030001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x02e49d26;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100010001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00babacd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000300020003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x01e7c05a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000300030003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02c65d98;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100020002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x02836bed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdfcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200020002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x009dec5a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000200030001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x01b2b6a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200020002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x0398dcd4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00d317eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000100000001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01890d7e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100020003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00870e2a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x00986d14;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000200010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x028efc56;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100000000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00030000);
 addr = 0x018a8143;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000030002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00020003);
 addr = 0x00f32316;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000200010001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03f2353e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200010001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00aec931;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000300010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x01f86995;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000200010001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02ef8538;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100030002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00020003);
 addr = 0x03b7a326;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200020003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01feb982;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100010000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x028dc933;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300010002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x00f2b2d3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000000020000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x00c65acc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000000010003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x00989447;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000300010000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x00948cda;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000300020003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x028cba4e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200000003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02f14029;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200010000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x0002fcdc);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x00f1405b;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000100010000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x03893db5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300020001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x0388f7c0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000200010002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020000);
 addr = 0x01ea340a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300020000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x018091ff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x02e44ca4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000000000001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x008ad346;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000000020000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03d7c273;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100000001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01d07b13;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100030000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00020000);
 addr = 0x01de72d1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x029a016b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdfcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200010001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03d6a0fd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000100000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x01f50603;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x02889100;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000030000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x0193258a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000300010003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010001);
 addr = 0x02bcd581;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100020001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x02b1ac0b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000010000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01d2b349;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01d2b304;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300010002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00010003);
 addr = 0x0390b7e8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000100010001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x03881d4a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000020002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x03881d64;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000030000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x03c19931;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000030000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x03c4a18f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000200010003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x01aa2cd0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000000010003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01a20434;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100030000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x01d4146f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000200020000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020000);
 addr = 0x01a5a055;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200030002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03e3ec5a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000300000000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x0299c47a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300010001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x03ae8342;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200000000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03a87620;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300000001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x03bfc5c5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300030000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01faeb23;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000000030002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01e3441f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000100030000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x02afe904;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000300000003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x009b4104;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000300030000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x00c9d6cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000100030002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x02dfcf13;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000030000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03e76477;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000010001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x03f78345;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100030003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x01d1acd5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100020001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03afb3d1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000300030000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x019e1daf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000200000002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02c187e0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffcfcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00f61d07;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000000010002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01f1fcd1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100000003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01bf1779;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x03f133ad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000000010000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x028d5838;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000100010003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00020002);
 addr = 0x00cbe726;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000300000002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x00820e60;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000200000002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x00d55374;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000100020003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x00afc0fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000000010002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x03aa0041;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100030003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x00b8afb8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000100020002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x03cb6600;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100020000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x01865d95;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200030002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03a7f103;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300030002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x01c5e5dc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300020000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02a7753d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100020000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00bc7d95;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000100030000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x03d6605c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000000030003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01ec3bee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200030003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x02c3abf0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000000020002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x038831b3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000030002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01abe6de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000010002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01abe6b3;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200010000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x0181fcb3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300020001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02f1cef1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000300000002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010000);
 addr = 0x01b443e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000000030003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x028be230;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000000002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020000);
 addr = 0x01c63dc7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000100020001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x039289a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100030001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x00e9e90d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000300030001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030002);
 addr = 0x0288c35a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100030001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00a7b2a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x00fedd60;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000300000001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x02be220c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000020002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02dcb053;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x00adb043;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000100010002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00b36366;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x01b4b6bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100010002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x00b4b6e5;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000100020000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02a654ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000030002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03c694bf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200000003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01888709;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000200030002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02ef4c1f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100020002);
 data_in_bv.set32(0,0xfcdc0003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01ef4c61;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100030002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03c5c2fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000000010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02e703f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000000030003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02ab9a68;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200010002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00f176ac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000000000003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x01ee9c22;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000200000002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x02ee9c15;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000010001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01b1eb16;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300030000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02b1eb57;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300000002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x01abacf2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020003);
 addr = 0x02cf802b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300020002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x00c15b94;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000200020003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03f4893b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200010001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00c9d7c0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000200030002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02d544b5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300010001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02dbd77a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200020000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x03981187;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000300010001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x02d54677;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300020000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00020000);
 addr = 0x03ba972a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000200010000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01c15c95;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000000030001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02e83fd5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200030001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x00fd62ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000200020000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03c6847a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000030003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02d80801;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x02d290a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200020002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x01b7360c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200020000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020002);
 addr = 0x019565d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000300020001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02e73661;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000010003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x01b43c25;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300030003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03aa5c06;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100020003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020002);
 addr = 0x01cd8e1d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000000010001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00812c94;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000200000001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03f0bd54;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03c3de50;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01c3de1d;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02a307a8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000000010003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03cf4e42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000010003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x018dc058;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000000010002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x03ed79de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200030003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030001);
 addr = 0x01903ba0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000100010000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01aa11d2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03e6467e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000300020000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020002);
 addr = 0x03e297f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100010003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x03fd0ba5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100010001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00020002);
 addr = 0x00a67ee2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000300020002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00ed151f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000200010001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x00d36268;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000000010001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01cc1004;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200010000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x02ff56d5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100020000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01ccd429;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000000030000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x0283e1ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000010002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x00a5d6c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000000030003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03b326f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000000010003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x0092aed0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000300010003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x02d7ab11;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000100020003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03b070e1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000000030003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x0197058d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100000003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02cb109b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300010002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x038af645;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300010003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01d427eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000100030003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01d427ce;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000000010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02abbdb6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300020002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x00bc8064;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000000020000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030003);
 addr = 0x02c792de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100030000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x0186a63e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000300000001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020002);
 addr = 0x02d0ff6f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200020001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020003);
 addr = 0x00ed94af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000200020001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03b02557;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100020000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02eb4273;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000020002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x0088e7f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000000010003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x008901e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000100010003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x0282c81e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300030002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010001);
 addr = 0x0094b81e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000000000000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x00fd7c18;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000100030002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00c9c198;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000200030003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x00ceaf8c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000100010000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x029bc0fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300030001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x03c7c02a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100010001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020003);
 addr = 0x00c0f34e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000000020003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x02f78de5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000010002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03d7df52;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100020000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00dcba25;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000200020002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x009c00f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000000000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x03c9c7fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000200010003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x00e0a5af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000000030002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x01967efc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000300010002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x0295d4eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffdfcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03f63739;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02edf5c9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000300000001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01d53ffe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200030000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01af9dd0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300010000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x0380499f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000000010003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x0191aca8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200030002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01f9e2a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000100020001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01aff659;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100030002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01bb35f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300030000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00946843;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000000030002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03cd1bb4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000100020000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x03fd203b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200000003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x038ce06e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x02b12602;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100010003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01d80fb9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100010001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x02d21339;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300030000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01e1a1cb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000020002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x01876a5a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000300010003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x0183870f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000010000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03e0c9f3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000200000002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x02856d71;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000300000003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x01a31a43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100010000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x00cef420;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000000010002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03d01d3f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000010000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01d01d1a;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000200000001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x01e66ef7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000100030001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00f35689;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000200030002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01f21357;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200010000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x00b44b9c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000200030001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010002);
 addr = 0x02be64f2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000300030002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0391451f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000030001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x0190c541;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000100030001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x00b14afb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000100020001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01a102ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00a10289;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x039fd34d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300030002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x0381890b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200030002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00d4dc77;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000000030000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x01f5183c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200010003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01e47309;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000200010001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x03c497fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000000030000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00020000);
 addr = 0x02f2fe10;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000010001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01f9d9db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300000001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x0181860a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000000000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x02a3b898;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000010003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x03ba1a64;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100010003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x008f8fb7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000200000003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x01b1800c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200020002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01a5bf7f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100020003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02ae8586;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100000003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x02fd62cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00fcfaae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000100020003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x03d78c05;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000200030003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03c51062;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000020001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x0080efa2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000000020000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02a7e410;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300020001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00db4016;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000100020002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x01874ad5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01a3797d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100020000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x0290b0cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300010000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01d023cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000300020001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x02a626d3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300020003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02b23b40;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200020002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x01f83286;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000000003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00b8f6e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000300030002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x009d591e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x009c607a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000200020003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02eb1edc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200030000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0xfcdc0001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03eb1e86;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000000020000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x029d4eea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000010002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01fe16a0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300000001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x01a38737;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000200030000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x02a3874a;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200000001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x01c70bb2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100030000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x03e7c376;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000010003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00aaf86f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000000000000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00ff80ba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000100000002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03b51243;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300010003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x018180e9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000030003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01e729c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000030002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00020002);
 addr = 0x00bc1abe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000300000002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02857c05;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100020002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x039a7a1d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200020003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030003);
 addr = 0x02d01dd5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000010001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x028d5f9a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200030003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03bac958;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300020003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x03ac0f9d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000300010003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01d4cb21;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100000000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x03d40305;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100000001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x03d87ceb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000300020000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x00bc8d93;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000200010002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x039d4443;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000000000002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x029d4439;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x00f656e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000200020003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01cddb80;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000030003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x01dc2a78;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000200020003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01d75b4f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000010000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x02c6fdc6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100010003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03e7dfa4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100030001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x03dd893b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x008de5db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000200030000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x028de5fd;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100020003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x03ef708d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000100020000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x00fddd6e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000300000001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x00e0530d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000200030001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x02b5e295;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200020002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x0081fd53;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000200010001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00010000);
 addr = 0x02ea74a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200020003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00ed8c3d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000200020002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00fe001a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000100020001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00020000);
 addr = 0x02eabada;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000010003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00ea5ab9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000200010000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x0084bfbe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000300030002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00a750a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000100000002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x00da3558;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x029a008e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200030003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x00dc80a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000000010002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x01dd874d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000020001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x03dd8709;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000200000002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x03dc7040;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100010000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x01b7a3ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000200020001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02a66548;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x02932efb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200000001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x0295ccf3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200000003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00d3fb25;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000100020000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x02d3fb0d;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300030000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x0393a1a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000200010003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x02d587f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x019f6272;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200000003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02e0d85b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300030002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x02e7fab9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000030000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02f0cfe4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200010003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x00f81709;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000000020003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x00a0597c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000000000000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00b902a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000000030002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x01dce20d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0092b811;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000100020001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03da5055;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000000020002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03bdeb5c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000100020001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x00e00a3e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000100020000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x02dde4f3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000030000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x008cf023;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000000020002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x01dee5f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100030002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x018813a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300020003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x02a25f21;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000020002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x01c69cf7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000200020002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x02c0dc69;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300010003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x0189c1be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000100000002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x00fd978b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x01d1e85b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000000003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x01b40ebc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000000020001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x039da632;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000300010002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03f462e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200030003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x0186c3b8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000000010000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x03cd340d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300030003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00fe1cbb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000000010001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x00e092b8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000100020000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00020002);
 addr = 0x008e0bd6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000200020000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00c020a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000200020002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03cc9a63;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000300030000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x02fb46fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300030002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x02ac06f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000200010003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01bbc0c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000200020002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x029251e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffefcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300030002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x0281ccab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000010000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020000);
 addr = 0x01cd2bf5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000300020000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x02810b27;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100010001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010001);
 addr = 0x008460b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000000010003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03d202db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000300020000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02ade0cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000300020002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030002);
 addr = 0x0298e7d9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100000003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03ff21c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200010002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x03da1270;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000020001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x00c7e61e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000200020002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x03e10818;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100010001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00df6b38;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000200010000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x01fa4a56;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000020000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03f60587;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000200030001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02e2bad5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000000030001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x03a8cff7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100010002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01c1375b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300000003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x01d393b3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000030001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x038fdca8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000300030001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03e501e8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200000000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x01a715fd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100010003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x02f08fa6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200030002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x0285f648;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000020001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02b85c9c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000300020000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x0195fe74;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100030001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0097430d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000000010003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03f7b648;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200010002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00e17246;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000000000000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x02ac447f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200030002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03bc83ff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000000003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03874b2f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000030002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02d426ba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100020002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x038c9840;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x0182071b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000200030003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01cf45b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300030002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010002);
 addr = 0x01b16b0d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000100000000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x0095ac19;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000200000003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00020000);
 addr = 0x01fbcadc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100000002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x019d99c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000200010002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x008fa4ac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000100000003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03eaf237;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300020003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00020000);
 addr = 0x028b9158;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300010001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x038bc6f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100010002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x028d983f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00e22eb2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000000010001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x03f6d125;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000000000002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03c1c4aa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x02c2ae29;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100000000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00ed8a65;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000000010001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01b69679;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x02cfc80f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00e7a4f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000200020001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010000);
 addr = 0x0280ad53;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200030001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x01d6cc1c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300030003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02b4bce1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200010002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x00c83bee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000000020001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03a71c02;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200020002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020000);
 addr = 0x02c908a0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000000000000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00dcd113;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000200010001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00a7e391;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000100020000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x02dd8b57;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200000001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02ab04eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300000002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x039e06fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000020003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03a59806;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000200010003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00e061d5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000000020003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x03df884c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100010002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02a3ce68;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000010000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x03f9a2b2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000000020003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01fe7a83;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000000010002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x00e4ef89;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000200030001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x0287d864;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffefcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300020001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02f9868e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100020003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x02d19423;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100010000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03c43d21;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100020000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03c43d4d;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200020003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x019a9818;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200030001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00d5be93;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00819be8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000200030003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x038f7bd8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000020001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00020003);
 addr = 0x02ba783c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300020001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x01f5f554;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000000020003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02f8a72b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000010002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00030003);
 addr = 0x02816a67;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100030003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x0381d882;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000000000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01fb005d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300020001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00fd755e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000200010000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x00af307a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000200020000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00af3028;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000200030003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01fab264;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300010003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x0087d606;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000100020003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03e29102;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x00863642;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000000000003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x00865d49;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000300030001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x02d27cbb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000010001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x0285ef9e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100020001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01d0710b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000000010000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02e3e33f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100020003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x039d39d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000100000001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x03b99eca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200030001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01fae0c2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300000000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02c0aa73;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030002);
 addr = 0x039f8245;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100010002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03f56dfb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000000020000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00d768af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000000030003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x01e17677;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000300000002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00b50b8c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000100030002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x02e5cfa7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200010001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01a5cab4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100010001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x02f02b22;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000000000000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x03eabb9d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000200020002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01dabc16;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000000020003);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03dabc62;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100000001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02d70851;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000100010002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x029ae34c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x01b8c2a5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200010001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x00cf7206;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000200000003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x03c29948;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000200010001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01cab473;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100020002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03b4c21d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100010001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00020000);
 addr = 0x02b9c065;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000010001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x00a5cccf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000000010002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010001);
 addr = 0x02eb38cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200010001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00020002);
 addr = 0x03c2df47;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200020000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x039a1fd4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300020002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x00b0218d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000200030003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00ad94ba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000100020001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00ad94b1;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000300020000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x019da593;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000300020002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x039038e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000000030000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x01b31679;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000200020002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00a61da0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000300030001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x02d9a7fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000010001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x029a649c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300010001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x03809ece;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300020001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00d16429;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000100030002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02ce2542;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300020003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x03e694e1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300020001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03e0e0ef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000100020000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03ee2662;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000100000003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x03a9b3a6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100020002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0382a0c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x028079af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000100000000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03dd05c9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000020001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03db7860;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200030002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02db6eb3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000000010001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x03977dc1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000200000003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01edef60;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300030000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03e0e602;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000200010001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x02b6b3e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200010001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x02ec6c03;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000020000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x00f19be2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000000010003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00a58332;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000000010002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03c4c36d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300020002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02842a77;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000030002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03c82f5f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000020001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02a90692;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300030001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00eb1310;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000200010001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01a1e51a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000100030001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x0283ffe1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffefcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000200010003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02aac297;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x03e13cfd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000010003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x02a481ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000300000003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x03e95454;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200020003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03f142fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100030002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x00c6ac48;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000200010000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020003);
 addr = 0x00fcfb79;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000300030002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020002);
 addr = 0x0388db2c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100000003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x03ebfec7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200010002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00b9cb5a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000200010003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01aaa61c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300030002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x03ae5ba8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000000000000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x01e691c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000000002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00b29a34;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000200020002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00020000);
 addr = 0x0199074a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000200030002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x01a1c373;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000300010003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x02ff9fb6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300030002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00a642b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000100020003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x01dffdff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000030003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x03cd33d0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100000002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x02cbe36a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffefcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000000003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x02d68bde;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000020002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02992192;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100000000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x03a0430e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000010003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x018dd592;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x029905c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000300020000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x02a801f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300030000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00d521db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffc000200030001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x0382a2c5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000000020003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01c858d5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100030000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x02b59f7f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000010002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x03f85ae3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000000000000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x029f3765;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000000030000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x00ae9cbb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000000020002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03ae9c96;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000200010003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02d69ce0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300020001);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x03939805;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x019be449;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000300020000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010002);
 addr = 0x01ffed18;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x01912d2f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000000000000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0191ae8a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000010001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01d02daf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000300030001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02abfa6d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100010002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x0289d441;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100030001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x02abf2ad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000200020000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03c27bd7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000200020000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x00bc0aa5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000100030001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02b3bf4f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000100030003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020003);
 addr = 0x02fb2bcd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300030002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x01a84045;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x02c26851;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000100010000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02927262;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000200020001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00010002);
 addr = 0x03f18d95;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000200010003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00030003);
 addr = 0x019f7810;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200010000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00adf684;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000200020002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01dd8fb8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300020003);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01de8cb2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200000000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01d30926;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100000000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x018dfc5b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000000030002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x018dfc25;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000100030002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03c986ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000000030002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x00cb4e9d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000100020002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03f3e539;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000030001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x02a2143b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100010003);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02c11e9b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000300000003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020002);
 addr = 0x00ba6c8b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x00db41e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03ad0bfb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300030002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030003);
 addr = 0x0390e8a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000010001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x02afa1ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100010003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x038d6340;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000100010000);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x02caf2c0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000000002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00020002);
 addr = 0x01f525f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000000030002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x01c596b8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00a71b42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000000010001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01b210c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000100030003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x00cb2288;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000200010000);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01b00a67;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000000030000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00eed2ff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000200000001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x01f4e6f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200020001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01deab1d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000010002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x01c99d8e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300030003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x00a02589;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000100010002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x01e4357b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000300030001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00b52d8f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000300020001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffd0001);
 addr = 0x03a96e2b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030000);
 addr = 0x039aac05;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000100000002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x01e53a2a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000300020003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030002);
 addr = 0x019b2bc0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000200020000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x02d13ae7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300000001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x029c08c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000000030003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00aea5ab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000000010000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00010002);
 addr = 0x038fb1e1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200010000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00020002);
 addr = 0x01d811ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100030003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x0286be93;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000030001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x02929ff3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200030001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02a53cc3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200000002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x02c45197;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100030002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00030002);
 addr = 0x03db30b2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000100010000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x0188a3bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000020003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x009fafe8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000100000000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x00eb2244;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000300000002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01debea2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000200000003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03d62270;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000100000000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0297f51d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300010000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x01ac4ecd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300030002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x008e5f85;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000100020002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0002);
 addr = 0x01d1915a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00020002);
 addr = 0x02939f51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000100020003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00010000);
 addr = 0x02e12542;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000030003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00e7cb9a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0000000300030000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x0392531b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000300000000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x018a2957;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000200030002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03ec267c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000300010001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01e40313;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03f2e1ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000100030001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00020000);
 addr = 0x00c608fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000300020003);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x03ba93c2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xffff000000020000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x03c1b1bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000010003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x01c48204;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000000020000);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x03f35998;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000200020000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x01b0905d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000030000);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00020000);
 addr = 0x02c9b259;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfcdc0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffd000300030000);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x019cec7a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000300020001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x03f145d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0001000200030003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x02d0399e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffc000100010001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00fa2bb0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0003000200030001);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01a0fc43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000200010003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x00cd510a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000100030003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffe0000);
 addr = 0x03d5aba6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000100020002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x03a615ab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000000030002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0001);
 addr = 0x03a4115b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000200010001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x009cdaf8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000200000003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x029bf862;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffefcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000000000003);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03e9f60b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300000002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x03c9c1ff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000300010001);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01bd5288;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000300000000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00020003);
 addr = 0x0099fe59;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000300000001);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffe0002);
 addr = 0x00805d1f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffd000100030002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffd0000);
 addr = 0x00bd9a35;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000200020002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x03c08388;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffe000200000001);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x03c083d6;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000300020000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00d1d122;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000100030001);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x028df50e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200030001);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfffc0001);
 addr = 0x02ae9618;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfcdc0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000300030000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0002);
 addr = 0x02db7606;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200020003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00030003);
 addr = 0x03a93111;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01892385;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100010001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x03c54a05;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000200020000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03d4bc0a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0000000000030000);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00030000);
 addr = 0x01d3c791;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000200020002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00030002);
 addr = 0x03e0b703;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0003);
 addr = 0x03dfd04d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffd000000020002);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00010001);
 addr = 0x02869549;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000000030003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00020002);
 addr = 0x008c7645;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0002000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x02dab5e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffefcdc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100020003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffff0000);
 addr = 0x039f8b0d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0002000300020003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x00e4b328;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xfffe000200010002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01973db8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000100030003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00e04853;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0xffff000000030003);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00020001);
 addr = 0x02bd88ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff000000010002);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfffc0002);
 addr = 0x03c37096;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02fccf41;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fcdc,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200000002);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x01d27352;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0xfffc000000000000);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x0180d335;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffe000100010001);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffe0003);
 addr = 0x0180d37d;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
 phv_data_word = UINT64_C(0x0003000200030001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xffff0003);
 addr = 0x00fe477f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000088,action_out);
 phv_data_word = UINT64_C(0x0001000300000002);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffc0000);
 addr = 0x03aed469;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000048,action_out);
// ********** end extracted from log
