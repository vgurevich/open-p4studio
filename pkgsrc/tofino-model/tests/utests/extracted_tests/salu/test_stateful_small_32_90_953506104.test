// ********** begin extracted from log
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[0], 0x60933bd); /* a=0x2010900   <<salu_const_regfile[31:0]=32'h060933bd>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[1], 0x9791902c); /* a=0x2010904   <<salu_const_regfile[31:0]=32'h9791902c>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[2], 0xd919f82a); /* a=0x2010908   <<salu_const_regfile[31:0]=32'hd919f82a>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[3], 0xb9856a05); /* a=0x201090c   <<salu_const_regfile[31:0]=32'hb9856a05>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[0], 0xbb1bd7bd); /* a=0x2010910   <<salu_mathtable[31:0]=32'hbb1bd7bd>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[1], 0xd13091d); /* a=0x2010914   <<salu_mathtable[31:0]=32'h0d13091d>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[2], 0x76bded4e); /* a=0x2010918   <<salu_mathtable[31:0]=32'h76bded4e>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[3], 0x2f68b1e1); /* a=0x201091c   <<salu_mathtable[31:0]=32'h2f68b1e1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathunit_ctl, 0x44); /* a=0x20109c8   <<salu_mathunit_output_scale[5:0]=6'h04>> <<salu_mathunit_exponent_invert[6:6]=1'h1>> <<salu_mathunit_exponent_shift[8:7]=2'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.stateful_ctl, 0xe5); /* a=0x20109cc   <<salu_enable[0:0]=1'h1>> <<salu_output_pred_comb_shift[5:1]=5'h12>> <<salu_output_pred_shift[8:6]=3'h3>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][0], 0x2ff59); /* a=0x2010980   <<salu_const_src[3:0]=4'h9>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'hf>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'hb>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][1], 0x1f6a3); /* a=0x2010984   <<salu_const_src[3:0]=4'h3>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'hb>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h7>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][2], 0x273f1); /* a=0x2010988   <<salu_const_src[3:0]=4'h1>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h9>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h9>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][3], 0x2ff5); /* a=0x201098c   <<salu_const_src[3:0]=4'h5>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h7>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][0], 0x3abab); /* a=0x2010990   <<salu_const_src[3:0]=4'hb>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h5>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'he>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][1], 0x6629); /* a=0x2010994   <<salu_const_src[3:0]=4'h9>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h3>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][2], 0x3e811); /* a=0x2010998   <<salu_const_src[3:0]=4'h1>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h4>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'hf>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][3], 0x965b); /* a=0x201099c   <<salu_const_src[3:0]=4'hb>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'hb>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h2>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][0], 0x8c51); /* a=0x20109a0   <<salu_const_src[3:0]=4'h1>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h6>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h2>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][1], 0x1d201); /* a=0x20109a4   <<salu_const_src[3:0]=4'h1>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h9>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h7>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][2], 0x15423); /* a=0x20109a8   <<salu_const_src[3:0]=4'h3>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'ha>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][3], 0x23429); /* a=0x20109ac   <<salu_const_src[3:0]=4'h9>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'ha>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h8>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][0], 0x29844); /* a=0x20109b0   <<salu_const_src[3:0]=4'h4>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'hc>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'ha>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][1], 0x26307); /* a=0x20109b4   <<salu_const_src[3:0]=4'h7>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h1>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h9>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][2], 0x1dadc); /* a=0x20109b8   <<salu_const_src[3:0]=4'hc>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'hd>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h7>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][3], 0x1f588); /* a=0x20109bc   <<salu_const_src[3:0]=4'h8>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'ha>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h7>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[0][0], 0x56e7); /* a=0x20109e0   <<salu_cmp_const_src[3:0]=4'h7>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'ha>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[0][1], 0x7fcd); /* a=0x20109e4   <<salu_cmp_const_src[3:0]=4'hd>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h1>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'hf>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[1][0], 0x6022); /* a=0x20109e8   <<salu_cmp_const_src[3:0]=4'h2>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'hc>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[1][1], 0x8f8); /* a=0x20109ec   <<salu_cmp_const_src[3:0]=4'h8>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[2][0], 0x272); /* a=0x20109f0   <<salu_cmp_const_src[3:0]=4'h2>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[2][1], 0x3c21); /* a=0x20109f4   <<salu_cmp_const_src[3:0]=4'h1>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'h7>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[3][0], 0xc99); /* a=0x20109f8   <<salu_cmp_const_src[3:0]=4'h9>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[3][1], 0xad5); /* a=0x20109fc   <<salu_cmp_const_src[3:0]=4'h5>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[0], 0x6d); /* a=0x2010920   <<salu_output_cmpfn[3:0]=4'hd>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[1], 0x6f); /* a=0x2010924   <<salu_output_cmpfn[3:0]=4'hf>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[2], 0x61); /* a=0x2010928   <<salu_output_cmpfn[3:0]=4'h1>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[3], 0x67); /* a=0x201092c   <<salu_output_cmpfn[3:0]=4'h7>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[0], 0x6f); /* a=0x2010930   <<salu_alu2_lo_bsrc_math[0:0]=1'h1>> <<salu_alu2_lo_math_src[2:1]=2'h3>> <<salu_datasize[5:3]=3'h5>> <<salu_op_dual[6:6]=1'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[1], 0x6a); /* a=0x2010934   <<salu_alu2_lo_bsrc_math[0:0]=1'h0>> <<salu_alu2_lo_math_src[2:1]=2'h1>> <<salu_datasize[5:3]=3'h5>> <<salu_op_dual[6:6]=1'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[2], 0x2c); /* a=0x2010938   <<salu_alu2_lo_bsrc_math[0:0]=1'h0>> <<salu_alu2_lo_math_src[2:1]=2'h2>> <<salu_datasize[5:3]=3'h5>> <<salu_op_dual[6:6]=1'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[3], 0x6a); /* a=0x201093c   <<salu_alu2_lo_bsrc_math[0:0]=1'h0>> <<salu_alu2_lo_math_src[2:1]=2'h1>> <<salu_datasize[5:3]=3'h5>> <<salu_op_dual[6:6]=1'h1>> */
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00f54a18;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03f2c824;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03c91128;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x018e6bf6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03deefad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01de115d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02fa81ef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02897eea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02ba3214;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00eb1364;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02b31de3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03ef5a8f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00e2f932;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02a651a5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x029ad79e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x019d8cde;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01b78f36;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02b82f40;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03cbc346;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00ed90ef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03c06a14;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00980245;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00ed30e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000bd0,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0289f64e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02e5fa7a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x019913d6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x038d8321;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03f1052f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00bb0c10;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01e3aa98;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0185b728;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01aa35e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01f8b34d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x018ab47c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x008cf3b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01e509a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00f4c5e1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03ce0610;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01dc9146;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00ab8c39;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02ab8c55;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01cf1097;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00826e5c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00d0ca0f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00884d33;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000004e0,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00c741ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00c1789c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02fae682;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01be716a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00cf58cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x019dbd96;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03f63f89;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x019d9cfa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00d9859b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000707,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03ae0c04;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x0293f04e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01e73c57;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00da38cb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000004de,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00e80243;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03b7d8d7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0292d0f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02e75eab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01f48709;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0190d256;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01c2e5a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01f23ffb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00b5a6a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01c526a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x009609b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000026d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00d01644;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02f3a95a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03ad78d5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x009be685;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01ee688b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02c72734;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01ce6a07;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02ac005d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01b7b186;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00a25c19;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000705,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03d5726b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02c247b3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00e0ff55;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01f5cd7c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01cdb658;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02f3d410;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0398e8ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00a38df7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x019f2463;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02bab3c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01b29925;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00afb297;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01a9087b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02e8dfb7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03c639b3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02fc89e0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00da26cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000bcf,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00a371a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000004e0,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0386ec0b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02a310ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03acd04e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00e7192a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000026d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00cfef87;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02d1b95c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00e69fc6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00cc07e0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000026f,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02c7be46;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01fc6bbd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0199091a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02b665e0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0091938c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0190787b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01c72fa2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00c1d111;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0197e29c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03cc3c20;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00cbc5b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000708,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03da32c0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01f9bdbd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0xfffffffb);
 data_in_bv.set32(1,0x9791902c);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02f9bde0;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03c0473f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01b378d0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01e8e766;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x019dff5c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03908664;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03e72d52;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00ed137f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01cce9c5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02dd386e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00dd381d;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000026f,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03e6d245;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01dc3885;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02939866;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00c441ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01a0ebfd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01b55f6d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02c3dd5f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01fffc63;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02c90cba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00bc3abb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000706,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01987037;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00b67338;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000026f,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00e0c981;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000004e0,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x029c0e27;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02c4ac92;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01c5dbd2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02eeee4f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01a29c84;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03ac8b0c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x038e3b3f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00fca559;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000bce,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x019f6b40;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00c70ecd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00d442e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000bce,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02dd7a3c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x038e35e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x029f0e33;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03ac5d0b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02b77854;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03f5dfc4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03b77801;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00e62454;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000bcf,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00d0996b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03e11171;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02c7774b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00f2391f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bcf,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00a399d1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x039eda65;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00ffa681;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bcd,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02d96d5e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03c3f240;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01d270d5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02b96d83;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01a85468;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00e22671;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x018939ef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x038cc891;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03fd7ad3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00dde44c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00d1c1d7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x028b221b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00e7d524;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00f35198;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01b02741;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01d86509;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03cdcb39;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01a36788;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00e00bc7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x039797f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00c8092c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000026e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00bc11eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02dc140d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01c8b136;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01e7d414;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01b86510;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02c9981f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01b150bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02d4745a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03a406a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x019b4ff6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0xfffffffb);
 data_in_bv.set32(3,0x9791902c);
 addr = 0x009b4f8f;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000026f,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02f80096;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x029d0960;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00861c47;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02ecc891;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01c806f2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03891e60;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01b798a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x038e2bcd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03cd8e9c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02d58d2a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01edede5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01c9c62d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0090a35e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000bce,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02a3a365;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01f36051;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03e569a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01fc1308;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01f0e28b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03ad0be8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0394b6ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00850bd6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0289378b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02eddb6c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01f4cc8c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02e5beb2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01824a36;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03831068;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01f9a262;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02f35119;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02c2938e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03b1d458;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02a85af8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02af1651;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00919451;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00c997fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01f50105;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01ed599b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x028b4980;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03bdada1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01f1ba13;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02fbac5b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02ec40f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01a759bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0xfffffffb);
 data_in_bv.set32(1,0x9791902c);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03a759c2;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x028b3366;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02dfb166;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03a667df;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02cba50a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00c0cb87;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02ed7d38;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03c8377a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x038d5179;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x038cbfc3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03c18c01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03881836;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x039a3c64;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00ac7827;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000706,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x039d49a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01a53526;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02c4233c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01cde278;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03e79a2f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x0196879a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01aefec3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00e01eaf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x039340cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02968fa9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02c43441;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01d5ba34;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00da26d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01e68758;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03d105c9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02db9542;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0183fd70;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01e53eb5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00fefe16;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bcd,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01ae4782;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01bbafe4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00eec477;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0387667d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00e58271;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01b6242d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01de5ee1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01b6eb35;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03e3358d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03a389a6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00cbcfa8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bcf,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02939347;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00f7f619;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02c2e5df;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02996b28;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00df7cd5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x008115db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00c77eff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02c922da;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02e59fe0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02f00480;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01f010a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0081136e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000270,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03824a1c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00c4d9e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x018b4f26;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00a5a1e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000026d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03a31231;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02abd2b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02de9ada;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02982afb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00ae6ff0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000bd0,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x029fc5a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x0285a40b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0084f721;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000706,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01ab3671;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01f930e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02b7527b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02e5bb11;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03ec555f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01afa13c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02d1f395;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x028a56d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00e05f2c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02cbff90;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0382cb8b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00e1aaf3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00cf94cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02a57f4a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x019bd1d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0085cf75;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01a8a336;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01d1be31;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03867df4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01ab53b7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02ecd099;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01f148a0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00bdfcf5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03f53846;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x038ccf1a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x0000000c);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x018ccf72;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03f35add;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01bf8fa0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0281188f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00a49827;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000004dd,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x018ad448;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01f4bc52;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02a58b27;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00ab1995;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0097c83f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00aa89bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bcf,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x019ac8d5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0397ad08;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02c0b74c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x008f45c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000004e0,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03b1cddd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01afb518;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x038a77c0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03fd82c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00e0f3f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00c9146c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000026e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00931eb2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0091b4f3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00e7408d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01deae71;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02be0abf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x009a6acc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03fc857c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0299661a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03fd55be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01eada14;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00f00bdc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000706,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02a184a8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x029944f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03e3a51b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03e5f82e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02f818be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00a2a791;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000004dd,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x029ed380;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02f8b93e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00c1b848;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000705,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x039891e0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01a39b29;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x028f8e24;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02fb5b48;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00f5d3bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000708,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01f071d1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00847206;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000706,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03eb7ce3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01cd0b9d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0293c06b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03e1bb31;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02ea3643;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01afb146;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x019bd107;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0xfffffffb);
 data_in_bv.set32(1,0x9791902c);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x039bd171;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03d3bb5a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03d2f596;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00d76b51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00ee9115;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bce,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02d52b3f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0084b677;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00902183;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02c2cdf4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00987e90;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00840bf5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000004df,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03ecb5de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x0387eea3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01838f44;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00865793;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02a378ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03f39da3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00a787a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00b933a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000707,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02932a42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03a4b90f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00f92b79;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x039ccaba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00b24368;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03f28af7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01be5f05;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0299cac0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00e43786;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bd0,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00c7bc45;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00f9ae53;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000706,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03c033a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01d0528b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01f119f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00801f91;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000708,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00990370;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00f9d664;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01ae2dae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0xfffffffb);
 data_in_bv.set32(1,0x9791902c);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02ae2df7;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03fd1f61;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01a9706c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0194608c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02bb1240;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00ebe48d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000708,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02ee3e2d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03d663a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03db5ec6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0289c01e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02e0c121;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02bd37d9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00a2c192;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bcd,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02bc3133;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00ca68fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01f8d182;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0192e9e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01eed570;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01dbfd50;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x028ca57c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01a3b583;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00efbfef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01c1c381;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03f90e7d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0189dfec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02c01e5a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02ad69d4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01942ea0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00aa1521;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02ff7bbc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03e0719c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02b22fdb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00cf2bb0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01bb65fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0383d9a6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00bdffcf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000004e0,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02c05b2e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00ed2c01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03ce62c2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02c6f629;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x009455b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01b30f2b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x009744cf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00dd5f25;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000270,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01866f77;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0183db79;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03e1d7d1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00961950;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03db46ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01b67fb3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01def9a8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03b494de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03b82987;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01c6e75d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02fe6633;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01bd0065;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03925243;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01ac7cca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00add390;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03927b8b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02daec02;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01a21814;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00b865ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000706,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x009b365a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x039b364e;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01b74b35;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01885754;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03a274d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03d435d4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x038f785b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02ad8ca3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03bbecc8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000007);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00bbecdd;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01971a3f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01e917e8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01bbdaf3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02f489f2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03e5167a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03f4e6bd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x019bf59e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00a90695;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01be9c1c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01e81914;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02fb6e8e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x018538d9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00e91baf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01f75d6a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01bd8f34;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02d52f24;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03a7ea7d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03dfcf39;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03fa7b5b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03b92ced;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00d44eb3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01f5be25;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00908d78;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01c3c060;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00f35675;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03f42845;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01b37d48;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0088a0d2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x028ddd6c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x019a4e70;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00e518cb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x008d326a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01b2d7be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03c48fb4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00ea82f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x018b4149;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00eb1934;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01faded5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x018fdbaa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02b82ae9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01ec639d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02df97c2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00d7ab76;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000004dd,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02d9c63f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02d927b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02b79eb8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02d26974;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02d2c7b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01cd082f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x028344a0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02eb7f51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x019787cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0183fca4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02c1f20c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03859d49;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02801982;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03fab03e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03dda67f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0099423a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000708,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02eebf53;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x018c42f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01d51e6b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03b09e81;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00c50a7e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02ef7431;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01c9a312;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03bcc055;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x008a6aa2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bce,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02b0d310;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03ab57e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01888255;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00b031f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000004e0,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x008935a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000708,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02a4dc29;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01c22446;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0283069d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01982494;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0390c9b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0295a821;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02d3382c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03823125;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01830d99;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0185436c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01ff8e19;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00c8b2ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02928e92;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03a35fc9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x019616fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00819252;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02c165c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00dfa922;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bcd,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01c78f48;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00db605a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000004de,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03980a07;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03ee4cc9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x0000000e);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02ee4cb8;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02d3e659;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02c1638a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01dde0f8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02cd7257;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02eae724;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x019eb396;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01a61406;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00825fb6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000004df,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x008c6c7e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02dce220;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02c954ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0197327a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03b9c78a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02bc0be0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00c01224;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00a415ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01e2a3fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01e46ac6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02d8a17e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01a4ef3a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01c3a20e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00c5b68e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000026f,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02e232a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02c34be3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03819f58;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02f7b440;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0xffffffff);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03f7b41b;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03d170ac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01f0ad1f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02f60c3f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01868302;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02c55538;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x028514e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03884f6f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01e45a58;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02a5d5ef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x009196e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03917794;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x009e0c28;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000026f,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03c15419;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x0000000d);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03c15420;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000014,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03ff2beb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03bca354;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00f1b14c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x019445bf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03b8b015;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x028ed7c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01f2bda7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02a645e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02fc3deb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00de3540;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x009deea2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03f4eb34;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03a3a4de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x038da174;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01b1be7a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x039ada1a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01c23d2d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01b1a6ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x039ea4ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00c54e34;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bcd,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03dfa698;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03fadd01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x019f9ae1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03fe8e72;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03bff3bd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00b8a131;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x039261e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000007);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x019261ef;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02bff34d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00e005fd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03b6c672;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x018b300d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x018fc70a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x038f2e60;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01ea0f6c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01979c70;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00c29328;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bcf,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00cfaeca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000bcf,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01dd26e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01bd6197;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00a90c5b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03fe7a5d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00a05148;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00a701bd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bce,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01cbfb90;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01c92676;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03d5e5f2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01b8513d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02f1fdeb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02c3a25e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x019c899e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x019983bf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0xfffffffb);
 data_in_bv.set32(1,0x9791902c);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x039983bb;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000006,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03da5867;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03cacbe1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01e01f42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x019ce755;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03995a19;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x029623d7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03b78a50;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03e1526d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03b0fc19;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02b0a475;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00c2a1e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01ccfef2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02dd4ed5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x009d8913;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01b6dc6d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03974692;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02d45e11;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00920931;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03b3cc52;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00d2cf03;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bcf,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x029ada0a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00ed0e01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01a52dd7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00b8eb08;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03fcc0d9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02f84e73;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03efd695;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03991618;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01de626f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0294f325;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01a7e4c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x029d9076;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03d19dc1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03995bd2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01c2055b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03de759b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x008765c9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000026f,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00c72bcf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000026f,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0280bd00;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03f31c33;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01b20b18;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00ce3822;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000004df,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01e38b63;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02cc479b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x028b6490;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x028836e8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x028d2dd2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x009896a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02ec4ec8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02b376f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01be2a01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03a4ab4b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00f64a71;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000bcf,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00ef25e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01f5f9ef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01a461d1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03bfa1e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00f446bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x039cfb83;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x029f3a83;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00f73259;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x039a5d4b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x028e6714;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x029bea9b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00ddb289;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02a29184;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0197cd06;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02ad0391;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02ef231e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00b7521d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bcf,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00867f77;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01950a50;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01f77af5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03dc6479;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00d7c690;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00ebcffd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000707,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02f5071d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00ffa218;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bd0,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x019d1c36;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x028687cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00d93b94;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02c51ed4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02aecd58;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00b746d4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000004df,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01f297af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02e26d40;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01c5ec30;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01e01d50;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03f4ab10;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x0295ae5a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02bcf812;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x009d62c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x038a3e22;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01c2b4aa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00833e1a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02be08f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03b35fac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01fd0280;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02c27a0e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x038f8603;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03ac6f8f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02c98996;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01b81654;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00912ae7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03be407c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03dfa462;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00c733bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bd0,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01948500;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02df959a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03ac9ab7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x018fa62f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01a64a86;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00f7bf0e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0395984b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x039f1ab7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00f8aa66;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000026d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00988aa9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00ccaf2e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02ac1a48;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03d19873;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00e991f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00bec345;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x018d934b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00c12edc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000bce,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03c9daa4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01d2f718;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00c19106;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0086f773;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x008c5095;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01d2b02f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01f2eeb9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01c705bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00d63367;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01f7cf68;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x0181fb9c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02dee0b3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x029750f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01dc2104;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02a3423a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01d421e0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02e8d676;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x008ed26e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02f3c200;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00c1f187;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bcf,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01a90586;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01d07fd0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00c00e0d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000004e0,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01ca2db6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x019f8056;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01cac8f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03a30f93;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03fa66d2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x038584ac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01fa418f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02817903;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02988cf3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01d7e959;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0387b304;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02e99504;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x009d6200;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00881874;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02c3a042;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00a3a776;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x018174bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00f90af6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000bd0,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00c481ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01a39821;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03c64090;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03d0a1b0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02b8e5b7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01f4c80e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02a66465;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00d30644;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000705,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03c386fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00cfbf42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03f68045;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02fe962e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02dfd6c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02cde5d7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00a3b776;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03c504fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01e9ff97;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02cfaf94;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02c37fe3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02f3f1da;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00b10705;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03d7d85d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02b779ba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02a1d881;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00e1a639;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000004de,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01d6e034;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03d48fb4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02ded1f8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02e4f72a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0xffffffff);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02e4f74f;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01e9dbc3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00f768c5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03857227;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x0000000e);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01857203;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x028893fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01c9e21f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x038f11a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02d164d0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01d7dec6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01f77b21;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00d10de7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03952eb1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03dfcd17;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02eb8164;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x019a096d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00910e28;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000706,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00d4c87b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0284eed6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0xffffffff);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0184ee92;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x039390ba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01c177cf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01f6d3a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02a3b8e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03d5e3a6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0186bb6d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00aa804b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000705,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0386f13a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x018265e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03ceae8e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01dab4b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02a5a3f8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00ad97dd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0383c561;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03d58c05;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03bf7994;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03e83822;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01b0553b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03e0b71e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x019d3d58;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00ed53dd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01c6aa07;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03e69ec6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00d554eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00804cfe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01e6f6a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03ba4244;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00b581b6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000026e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03f7a736;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01e7f747;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00ccf5fd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03f2b1ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01879b29;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03f80d38;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01f26d55;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01cd6115;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03dd24a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x028f140c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01b1ffa0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02c4bd5c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03fe20c5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03eaa2fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02e7cd3e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x008a6346;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03d7ca1c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02859c03;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0385e4c3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x018afb1d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00d35b51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03886ef4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03a4ebbe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03ebd7f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00de9928;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00b0cf05;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01f674bf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x008baa57;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000706,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01ee278e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0195271c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00ca50a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000004e0,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02d5b903;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03c6642c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x019759cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0xfffffffb);
 data_in_bv.set32(3,0x9791902c);
 addr = 0x009759ca;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000005,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01a42e47;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00f3aafc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03afadb6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02b1804d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02b525cb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00ec9e6c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000706,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x008660f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01cef378;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03f1311a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x019c570e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00de850d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000705,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03cb2690;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01fe7351;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00b53e42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x038cd45e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01ddfc1f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03acb30e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02ba5e3a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0087260a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01ec851a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02d78084;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02e22733;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0397cd43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01e60a5f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02bdff79;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0184e4ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03e607f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02aface2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02afac90;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00d78be6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00d03ff7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03df80a6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00aee5fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00f65122;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x019ebae2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x029a163b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0380a9a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00a54281;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03efcd1e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01874f6e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02b31d9c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00de0d50;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02fb9779;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0388783e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0097671b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bd0,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x039a7f45;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x019af4f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02970115;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02a04dc3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00892473;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00c1012b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01ad5695;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00939af4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000026e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02df3e6a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03d75341;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02c8613f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02b88f57;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02b9601d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00abc1cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000026f,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03a34644;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02b887a5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03a8ddf8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00fc8f99;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00d53be5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01d82203;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x009da91d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01cb8a8f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01d2510a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0184972e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03f6addb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02837103;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03f9f3b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x029f6dae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03ad89da;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00e77651;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0195d3fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03c99860;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03bfb326;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00e487d6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xf5fffffe);
 addr = 0x0380005e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xf5fffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02a522bd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00b24ee2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000705,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01878dc5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03fd7f67;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01cab559;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0191d180;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x008e8a1b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000004dd,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03ed3262;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x0000000d);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02ed3206;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0390b3b7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01ef2767;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0393750e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x019f0f3b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01e49f15;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0384c115;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x029b6bb7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0185085f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03f167bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00a79610;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000004e0,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00a488aa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x039465eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03fca18c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01fbf79b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x009b5bf4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02fb3808;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03a105ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03fc9f11;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01ab0d15;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01f917e8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01b363e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00cf1cc9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000bcf,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01ca49d6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03ffa609;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00f99080;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000004e0,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0381f262;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x009da78a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000705,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02ccb6ba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x009b7fab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x028784e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03d8805b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01cfc620;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02db07f3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02ea0f42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02ea88fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02bcada7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01d82907;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00f5a77b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00f69e2e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03d13a31;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x038b4247;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000c,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03a86e51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00f0f781;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000708,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0094a561;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02d67ab0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02d898d2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02f794b6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00f3d521;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000bd0,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x009e42e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00a79332;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02f0a736;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0186af11;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x028394d2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02b2ee29;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01e2528d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03bc234c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01ea1fae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01e87570;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x038fd327;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000e,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x029b0085;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0297a841;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x009a5f01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00b26569;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00b02639;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000026f,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01a3a114;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01fa8db5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03d49215;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00ad6f99;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01ec2a0b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02a89233;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01bf6051;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00adb0e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01ea8d7e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03cd8bdf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03886cc6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03ebf18c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000007,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02915900;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01f32740;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00aacb3a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000707,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02934c93;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03bbd3dc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000000e,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02e92bb1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02c32c59;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00d48a0b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01c0caee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00e3bb96;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000004de,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01be25ab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00d896ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02f1e18f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00a2e370;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03b6ff3a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02e242e1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03986e95;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000000c,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03cdad5c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02aca8d7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00b57b61;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01f7f1ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01b5c438;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02a11a8f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xffffffff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0294a376;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00afb766;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01b06162;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00df15a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00ccafa5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00040000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02d30e49;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00050000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0183d4fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x008c7d77;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000004df,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01e27de5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01b506fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03ef4975;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000007,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01a92bef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x018c451e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfffffffb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x9791902c,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0084ca10;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000270,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x000c0000,action_out);
// ********** end extracted from log
