// ********** begin extracted from log
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[0], 0x7a5510e3); /* a=0x2010900   <<salu_const_regfile[31:0]=32'h7a5510e3>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[1], 0x7d4c3ffd); /* a=0x2010904   <<salu_const_regfile[31:0]=32'h7d4c3ffd>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[2], 0x68f25544); /* a=0x2010908   <<salu_const_regfile[31:0]=32'h68f25544>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[3], 0x94da7c1d); /* a=0x201090c   <<salu_const_regfile[31:0]=32'h94da7c1d>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[0], 0x93bf63d4); /* a=0x2010910   <<salu_mathtable[31:0]=32'h93bf63d4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[1], 0x39439750); /* a=0x2010914   <<salu_mathtable[31:0]=32'h39439750>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[2], 0x45b6bcd4); /* a=0x2010918   <<salu_mathtable[31:0]=32'h45b6bcd4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[3], 0xcddf9bc5); /* a=0x201091c   <<salu_mathtable[31:0]=32'hcddf9bc5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathunit_ctl, 0x12a); /* a=0x20109c8   <<salu_mathunit_output_scale[5:0]=6'h2a>> <<salu_mathunit_exponent_invert[6:6]=1'h0>> <<salu_mathunit_exponent_shift[8:7]=2'h2>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.stateful_ctl, 0x125); /* a=0x20109cc   <<salu_enable[0:0]=1'h1>> <<salu_output_pred_comb_shift[5:1]=5'h12>> <<salu_output_pred_shift[8:6]=3'h4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][0], 0x270cf); /* a=0x2010980   <<salu_const_src[3:0]=4'hf>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h8>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h9>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][1], 0x2461b); /* a=0x2010984   <<salu_const_src[3:0]=4'hb>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h3>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h9>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][2], 0x2e466); /* a=0x2010988   <<salu_const_src[3:0]=4'h6>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h2>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'hb>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][3], 0x39a51); /* a=0x201098c   <<salu_const_src[3:0]=4'h1>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'hd>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'he>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][0], 0x1f273); /* a=0x2010990   <<salu_const_src[3:0]=4'h3>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h9>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h7>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][1], 0xd75); /* a=0x2010994   <<salu_const_src[3:0]=4'h5>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h6>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][2], 0x3023); /* a=0x2010998   <<salu_const_src[3:0]=4'h3>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h8>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][3], 0x25151); /* a=0x201099c   <<salu_const_src[3:0]=4'h1>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h8>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h9>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][0], 0x8db0); /* a=0x20109a0   <<salu_const_src[3:0]=4'h0>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h6>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h2>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][1], 0x27d3b); /* a=0x20109a4   <<salu_const_src[3:0]=4'hb>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'he>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h9>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][2], 0x2a6d0); /* a=0x20109a8   <<salu_const_src[3:0]=4'h0>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h3>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'ha>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][3], 0x38b8b); /* a=0x20109ac   <<salu_const_src[3:0]=4'hb>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h5>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'he>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][0], 0x25de7); /* a=0x20109b0   <<salu_const_src[3:0]=4'h7>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'he>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h9>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][1], 0x2b999); /* a=0x20109b4   <<salu_const_src[3:0]=4'h9>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'hc>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'ha>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][2], 0x326a4); /* a=0x20109b8   <<salu_const_src[3:0]=4'h4>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h3>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'hc>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][3], 0x19840); /* a=0x20109bc   <<salu_const_src[3:0]=4'h0>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'hc>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[0][0], 0x6f9d); /* a=0x20109e0   <<salu_cmp_const_src[3:0]=4'hd>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h1>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'hd>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[0][1], 0xa9e); /* a=0x20109e4   <<salu_cmp_const_src[3:0]=4'he>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[1][0], 0x4a62); /* a=0x20109e8   <<salu_cmp_const_src[3:0]=4'h2>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'h9>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[1][1], 0x28b5); /* a=0x20109ec   <<salu_cmp_const_src[3:0]=4'h5>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'h5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[2][0], 0x4df1); /* a=0x20109f0   <<salu_cmp_const_src[3:0]=4'h1>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h1>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'h9>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[2][1], 0x26a9); /* a=0x20109f4   <<salu_cmp_const_src[3:0]=4'h9>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'h4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[3][0], 0x28f2); /* a=0x20109f8   <<salu_cmp_const_src[3:0]=4'h2>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'h5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[3][1], 0x24d2); /* a=0x20109fc   <<salu_cmp_const_src[3:0]=4'h2>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'h4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[0], 0x67); /* a=0x2010920   <<salu_output_cmpfn[3:0]=4'h7>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[1], 0x6c); /* a=0x2010924   <<salu_output_cmpfn[3:0]=4'hc>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[2], 0x6d); /* a=0x2010928   <<salu_output_cmpfn[3:0]=4'hd>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[3], 0x6c); /* a=0x201092c   <<salu_output_cmpfn[3:0]=4'hc>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[0], 0x6c); /* a=0x2010930   <<salu_alu2_lo_bsrc_math[0:0]=1'h0>> <<salu_alu2_lo_math_src[2:1]=2'h2>> <<salu_datasize[5:3]=3'h5>> <<salu_op_dual[6:6]=1'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[1], 0x28); /* a=0x2010934   <<salu_alu2_lo_bsrc_math[0:0]=1'h0>> <<salu_alu2_lo_math_src[2:1]=2'h0>> <<salu_datasize[5:3]=3'h5>> <<salu_op_dual[6:6]=1'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[2], 0x6d); /* a=0x2010938   <<salu_alu2_lo_bsrc_math[0:0]=1'h1>> <<salu_alu2_lo_math_src[2:1]=2'h2>> <<salu_datasize[5:3]=3'h5>> <<salu_op_dual[6:6]=1'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[3], 0x68); /* a=0x201093c   <<salu_alu2_lo_bsrc_math[0:0]=1'h0>> <<salu_alu2_lo_math_src[2:1]=2'h0>> <<salu_datasize[5:3]=3'h5>> <<salu_op_dual[6:6]=1'h1>> */
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02f98cd4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01e846b8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02800965;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00c24977;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03c86544;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03c4be75;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01e15fb9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02a18af6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03fad06b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00e0583b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x028661a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02d89af5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01e41c49;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03c9959f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01b76e5d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02d7fd76;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03b79cbf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03c127a6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03fbf2aa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x038fff79;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00ebbb7c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x009bd527;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00d319eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01e83482;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0182f2aa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01978091;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x028ca0a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01e2177d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03f610ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01f30d51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00fdfc8f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01fde5c2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02c46d3e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03e6257d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01ecd03c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01dc055d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01eb122b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00d395f1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00b9361c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03d332ac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x028f0ff3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x028c4149;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01d12c94;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03deaa0c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01a343f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01aa80f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03ed192b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03c3dd4e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02c3dd52;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02e7c507;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03b80518;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02cb06f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0396959a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0398c4f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03ef4d7d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00e31216;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0xffffffff);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00e3126c;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00981dfb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00982f92;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02f58ac3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02fcf4fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00c70d57;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02ae69df;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01bfba9d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00a98973;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02e202e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01f9592d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01fbc22b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00eb0c07;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01906106;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00acbccc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03e36ab9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03a063de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01d59e40;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02ff696a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x028e1ba3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x019c1da5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02eeedd7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x039b6399;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00ba091e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03d95d90;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02f9d81d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x009fcee9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02f5df56;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03b0a712;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0298c143;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01f684c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0xb5204e99);
 data_in_bv.set32(1,0x6936aa23);
 data_in_bv.set32(2,0xc4d4f3fb);
 data_in_bv.set32(3,0x5cebc5aa);
 addr = 0x00800059;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb5204e99,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x6936aa23,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xc4d4f3fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02df4843;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00bda4fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01e6e79e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02f14359;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02d13e31;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02b16591;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00eb4abf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x028d0ab5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00f934ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0296e9fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02d0ebc3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01ae8aa1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00e7bebe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x0191d921;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01ec5358;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03f5a068;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00f2351c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00a1940c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02c04877;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01e3ceaa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02e2e32d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0088c96f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00e3b80d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01cac793;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02f5be15;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x008d4a36;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00a69ce8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0383c787;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00932c78;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01a6b988;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02b5dfd6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00f7067c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00884ba0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03b5b293;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01bf3af6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00d45e35;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x019638ad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02f431cb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00ed24f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01badb00;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01c76020;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00fea5de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02f0e3f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02a64943;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00fecdc3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01a58223;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00fcbb51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00a8eefa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03ca80c2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02c45e64;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03f05b18;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01e5175e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01da5585;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00baac24;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00d92fa8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01d9a552;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01c3e8ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00d84fb9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x029386d3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03f2480e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02ece336;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00f4ad1a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02e07a03;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0083f44b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01964056;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x009531ad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03ad71c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02e31df5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0391ffaa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x009f343f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03feb39b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x028e7039;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02f34417;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02e56629;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02c313b0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02a2a083;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01c40249;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0285bc82;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01c70d7f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01d73107;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00b0a41d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01f1eaf5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x029d9c3a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01e37952;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02e4a6e1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03e67fca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02ed7190;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02cc24a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03b293ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02a5b773;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03ebb637;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00f9c3cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01d9aa56;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01bdc619;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02c1a355;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x7a5510e6);
 addr = 0x03c1a34d;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02fd0d70;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03def744;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01a6e477;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x009b527e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01d45d67;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01d88ba7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03aefef8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01d9562d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x018b32be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x008e11cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x018a961e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01c551b1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0194d4b3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0194d4bb;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01860d63;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02a60520;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03ba3ec2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02aba9fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0192d06e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x039993f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02a6f0aa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0085dd9b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x029608a0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01d13fa5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0390b759;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02ae6846;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03b7852b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01a1d694;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03dcbd91;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02f4adfe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01f81bbd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03eff46c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x008d55b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02c3f912;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02ca01d0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03b8ca0b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x008ea7c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00826f5f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00d3b68a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x038da0de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02e81126;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03c6c006;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00e224e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01c5ba6c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03a6ddcb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00a6ddc2;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01ef83e1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00974dcd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02e2e05f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00854acd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00f850e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01eeeda1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03d2641e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00989d9e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02ebc59c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00e7a3f8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x018eb5e0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02c35140;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00c5bbf8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00a13d16;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x009baf0d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0xfffffffd);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x009baf17;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01dda836;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01be61e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02ff38a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02fcc8c2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01d55070;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02c2c569;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03e59a17;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x019ed8fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00c732ac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01ceae25;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03a4bee2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02a95304;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0392fd44;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00fb96e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01c648e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0380369e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02fdd1a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0092ffa3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x028367e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0082d16a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0299a982;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01cd7081;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03f2b723;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02a0d444;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00a66a10;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x019d129d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03a0b712;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00fe191c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00d77515;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02ac6432;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02957bbb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03f0ce71;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03d53ac0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00b31b3d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00a512bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x039ff4d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03918cb2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03aa5ef7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00a143bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03dbf6ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01fbb546;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0299caa9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01973409;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02ad7a40;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0386df21;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03f50d36;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03b571ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01d96df4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02ed6cb4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01d44ed3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02d89d15;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02d8f8c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00de847a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00f4bdc3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02f736b3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01d2ef71;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01c04753;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02d5fae2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02ac0c0d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00d24ba1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02bfce27;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0380f918;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01fc36c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02cdc745;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02b4155e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00a03e6f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01a0b59d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0190a76d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03f398d7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02b226d7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02d87014;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02a1a207;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0383f615;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02bbbf3e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00b7f4ef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x028fa7bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02b67b56;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02cf6e59;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x018fabe5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00ce12dc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03f0d346;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00e9cb50;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01e30155;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x039aabac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02f6d845;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00819b8a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01f34506;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02b14c29;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01cb8b50;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0294d4e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00deeb55;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01805a92;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03b80bb1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03ec59c2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01fc6f61;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00af4821;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02a57558;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02deaf94;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02e43da5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03ad8e5e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03abb734;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02d41314;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02ce91de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03ba3ed7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01dcc06c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03b74dc0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02a2ea29;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00ec8e1c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01d9bcba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02b604ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02856ae3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00bd0ea7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01e03ec0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02a1250d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00ef69c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02e6d7fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03cf626a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x038e741b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x009c5bac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01d88e94;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02c0d48f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02c87277;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02a98f1b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02ae1104;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00f08a24;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03a377ac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02dc25ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x7a5510e5);
 addr = 0x00dc25f2;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x019c86e9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03cb5484;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03e54bf7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03c60e90;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x008a2b36;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01d939ff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03d25692;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x028e0678;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02b84100;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03c673d4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x029380b3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01afb6db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02c1fac7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03fa2e1b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03de273f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00e4d307;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00ea29d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00886f0f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03c4a090;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01c5595b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00cc10b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03c17f6a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02b2da03;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0285c31f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01c6c85f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01d81862;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02bfa35b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02dc01cb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x018392bd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02b43e48;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01deba0c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01b49c51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03db606f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00ffc3b3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0xffffffff);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03ffc3fb;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00a1ed9d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03b78324;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x039277c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x029277d5;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02e28ae7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00bca1c5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02bf077f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02d3d8b1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02ae9b5e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02cfa520;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03c7a1f3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03c7a1bb;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01a6fa16;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00914bba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x039deaf1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01d13c8b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01a2eca7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x029e3188;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00f642fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00bbd725;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00e538da;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x0083fbb4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00bc7061;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02efcfa8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00c17cf8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03c15cae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02faee43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01ce2110;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01e8ef07;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03efad5e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03911f93;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00e337dd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01c95125;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03feeb9d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02bc6c69;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x018806d5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0181119b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x019db2c5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00f00500;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01fb9a19;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00934fdd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03cd1ce2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03bdad42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03d9be46;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02dc645b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01c9777f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02fce54d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03afee5a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02c3ae90;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00fb9157;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03c22b72;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x039f48fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02ecb398;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03b8da32;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x018f8fab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00cb66e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02d89555;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01acc9db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02d70278;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01a36ead;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01d03686;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00da07c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00da07f6;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03d2b108;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03c7c589;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00e1f438;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00895d43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01a96ca3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x008355ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02f4a014;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02d79d6e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03df35c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01f81425;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01e3e5ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01f15786;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02ab45cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03e20c0f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02f15ad7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01b1ece0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03c4f2c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03ee7a59;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00af28f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03e6da66;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02e05145;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01b3eeb9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02ab7dec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01c41718;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03956788;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03ccb2e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01ccb2bd;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01881532;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01ba9951;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02c7a0ac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01f35f6f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03a29b26;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00f34d2a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03828234;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0394d0db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02f70e9a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01fe74a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03f4cea5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02d63f00;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03a7b776;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00b0bdda;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01f261b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03f36d3d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02d214f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x6b2583e3);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02d214aa;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03bd0993;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03bd09ea;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02d9db08;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00f39a40;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02c3adea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00efa15b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01c1e5f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00d90bf6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x018d6336;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0288ac06;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01eeb93a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02d61032;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02a9b622;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x028074b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02d6b4a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01b118a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01b9dbfc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01f7b081;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00b678e0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00a2a410;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03d1ef26;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01dce311;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02fc41e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01ca5a5e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03a90e9a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00b3eabc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02ca362e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03c64007;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01f64fcd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03e4ecb1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x028e6fd5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01e46100;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03d958c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00e79e0a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00c8333e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0296ea68;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00c0de34;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02d9f14a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03ec5f76;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00eb918d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02ebdbcd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02cdf8b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0096e47e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x008c7574;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03969eac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0184479c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x009fcfe5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x018c752f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00dbf2d0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00e98b9b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00bc99a5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03c49c6b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02e09f2b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03ea8c3b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x039824ba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00b2e057;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03f3091f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03f03d43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02d57709;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00c275e8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x009ee5e0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02863fbe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03a3aeb5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02ff7696;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03c04312;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01b4b11f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x008fee43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0080b536;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02af41b8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00d8e7d4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01c155d4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03d31deb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x0297ba53;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00e57c84;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x018cc23e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01eb8cec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02bfe9cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02ba88de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0098a402;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03ea50b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03e71f14;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0197d230;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x028e87ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00cb9e74;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01c77f7e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02f07399;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01e980e9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02b23a9f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03f8de30;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02e33a59;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02d73f02;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01eb76ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03a9bfa6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x039c28c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00a8fbaa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03c6c712;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03e6fcfe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x028acc5a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0194f7e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00c9924f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01bbe74c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03bf435e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x029291d4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02c140be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00bd0f22;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02d2f63e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02dae45c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02a3d7c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01f35723;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00eb2edc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02cecca9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01a500af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00ac9d2b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03d0f6cf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00f09d80;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x029725c2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00c72620;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00cac4da;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01c29c2d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00ba16b3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02e4fc00;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00f633a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00bb82e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03880ebb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03850a93;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x018e6145;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01e032c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02b99cb7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01b2cd39;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02e3a7c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02ede4a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x028abfad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02ebb627;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03a6fd55;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00a6328a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x009f7573;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0091ce75;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03c741a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01ce9910;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0181c4fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03e9e18d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03cf7e7e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00bc4c42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00bd0e88;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03ae9854;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03ed0e4c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00da34ad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02e492fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x039e5e19;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01e62b11;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01c67e60;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x000000ec);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02800067;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000000ec,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02e04850;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x028cfb3f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02f2bc12;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02f1d145;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00fa484e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01cf0bac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03b737ac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03e8479f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02d4fddd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02900ac6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02dd2b6e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02cadd10;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02d18507;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x018da5c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00b47309;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03c8beeb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03d62edd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03e95e56;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01e98aa9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01a317d1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03e5f16b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0190221e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00ca2b4e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00ed3cce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03b4e900;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00fe6284;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02c27bfc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01f46e43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0282c504;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01bd4b7d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00c2ce27;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01c95ddf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01ddc64a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01fcf0c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00d1c232;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02f86ffc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x6b2583e5);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02f86ff6;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xd64b07c8,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00a19695;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03ed3554;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03c80d50;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00822203;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x009d18b6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03bd091d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02eef24d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0385dc70;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x038ce58f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01e99da3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0387ee2e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00a6307c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03b489bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00e5a01f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01dedadc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02e297d2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0383a8c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0083a88e;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01da49cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01f6ca4f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00cc6a5c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03b84620;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00e1910e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02ac17b2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02fce3f2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01fd8072;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00fac675;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03b4ec99;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01b2c8c3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00b9bb25;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03a5d692;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03ca4e88;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01f5d58a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01d926a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02df3b57;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01b06a68;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02ce86df;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00d19385;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00f3d342;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x029d296f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02b9ec79;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02869f87;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03d5c671;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03aa3f86;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03e8b1fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00f69670;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02aae42b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01d7d731;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x028dd3dc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01ceceaf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02a449fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03cdef03;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00ad3dcc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01ad3d82;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0281b8e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02bd8b74;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03cc32e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01d3488b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02b2225a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01bc8c6a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03c0e8eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0186b72c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03cf23f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01e38073;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00d7d2b7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0xffffffff);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02d7d2a3;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02febf75;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00b8ee86;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02ed430a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x009cd597;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01a45a9f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02b6927f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02c25b5d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02c818de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x039f2941;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01cf9462;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02d004fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0090fd23;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01c5a4e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01acebe1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02b55e6b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03a4578a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01944d8f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02c8e020;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01ac0743;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02e4ab6e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01ef9ba4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03f10e3f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01f0a95e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03a2e71a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01a2a2da;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00c7c258;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0293d20c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02fd20ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x018dd499;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01b0c294;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x028ca4d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01bd6aa3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02e0100c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01d61388;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x038d3574;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01feb9ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02db9cfb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x7a5510e4);
 addr = 0x02db9cd0;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00c97f19;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01941d7f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02efc6ab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03d3b5c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03dcfa14;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01b9f84b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03e6bede;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00a3331b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01a58ded;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00f29620;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x028b8923;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01cf893f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03f7fece;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01fec71a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01817f3d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03cf18b5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x009bafe2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x028943fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01d5ae6f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01ef974c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00ce5154;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0182f024;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x009f355d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03ebf54a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00b7743d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03aaf77a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00e94430;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0xffffffff);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02e9447e;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02825931;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02e467fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01ab96d0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03a1ed71;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01b8184d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0396adbd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01b04c9c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02a20cfe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0182e5f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0188d49f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01ddb390;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0387815c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0292ca89;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01aef6a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00e8dbe9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00864c01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01861d35;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00e08135;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01b822fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x039f1515;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01cd6d20;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02f9ab14;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02937243;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x028f9a06;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03c357ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00e7d9ac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x008e85eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00e42497;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03e25f21;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01dc52f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03b85846;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x038fba6f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02eebaac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03d7d6d1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x009a914b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00d3a47a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03ea25ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01ea258b;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01e9815c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x0292d909;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0389cc9c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01aa5c12;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0186da6f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x008ea602;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02f7f34c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0187fda4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03f8006c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02b594eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00e065aa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00e938ab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02dfbde8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03f35bf3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00c4a5ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01815120;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01a83276;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01a84834;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03c74be5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x028c5c35;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00f7fadb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01e1829a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x009b0403;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00b4d2cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03d38bbf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01cdf07a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01c6472a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03c64770;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x018d6788;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x039f754f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00cfa4e8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03ca23dd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00e12e59;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03ef7354;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01bb128c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03a592c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02c934f1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03d8d8f2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01eecf3c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00abbd1c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00b3d4c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02b56222;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01917b15;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01e0f3cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03869e9b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00a48766;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00ac937c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02ee57bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03c48758;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02e5179a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03ad6bd1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03a96b84;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0387f912;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02b30931;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02bf914b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02a3ffb9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03a3eb8f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00a93eb1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x0185f820;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02bb2a7d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03bdbe7e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01c59590;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03afabac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01bad2a6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0189e401;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02bc08ac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x009fa65b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x039fa630;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02ad1829;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x6b2583e5);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01ad184f;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00c470fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x019dca95;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0190562f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01f37637;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00a65f69;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02b9918a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03a189af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0182e8b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03d7aabe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00940f6f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01e13121;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00b828d7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00b52ca4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03ea6a01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03e6b3be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03e762c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02c7957d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x6b2583e4);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02c79523;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03b127cf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03bedac8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02b312a5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02fd06f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03ac6512;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02924f40;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01e98cb6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x039e1105;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01d4dfa9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03e2a7a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x028020cf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02bd94c5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00a363fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03938497;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01e1aaa9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03be0e87;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x019ebbc7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02a00cc6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02dbf622;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00b10762;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02bbe2e9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03cf0c91;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03996b68;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02d7eba1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01da7f38;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01add22f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00efd488;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02ef823b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01fca444;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x029ad60d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x018a285d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x029e7ba2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01fdf48e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01f5294b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03a4bc60;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01d69cfd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03b6f536;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x029e5116;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x038198e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x029042ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01e01b1e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01dd7e4c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x028acad9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03de4392;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03f7d04d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00bac62f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00c47c3b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01a17c8d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02f7387b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02c33929;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00fddf46;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00a5663f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x029029dc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00f56b79;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x039535ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01ed0e0d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x028015c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02ebb545;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00cc5701;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02b079e1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00bcec8d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01abc522;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02ef1b8d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00f4b2af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01ca3c9a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000003);
 addr = 0x008eeb14;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03fa15c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x039169ab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00c905cb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03d60c07;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03ad84a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02f5c473;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01cbfea7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02dccc6f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01ab857e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02d08d38;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x0283f2f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02e6f614;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00f98cc9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01b14927;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03a08b31;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02d557b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03c509f3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00a0fd42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x008a7f58;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00d777dc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02e3cf4c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00dee580;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01a0848d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x028d8671;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03ae5b91;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02df7955;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03a306a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02d5b23a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00d34988;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02f35adc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x0396fce2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x038505b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00d151e8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02c00274;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x6b2583e4);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x02c00277;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xd64b07c7,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0xd64b07c7);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00c0025c;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xd64b07c7,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01c328e1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03aa7c07;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00f085e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02cf6ec6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e6,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0185ed5c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03cd05dd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01a93f9b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x0293a892;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02c56773;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x02b30158;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02dcdf87;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x01a38f8a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x009955b6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03cc77b2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00e8628e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00d282b5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01e9256b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02e92525;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x01f371b8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01ac3490;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0098972d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03fca601;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03fd634f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00d174fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03fe507e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00e266fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x0182565d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00d39949;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00dd1001;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02e0ab51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x03ee889a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00d5b8d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03d5b8ff;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01f47ee5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x018bd9a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03a66c40;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00a98a5b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x009ec9f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00975855;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01c9210f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01b93e6c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00f2e770;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01e1b4f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03a09e43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01d40464;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000003);
 addr = 0x008bebd7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x02edf812;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x008bd808;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02d76232;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e3,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02cbf220;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000300000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x03a4f9c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02f1cc71;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e7,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x009d0580;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x039c0461;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00ef38c2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x028b546f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00c7ac22;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x018f9b2e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00c462aa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01ecaf46;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00a9ed62;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03fdb027;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x029eb824;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00f6fdb8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03d0b20a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00922c3b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0081ea2e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00ac9769;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x028fc97d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e5,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x00c0d428;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x01dfc604;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000003);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x01ca1d25;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000003);
 addr = 0x029190fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7a5510e4,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000100000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02cbd455;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e4,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x01a3f035;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00952f39;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x0388a727;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x0383e528;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x00d98bfc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02b762b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x019177b3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00ee82c2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00ee82fe;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000200000002);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01d72840;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00803078;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x03c674f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000001);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x03ce7206;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03b07264;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02c2ba31;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7a5510e6,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffe00000000);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x00d62bb1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000300000003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x0192ee0d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfffffffc00000001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x02af66f8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000002);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x6b2583e5);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x03af66b2;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000100000000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00b4b46c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0xfffffffd00000000);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfffffffd);
 addr = 0x01c49031;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000000000001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffe);
 addr = 0x02f70d24;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x6b2583e5,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00140000,action_out);
 phv_data_word = UINT64_C(0xffffffff00000000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfffffffc);
 addr = 0x03b467bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffffffc,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
 phv_data_word = UINT64_C(0x0000000000000003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xffffffff);
 addr = 0x00ebc083;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfffffffd,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffffffff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00440000,action_out);
// ********** end extracted from log
