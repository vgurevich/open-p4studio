// ********** begin extracted from log
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[0], 0xfef98990); /* a=0x2010900   <<salu_const_regfile[31:0]=32'hfef98990>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[1], 0xe317537d); /* a=0x2010904   <<salu_const_regfile[31:0]=32'he317537d>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[2], 0xa8132cdf); /* a=0x2010908   <<salu_const_regfile[31:0]=32'ha8132cdf>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[3], 0x123fad28); /* a=0x201090c   <<salu_const_regfile[31:0]=32'h123fad28>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[0], 0x126e7a08); /* a=0x2010910   <<salu_mathtable[31:0]=32'h126e7a08>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[1], 0x8127a5e6); /* a=0x2010914   <<salu_mathtable[31:0]=32'h8127a5e6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[2], 0xa41e0c07); /* a=0x2010918   <<salu_mathtable[31:0]=32'ha41e0c07>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[3], 0x84695e78); /* a=0x201091c   <<salu_mathtable[31:0]=32'h84695e78>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathunit_ctl, 0xb9); /* a=0x20109c8   <<salu_mathunit_output_scale[5:0]=6'h39>> <<salu_mathunit_exponent_invert[6:6]=1'h0>> <<salu_mathunit_exponent_shift[8:7]=2'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.stateful_ctl, 0x4d); /* a=0x20109cc   <<salu_enable[0:0]=1'h1>> <<salu_output_pred_comb_shift[5:1]=5'h06>> <<salu_output_pred_shift[8:6]=3'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][0], 0x223c0); /* a=0x2010980   <<salu_const_src[3:0]=4'h0>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h1>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h8>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][1], 0x9bc9); /* a=0x2010984   <<salu_const_src[3:0]=4'h9>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'hd>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h2>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][2], 0x18fd9); /* a=0x2010988   <<salu_const_src[3:0]=4'h9>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h7>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][3], 0x3917); /* a=0x201098c   <<salu_const_src[3:0]=4'h7>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'hc>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][0], 0x34477); /* a=0x2010990   <<salu_const_src[3:0]=4'h7>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h2>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'hd>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][1], 0x1104b); /* a=0x2010994   <<salu_const_src[3:0]=4'hb>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h8>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][2], 0x30551); /* a=0x2010998   <<salu_const_src[3:0]=4'h1>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h2>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'hc>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][3], 0x13557); /* a=0x201099c   <<salu_const_src[3:0]=4'h7>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'ha>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][0], 0x2b622); /* a=0x20109a0   <<salu_const_src[3:0]=4'h2>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'hb>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'ha>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][1], 0x28d35); /* a=0x20109a4   <<salu_const_src[3:0]=4'h5>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h6>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'ha>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][2], 0x2e375); /* a=0x20109a8   <<salu_const_src[3:0]=4'h5>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h1>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'hb>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][3], 0x2fa4d); /* a=0x20109ac   <<salu_const_src[3:0]=4'hd>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'hd>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'hb>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][0], 0x12416); /* a=0x20109b0   <<salu_const_src[3:0]=4'h6>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h2>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][1], 0x240d5); /* a=0x20109b4   <<salu_const_src[3:0]=4'h5>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h0>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h9>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][2], 0x17d68); /* a=0x20109b8   <<salu_const_src[3:0]=4'h8>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'he>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][3], 0x31422); /* a=0x20109bc   <<salu_const_src[3:0]=4'h2>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'ha>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'hc>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[0][0], 0xda); /* a=0x20109e0   <<salu_cmp_const_src[3:0]=4'ha>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[0][1], 0x5a56); /* a=0x20109e4   <<salu_cmp_const_src[3:0]=4'h6>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'hb>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[1][0], 0x3eeb); /* a=0x20109e8   <<salu_cmp_const_src[3:0]=4'hb>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'h7>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[1][1], 0x5672); /* a=0x20109ec   <<salu_cmp_const_src[3:0]=4'h2>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'ha>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[2][0], 0x589a); /* a=0x20109f0   <<salu_cmp_const_src[3:0]=4'ha>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'hb>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[2][1], 0x4465); /* a=0x20109f4   <<salu_cmp_const_src[3:0]=4'h5>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'h8>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[3][0], 0x7a4c); /* a=0x20109f8   <<salu_cmp_const_src[3:0]=4'hc>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'hf>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[3][1], 0x28a5); /* a=0x20109fc   <<salu_cmp_const_src[3:0]=4'h5>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'h5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[0], 0x69); /* a=0x2010920   <<salu_output_cmpfn[3:0]=4'h9>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[1], 0x6a); /* a=0x2010924   <<salu_output_cmpfn[3:0]=4'ha>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[2], 0x6a); /* a=0x2010928   <<salu_output_cmpfn[3:0]=4'ha>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[3], 0x64); /* a=0x201092c   <<salu_output_cmpfn[3:0]=4'h4>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[0], 0x5f); /* a=0x2010930   <<salu_alu2_lo_bsrc_math[0:0]=1'h1>> <<salu_alu2_lo_math_src[2:1]=2'h3>> <<salu_datasize[5:3]=3'h3>> <<salu_op_dual[6:6]=1'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[1], 0x18); /* a=0x2010934   <<salu_alu2_lo_bsrc_math[0:0]=1'h0>> <<salu_alu2_lo_math_src[2:1]=2'h0>> <<salu_datasize[5:3]=3'h3>> <<salu_op_dual[6:6]=1'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[2], 0x19); /* a=0x2010938   <<salu_alu2_lo_bsrc_math[0:0]=1'h1>> <<salu_alu2_lo_math_src[2:1]=2'h0>> <<salu_datasize[5:3]=3'h3>> <<salu_op_dual[6:6]=1'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[3], 0x5e); /* a=0x201093c   <<salu_alu2_lo_bsrc_math[0:0]=1'h0>> <<salu_alu2_lo_math_src[2:1]=2'h3>> <<salu_datasize[5:3]=3'h3>> <<salu_op_dual[6:6]=1'h1>> */
 phv_data_word = UINT64_C(0x0300020000010300);
 data_in_bv.set32(0,0x02000100);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00010101);
 data_in_bv.set32(3,0xfc020101);
 addr = 0x00affd84;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0200ff00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202020101010002);
 data_in_bv.set32(0,0x00000101);
 data_in_bv.set32(1,0x03030001);
 data_in_bv.set32(2,0x00020201);
 data_in_bv.set32(3,0x01020003);
 addr = 0x00ccf37d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01010302030202);
 data_in_bv.set32(0,0x01010300);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x03010001);
 data_in_bv.set32(3,0xfe000000);
 addr = 0x02e44ff2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfeff0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe03020000030100);
 data_in_bv.set32(0,0x01020202);
 data_in_bv.set32(1,0x01000001);
 data_in_bv.set32(2,0x03030100);
 data_in_bv.set32(3,0xfd000203);
 addr = 0x0195c5cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0000020000030303);
 data_in_bv.set32(0,0x03010003);
 data_in_bv.set32(1,0x01030001);
 data_in_bv.set32(2,0x02000002);
 data_in_bv.set32(3,0xff010102);
 addr = 0x02d62e10;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x037d0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff02030203000103);
 data_in_bv.set32(0,0x03030000);
 data_in_bv.set32(1,0x00010100);
 data_in_bv.set32(2,0x01030203);
 data_in_bv.set32(3,0x00010300);
 addr = 0x02f59f10;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x037f0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0302010302010302);
 data_in_bv.set32(0,0x02030103);
 data_in_bv.set32(1,0x02000000);
 data_in_bv.set32(2,0x02000101);
 data_in_bv.set32(3,0x03020300);
 addr = 0x01c4cb7c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0000000303000003);
 data_in_bv.set32(0,0x01030000);
 data_in_bv.set32(1,0x02010101);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0xfd030002);
 addr = 0x02f126ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd037d02,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0002000200010303);
 data_in_bv.set32(0,0x01010100);
 data_in_bv.set32(1,0x02010000);
 data_in_bv.set32(2,0x03000100);
 data_in_bv.set32(3,0xfc000300);
 addr = 0x01ac84bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0002010100000002);
 data_in_bv.set32(0,0x01010100);
 data_in_bv.set32(1,0x02010000);
 data_in_bv.set32(2,0x03000100);
 data_in_bv.set32(3,0xfc000300);
 addr = 0x02ac8480;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x010101ff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe01010000010203);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x02020000);
 data_in_bv.set32(2,0x02000000);
 data_in_bv.set32(3,0xfc010102);
 addr = 0x02d33c29;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02027d00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0001020202000003);
 data_in_bv.set32(0,0x01000001);
 data_in_bv.set32(1,0x02010301);
 data_in_bv.set32(2,0x02020203);
 data_in_bv.set32(3,0xfc020200);
 addr = 0x01d272ab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc02020302030002);
 data_in_bv.set32(0,0x03000202);
 data_in_bv.set32(1,0x02000301);
 data_in_bv.set32(2,0x00000301);
 data_in_bv.set32(3,0xfd010100);
 addr = 0x02d600a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x020003fe,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff03030300000302);
 data_in_bv.set32(0,0x02030101);
 data_in_bv.set32(1,0x00000302);
 data_in_bv.set32(2,0x03020200);
 data_in_bv.set32(3,0xfc010003);
 addr = 0x009e8982;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0203ff01,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03030102000000);
 data_in_bv.set32(0,0x02010103);
 data_in_bv.set32(1,0x02010000);
 data_in_bv.set32(2,0x03000302);
 data_in_bv.set32(3,0xfd030203);
 addr = 0x0293e7e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd0302fe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd00010202010103);
 data_in_bv.set32(0,0x02010002);
 data_in_bv.set32(1,0x00010300);
 data_in_bv.set32(2,0x03030200);
 data_in_bv.set32(3,0xff000302);
 addr = 0x03af3f84;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002030303020203);
 data_in_bv.set32(0,0x01030103);
 data_in_bv.set32(1,0x03020203);
 data_in_bv.set32(2,0x03020202);
 data_in_bv.set32(3,0x00000302);
 addr = 0x01f7115e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc00000200020202);
 data_in_bv.set32(0,0x02030303);
 data_in_bv.set32(1,0x02020302);
 data_in_bv.set32(2,0x03020300);
 data_in_bv.set32(3,0xfd020300);
 addr = 0x03ebca8b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002030201010001);
 data_in_bv.set32(0,0x03030101);
 data_in_bv.set32(1,0x00010201);
 data_in_bv.set32(2,0x00030301);
 data_in_bv.set32(3,0x00030102);
 addr = 0x008a38dd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301030200020203);
 data_in_bv.set32(0,0x02020300);
 data_in_bv.set32(1,0x01030302);
 data_in_bv.set32(2,0x02020302);
 data_in_bv.set32(3,0xfc020300);
 addr = 0x03ac634b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102020003010203);
 data_in_bv.set32(0,0x01000001);
 data_in_bv.set32(1,0x02030303);
 data_in_bv.set32(2,0x00030103);
 data_in_bv.set32(3,0xff010103);
 addr = 0x02e2e9e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff01017f,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff03000003020100);
 data_in_bv.set32(0,0x03000003);
 data_in_bv.set32(1,0x03020002);
 data_in_bv.set32(2,0x01020203);
 data_in_bv.set32(3,0x02030103);
 addr = 0x03a97009;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201020202030100);
 data_in_bv.set32(0,0x01020201);
 data_in_bv.set32(1,0x03010002);
 data_in_bv.set32(2,0x03000203);
 data_in_bv.set32(3,0x03000302);
 addr = 0x02eaccdd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0102020001020300);
 data_in_bv.set32(0,0x02010003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x03030001);
 data_in_bv.set32(3,0x00000301);
 addr = 0x01d6480d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0303020301030102);
 data_in_bv.set32(0,0x01020200);
 data_in_bv.set32(1,0x02010202);
 data_in_bv.set32(2,0x02000200);
 data_in_bv.set32(3,0xfc030301);
 addr = 0x03cf4f08;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201010301030103);
 data_in_bv.set32(0,0x02030101);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x02030000);
 data_in_bv.set32(3,0x01010300);
 addr = 0x02b1c018;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x7f030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0000000103020203);
 data_in_bv.set32(0,0x02000001);
 data_in_bv.set32(1,0x02010302);
 data_in_bv.set32(2,0x03000001);
 data_in_bv.set32(3,0xff020201);
 addr = 0x01b35b91;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd03030000010303);
 data_in_bv.set32(0,0x01030201);
 data_in_bv.set32(1,0x03010202);
 data_in_bv.set32(2,0x01000102);
 data_in_bv.set32(3,0xff000003);
 addr = 0x039cfa09;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002020000010303);
 data_in_bv.set32(0,0x00010200);
 data_in_bv.set32(1,0x02030101);
 data_in_bv.set32(2,0x03000302);
 data_in_bv.set32(3,0x02020101);
 addr = 0x00d690df;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfc000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02030303030200);
 data_in_bv.set32(0,0x02030202);
 data_in_bv.set32(1,0x01010302);
 data_in_bv.set32(2,0x01000303);
 data_in_bv.set32(3,0x02010103);
 addr = 0x0095eb0a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0203ff02,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303030102030202);
 data_in_bv.set32(0,0x02020202);
 data_in_bv.set32(1,0x00030201);
 data_in_bv.set32(2,0x03000100);
 data_in_bv.set32(3,0x00000000);
 addr = 0x028a980a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0202ff02,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0200010200000301);
 data_in_bv.set32(0,0x01010303);
 data_in_bv.set32(1,0x01000003);
 data_in_bv.set32(2,0x03010203);
 data_in_bv.set32(3,0x01030303);
 addr = 0x02d6e000;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x010103fe,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0201030200020103);
 data_in_bv.set32(0,0x00030203);
 data_in_bv.set32(1,0x01020302);
 data_in_bv.set32(2,0x01000302);
 data_in_bv.set32(3,0xfe030202);
 addr = 0x00c32ec5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0100fc02,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002010102000201);
 data_in_bv.set32(0,0x03020302);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0x01020302);
 addr = 0x01cfb5e9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc03030003030002);
 data_in_bv.set32(0,0x03010103);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030100);
 data_in_bv.set32(3,0xfe030301);
 addr = 0x008b70ef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe03fd01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00030103010301);
 data_in_bv.set32(0,0x00010300);
 data_in_bv.set32(1,0x03030002);
 data_in_bv.set32(2,0x02010302);
 data_in_bv.set32(3,0x01010201);
 addr = 0x03d70c30;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101010101030100);
 data_in_bv.set32(0,0x02020001);
 data_in_bv.set32(1,0x01020203);
 data_in_bv.set32(2,0x02000303);
 data_in_bv.set32(3,0x03010200);
 addr = 0x01cbbbe4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd01010000030100);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x01020100);
 data_in_bv.set32(3,0x01000000);
 addr = 0x01f10b53;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0301000101000303);
 data_in_bv.set32(0,0x03030203);
 data_in_bv.set32(1,0x02020002);
 data_in_bv.set32(2,0x03030301);
 data_in_bv.set32(3,0xfd010002);
 addr = 0x01e600d2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd00000003030000);
 data_in_bv.set32(0,0x03010202);
 data_in_bv.set32(1,0x02020301);
 data_in_bv.set32(2,0x00000201);
 data_in_bv.set32(3,0xfc010201);
 addr = 0x00b314c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000ff01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03030201000302);
 data_in_bv.set32(0,0x01000000);
 data_in_bv.set32(1,0x02030000);
 data_in_bv.set32(2,0x03000300);
 data_in_bv.set32(3,0xfe030100);
 addr = 0x00f5d85c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfd000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101000100020103);
 data_in_bv.set32(0,0x01020102);
 data_in_bv.set32(1,0x02000303);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfe030302);
 addr = 0x019053d2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc03030302010103);
 data_in_bv.set32(0,0x01020301);
 data_in_bv.set32(1,0x02020203);
 data_in_bv.set32(2,0x03020100);
 data_in_bv.set32(3,0xfc030103);
 addr = 0x01d7d85b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0200020101000200);
 data_in_bv.set32(0,0x02020002);
 data_in_bv.set32(1,0x02030302);
 data_in_bv.set32(2,0x03020103);
 data_in_bv.set32(3,0xfe000301);
 addr = 0x02b72e0a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0202ff02,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0001010001000003);
 data_in_bv.set32(0,0x01030003);
 data_in_bv.set32(1,0x02000201);
 data_in_bv.set32(2,0x02020103);
 data_in_bv.set32(3,0x01000001);
 addr = 0x00d0715d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfd020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02000201010001);
 data_in_bv.set32(0,0x03020000);
 data_in_bv.set32(1,0x01010102);
 data_in_bv.set32(2,0x01030000);
 data_in_bv.set32(3,0xff030300);
 addr = 0x019db729;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0102030203010002);
 data_in_bv.set32(0,0x03020000);
 data_in_bv.set32(1,0x01010102);
 data_in_bv.set32(2,0x01030000);
 data_in_bv.set32(3,0xff030300);
 addr = 0x009db711;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfd020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03010201010303);
 data_in_bv.set32(0,0x00020201);
 data_in_bv.set32(1,0x03000000);
 data_in_bv.set32(2,0x03030303);
 data_in_bv.set32(3,0xfc020200);
 addr = 0x02cbfd5a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x7f030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0102000302030101);
 data_in_bv.set32(0,0x03000200);
 data_in_bv.set32(1,0x03030301);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x03000202);
 addr = 0x01a550d6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc02030100010003);
 data_in_bv.set32(0,0x03000201);
 data_in_bv.set32(1,0x01000202);
 data_in_bv.set32(2,0x02000300);
 data_in_bv.set32(3,0xfd030301);
 addr = 0x01901d17;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe01000002010101);
 data_in_bv.set32(0,0x03030002);
 data_in_bv.set32(1,0x03020100);
 data_in_bv.set32(2,0x03010301);
 data_in_bv.set32(3,0x01030001);
 addr = 0x00a18b13;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01030001020300);
 data_in_bv.set32(0,0x00030103);
 data_in_bv.set32(1,0x03030102);
 data_in_bv.set32(2,0x02010301);
 data_in_bv.set32(3,0xff010202);
 addr = 0x02f9e4bf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0300000303020100);
 data_in_bv.set32(0,0x01020302);
 data_in_bv.set32(1,0x03010302);
 data_in_bv.set32(2,0x01010301);
 data_in_bv.set32(3,0x02020102);
 addr = 0x03c8b16b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201000103020101);
 data_in_bv.set32(0,0x02010001);
 data_in_bv.set32(1,0x00010202);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0xfc000002);
 addr = 0x018619e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc02020301030303);
 data_in_bv.set32(0,0x01010300);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x02030202);
 data_in_bv.set32(3,0x00010202);
 addr = 0x009bb8b6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfd000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203010203010003);
 data_in_bv.set32(0,0x00030102);
 data_in_bv.set32(1,0x00010203);
 data_in_bv.set32(2,0x03030301);
 data_in_bv.set32(3,0x01010300);
 addr = 0x00ed066e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0101fc00,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001020301030003);
 data_in_bv.set32(0,0x01020102);
 data_in_bv.set32(1,0x01010101);
 data_in_bv.set32(2,0x02020200);
 data_in_bv.set32(3,0x03020203);
 addr = 0x028ba534;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x017d0101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff03020001000301);
 data_in_bv.set32(0,0x02010202);
 data_in_bv.set32(1,0x02030200);
 data_in_bv.set32(2,0x02000302);
 data_in_bv.set32(3,0x02020100);
 addr = 0x03b85dc4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02030103010000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x01010200);
 data_in_bv.set32(2,0x02020202);
 data_in_bv.set32(3,0xff010200);
 addr = 0x00a00327;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0101ff00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03000001010103);
 data_in_bv.set32(0,0x00000102);
 data_in_bv.set32(1,0x00030301);
 data_in_bv.set32(2,0x00000200);
 data_in_bv.set32(3,0xfe010302);
 addr = 0x01aa7379;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0201000103000002);
 data_in_bv.set32(0,0x02000001);
 data_in_bv.set32(1,0x03010203);
 data_in_bv.set32(2,0x00030301);
 data_in_bv.set32(3,0x02000200);
 addr = 0x01a760ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc00010300000000);
 data_in_bv.set32(0,0x00010202);
 data_in_bv.set32(1,0x03000203);
 data_in_bv.set32(2,0x00010302);
 data_in_bv.set32(3,0x01030302);
 addr = 0x01de1adb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0201030001010101);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x01020201);
 data_in_bv.set32(2,0x00030203);
 data_in_bv.set32(3,0x01020003);
 addr = 0x01e8e7a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc00010001000202);
 data_in_bv.set32(0,0x03000000);
 data_in_bv.set32(1,0x03020100);
 data_in_bv.set32(2,0x02030003);
 data_in_bv.set32(3,0xfe030302);
 addr = 0x02b7853b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02020201000301);
 data_in_bv.set32(0,0x02030302);
 data_in_bv.set32(1,0x01020000);
 data_in_bv.set32(2,0x01010103);
 data_in_bv.set32(3,0xfc020002);
 addr = 0x00ea3ff9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101030103010001);
 data_in_bv.set32(0,0x00020101);
 data_in_bv.set32(1,0x00020202);
 data_in_bv.set32(2,0x03030102);
 data_in_bv.set32(3,0xfc000100);
 addr = 0x02da0b53;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03fe0102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe00030203000002);
 data_in_bv.set32(0,0x00020202);
 data_in_bv.set32(1,0x02010002);
 data_in_bv.set32(2,0x01000100);
 data_in_bv.set32(3,0xfc030303);
 addr = 0x02a38eee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc03fe03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0100010103000002);
 data_in_bv.set32(0,0x03030200);
 data_in_bv.set32(1,0x02020001);
 data_in_bv.set32(2,0x03010201);
 data_in_bv.set32(3,0xff010200);
 addr = 0x02dbd8f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0200030201020100);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x02000202);
 data_in_bv.set32(2,0x01020201);
 data_in_bv.set32(3,0xfd030201);
 addr = 0x0194d47a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe01000100020001);
 data_in_bv.set32(0,0x03000100);
 data_in_bv.set32(1,0x03030301);
 data_in_bv.set32(2,0x02010202);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00871534;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03030202020100);
 data_in_bv.set32(0,0x01020001);
 data_in_bv.set32(1,0x03020201);
 data_in_bv.set32(2,0x03010301);
 data_in_bv.set32(3,0xfd030003);
 addr = 0x02a50066;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd0300fe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe01030103000002);
 data_in_bv.set32(0,0x03020200);
 data_in_bv.set32(1,0x03020201);
 data_in_bv.set32(2,0x02030303);
 data_in_bv.set32(3,0x00030001);
 addr = 0x0180bfe9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0102030100000100);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x02010203);
 data_in_bv.set32(2,0x01030300);
 data_in_bv.set32(3,0x02010002);
 addr = 0x008d54f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201030101010302);
 data_in_bv.set32(0,0x02030303);
 data_in_bv.set32(1,0x02010302);
 data_in_bv.set32(2,0x02000102);
 data_in_bv.set32(3,0xfe010001);
 addr = 0x01ca8a7f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0202030203020302);
 data_in_bv.set32(0,0x01030301);
 data_in_bv.set32(1,0x01030200);
 data_in_bv.set32(2,0x00030302);
 data_in_bv.set32(3,0xff030201);
 addr = 0x03abd61a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301010003000002);
 data_in_bv.set32(0,0x00010103);
 data_in_bv.set32(1,0x01030302);
 data_in_bv.set32(2,0x02000200);
 data_in_bv.set32(3,0xff030203);
 addr = 0x00a6e3b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202020002020000);
 data_in_bv.set32(0,0x02020003);
 data_in_bv.set32(1,0x03000202);
 data_in_bv.set32(2,0x03020303);
 data_in_bv.set32(3,0x00030302);
 addr = 0x00fc2b66;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003ff02,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003020202020100);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x02000200);
 data_in_bv.set32(2,0x00030100);
 data_in_bv.set32(3,0x00030202);
 addr = 0x03dbc8ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103000103000102);
 data_in_bv.set32(0,0x00020300);
 data_in_bv.set32(1,0x01010303);
 data_in_bv.set32(2,0x01000202);
 data_in_bv.set32(3,0x00020102);
 addr = 0x01de779a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc03010103020302);
 data_in_bv.set32(0,0x00000200);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x03030200);
 data_in_bv.set32(3,0xfd020303);
 addr = 0x00e1edfb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03020103020102);
 data_in_bv.set32(0,0x00020100);
 data_in_bv.set32(1,0x03010202);
 data_in_bv.set32(2,0x01000303);
 data_in_bv.set32(3,0x00010201);
 addr = 0x00af088c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002ff00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02020002010000);
 data_in_bv.set32(0,0x02030201);
 data_in_bv.set32(1,0x01000203);
 data_in_bv.set32(2,0x00010302);
 data_in_bv.set32(3,0xfe030101);
 addr = 0x02b2f310;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02fe0201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff03000303000001);
 data_in_bv.set32(0,0x01000100);
 data_in_bv.set32(1,0x02010301);
 data_in_bv.set32(2,0x02020000);
 data_in_bv.set32(3,0x03010202);
 addr = 0x0099b87e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301000202020302);
 data_in_bv.set32(0,0x01010301);
 data_in_bv.set32(1,0x03010103);
 data_in_bv.set32(2,0x01000003);
 data_in_bv.set32(3,0xff010300);
 addr = 0x01bcb4f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0100030101020100);
 data_in_bv.set32(0,0x02020202);
 data_in_bv.set32(1,0x02020202);
 data_in_bv.set32(2,0x01010001);
 data_in_bv.set32(3,0xfe000002);
 addr = 0x00c95e77;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301010100000001);
 data_in_bv.set32(0,0x00010100);
 data_in_bv.set32(1,0x03010303);
 data_in_bv.set32(2,0x03020101);
 data_in_bv.set32(3,0x02000002);
 addr = 0x00da9dfe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102030303000102);
 data_in_bv.set32(0,0x02010200);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x02030000);
 data_in_bv.set32(3,0x00030203);
 addr = 0x01fb5da7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0200030302000303);
 data_in_bv.set32(0,0x03030302);
 data_in_bv.set32(1,0x01010300);
 data_in_bv.set32(2,0x02010203);
 data_in_bv.set32(3,0xfe030201);
 addr = 0x03c0fe86;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01010103030101);
 data_in_bv.set32(0,0x01030100);
 data_in_bv.set32(1,0x02000100);
 data_in_bv.set32(2,0x01010003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02c57bd5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fe0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd03030100010301);
 data_in_bv.set32(0,0x01010101);
 data_in_bv.set32(1,0x03000003);
 data_in_bv.set32(2,0x03000000);
 data_in_bv.set32(3,0x00030203);
 addr = 0x02d3087e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0001000300020103);
 data_in_bv.set32(0,0x02030000);
 data_in_bv.set32(1,0x02010103);
 data_in_bv.set32(2,0x02020101);
 data_in_bv.set32(3,0xfd020302);
 addr = 0x029fc058;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x7f020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff02000103030202);
 data_in_bv.set32(0,0x00020103);
 data_in_bv.set32(1,0x01000203);
 data_in_bv.set32(2,0x00000102);
 data_in_bv.set32(3,0xfc000002);
 addr = 0x00ae2072;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02020302020201);
 data_in_bv.set32(0,0x01010303);
 data_in_bv.set32(1,0x00000300);
 data_in_bv.set32(2,0x00010100);
 data_in_bv.set32(3,0x03030301);
 addr = 0x03df9931;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303010103030003);
 data_in_bv.set32(0,0x01000203);
 data_in_bv.set32(1,0x02020201);
 data_in_bv.set32(2,0x02020003);
 data_in_bv.set32(3,0x01010303);
 addr = 0x02b2b643;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0202007f,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0102010102030203);
 data_in_bv.set32(0,0x01030202);
 data_in_bv.set32(1,0x01000300);
 data_in_bv.set32(2,0x02020002);
 data_in_bv.set32(3,0x00000003);
 addr = 0x008bb3ab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0100fc00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01000000030200);
 data_in_bv.set32(0,0x03020001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x01020002);
 data_in_bv.set32(3,0xfc020303);
 addr = 0x03af37cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01030101000102);
 data_in_bv.set32(0,0x00010200);
 data_in_bv.set32(1,0x01000000);
 data_in_bv.set32(2,0x03020101);
 data_in_bv.set32(3,0x01020203);
 addr = 0x03c5f512;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01000300000302);
 data_in_bv.set32(0,0x02020203);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x01000003);
 data_in_bv.set32(3,0x02000102);
 addr = 0x03a40a53;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000102010301);
 data_in_bv.set32(0,0x01010103);
 data_in_bv.set32(1,0x02020201);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x01000203);
 addr = 0x03a68c18;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00000102030202);
 data_in_bv.set32(0,0x02030301);
 data_in_bv.set32(1,0x02010203);
 data_in_bv.set32(2,0x03000301);
 data_in_bv.set32(3,0x00020100);
 addr = 0x01b82b4b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe00030003030201);
 data_in_bv.set32(0,0x00010200);
 data_in_bv.set32(1,0x00020200);
 data_in_bv.set32(2,0x01000200);
 data_in_bv.set32(3,0xfe010302);
 addr = 0x00fec1d6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02010001000000);
 data_in_bv.set32(0,0x03030003);
 data_in_bv.set32(1,0x03000302);
 data_in_bv.set32(2,0x02000300);
 data_in_bv.set32(3,0x02010301);
 addr = 0x01de94d6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0102000001030003);
 data_in_bv.set32(0,0x03000003);
 data_in_bv.set32(1,0x00010300);
 data_in_bv.set32(2,0x02020003);
 data_in_bv.set32(3,0xfe030002);
 addr = 0x02837614;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x037d0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0203020001030300);
 data_in_bv.set32(0,0x00000202);
 data_in_bv.set32(1,0x01030002);
 data_in_bv.set32(2,0x00010301);
 data_in_bv.set32(3,0xfc030000);
 addr = 0x03ad691b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02000100020101);
 data_in_bv.set32(0,0x00030302);
 data_in_bv.set32(1,0x01010302);
 data_in_bv.set32(2,0x00020102);
 data_in_bv.set32(3,0x01020203);
 addr = 0x03d2f4c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003030303020001);
 data_in_bv.set32(0,0x03030200);
 data_in_bv.set32(1,0x00030103);
 data_in_bv.set32(2,0x02030300);
 data_in_bv.set32(3,0x00020101);
 addr = 0x0380b408;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302010202030001);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x01000303);
 data_in_bv.set32(2,0x03000302);
 data_in_bv.set32(3,0xfd010101);
 addr = 0x03c958b0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002030103010102);
 data_in_bv.set32(0,0x02020300);
 data_in_bv.set32(1,0x00010102);
 data_in_bv.set32(2,0x03000300);
 data_in_bv.set32(3,0x03030302);
 addr = 0x01bb0143;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0002010202030202);
 data_in_bv.set32(0,0x03010200);
 data_in_bv.set32(1,0x00000203);
 data_in_bv.set32(2,0x03020101);
 data_in_bv.set32(3,0xfe030102);
 addr = 0x03ee720a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00020203000301);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x01010003);
 data_in_bv.set32(2,0x01000000);
 data_in_bv.set32(3,0xff030302);
 addr = 0x01fc1736;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd01030301020203);
 data_in_bv.set32(0,0x01000201);
 data_in_bv.set32(1,0x03030000);
 data_in_bv.set32(2,0x02030202);
 data_in_bv.set32(3,0x01030002);
 addr = 0x01a93e1e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe03000000000003);
 data_in_bv.set32(0,0x03030003);
 data_in_bv.set32(1,0x03030303);
 data_in_bv.set32(2,0x02020302);
 data_in_bv.set32(3,0xfd020102);
 addr = 0x03a1f32d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00010302010303);
 data_in_bv.set32(0,0x00000300);
 data_in_bv.set32(1,0x02000002);
 data_in_bv.set32(2,0x02010003);
 data_in_bv.set32(3,0xfd000103);
 addr = 0x00a26fec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd00fe03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301010103030202);
 data_in_bv.set32(0,0x02030202);
 data_in_bv.set32(1,0x00010202);
 data_in_bv.set32(2,0x02020202);
 data_in_bv.set32(3,0xfc000000);
 addr = 0x029353b8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff01020000020301);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00010200);
 data_in_bv.set32(2,0x02000000);
 data_in_bv.set32(3,0x02010201);
 addr = 0x00c22e5b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002020003030100);
 data_in_bv.set32(0,0x03010301);
 data_in_bv.set32(1,0x03010301);
 data_in_bv.set32(2,0x01000200);
 data_in_bv.set32(3,0xff010101);
 addr = 0x00916d99;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302020103000102);
 data_in_bv.set32(0,0x02030002);
 data_in_bv.set32(1,0x02010302);
 data_in_bv.set32(2,0x03020201);
 data_in_bv.set32(3,0x02000303);
 addr = 0x02bae504;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x020300ff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0303000201030300);
 data_in_bv.set32(0,0x03010301);
 data_in_bv.set32(1,0x03010202);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xff000100);
 addr = 0x01aab0e9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0201000101030002);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x03030302);
 data_in_bv.set32(2,0x01010001);
 data_in_bv.set32(3,0xfe030102);
 addr = 0x03a9ed53;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202000301010101);
 data_in_bv.set32(0,0x01010102);
 data_in_bv.set32(1,0x00000301);
 data_in_bv.set32(2,0x00030202);
 data_in_bv.set32(3,0x02000002);
 addr = 0x02877d4b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003ff02,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0201030100010201);
 data_in_bv.set32(0,0x03000100);
 data_in_bv.set32(1,0x02020201);
 data_in_bv.set32(2,0x01020302);
 data_in_bv.set32(3,0x02010000);
 addr = 0x00861a4c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0102fe02,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02020000020103);
 data_in_bv.set32(0,0x01030201);
 data_in_bv.set32(1,0x00020100);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0x01010103);
 addr = 0x00f9d298;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02000200000100);
 data_in_bv.set32(0,0x03030300);
 data_in_bv.set32(1,0x01020102);
 data_in_bv.set32(2,0x02020201);
 data_in_bv.set32(3,0xfd000103);
 addr = 0x008128b3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203010003020000);
 data_in_bv.set32(0,0x00000200);
 data_in_bv.set32(1,0x03020001);
 data_in_bv.set32(2,0x03000203);
 data_in_bv.set32(3,0xfc030103);
 addr = 0x00f19dfb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000003010300);
 data_in_bv.set32(0,0x02010202);
 data_in_bv.set32(1,0x02010000);
 data_in_bv.set32(2,0x01000202);
 data_in_bv.set32(3,0x03020301);
 addr = 0x01d4cf85;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff03010103000202);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x03030301);
 data_in_bv.set32(2,0x01000101);
 data_in_bv.set32(3,0x00010203);
 addr = 0x0280c038;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0002010000020001);
 data_in_bv.set32(0,0x00030303);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00030101);
 data_in_bv.set32(3,0x02000001);
 addr = 0x03a8d6be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003010201030302);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x03010200);
 data_in_bv.set32(2,0x03020100);
 data_in_bv.set32(3,0xff030202);
 addr = 0x02f9b128;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0301ff00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0200020000020103);
 data_in_bv.set32(0,0x02020200);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x03000200);
 data_in_bv.set32(3,0x00030302);
 addr = 0x03acdc3f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202030003010303);
 data_in_bv.set32(0,0x03020003);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x02000000);
 data_in_bv.set32(3,0x03010300);
 addr = 0x02c60d7d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7f010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0303000201030002);
 data_in_bv.set32(0,0x02030000);
 data_in_bv.set32(1,0x02010302);
 data_in_bv.set32(2,0x02030303);
 data_in_bv.set32(3,0xfc030202);
 addr = 0x01b6b088;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0300030202000200);
 data_in_bv.set32(0,0x03010302);
 data_in_bv.set32(1,0x03030102);
 data_in_bv.set32(2,0x00030202);
 data_in_bv.set32(3,0x01010100);
 addr = 0x03d736f3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200000300020103);
 data_in_bv.set32(0,0x03020302);
 data_in_bv.set32(1,0x03030001);
 data_in_bv.set32(2,0x03020201);
 data_in_bv.set32(3,0x00020102);
 addr = 0x00f8f80b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0302fc02,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00000103000302);
 data_in_bv.set32(0,0x03000302);
 data_in_bv.set32(1,0x02010200);
 data_in_bv.set32(2,0x01010001);
 data_in_bv.set32(3,0xfc010001);
 addr = 0x038146c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00030002010102);
 data_in_bv.set32(0,0x01020002);
 data_in_bv.set32(1,0x01000303);
 data_in_bv.set32(2,0x03010000);
 data_in_bv.set32(3,0xff000003);
 addr = 0x019648b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd01000302020103);
 data_in_bv.set32(0,0x02020000);
 data_in_bv.set32(1,0x01000003);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0x02010102);
 addr = 0x02d09127;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0100007f,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd01000103010100);
 data_in_bv.set32(0,0x02020000);
 data_in_bv.set32(1,0x0100007f);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0x02010102);
 addr = 0x03d09163;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0100007f,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000200030300);
 data_in_bv.set32(0,0x03000302);
 data_in_bv.set32(1,0x02020001);
 data_in_bv.set32(2,0x00030102);
 data_in_bv.set32(3,0xfc030000);
 addr = 0x01c33c71;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0100030100000203);
 data_in_bv.set32(0,0x02000001);
 data_in_bv.set32(1,0x01030103);
 data_in_bv.set32(2,0x03010303);
 data_in_bv.set32(3,0xff010200);
 addr = 0x01bda59e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd03010101000001);
 data_in_bv.set32(0,0x00020101);
 data_in_bv.set32(1,0x01030202);
 data_in_bv.set32(2,0x01010200);
 data_in_bv.set32(3,0xfd020302);
 addr = 0x03e72ae3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03020200030301);
 data_in_bv.set32(0,0x01020202);
 data_in_bv.set32(1,0x02000200);
 data_in_bv.set32(2,0x03020203);
 data_in_bv.set32(3,0xff000001);
 addr = 0x03aaad3a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00000100020302);
 data_in_bv.set32(0,0x02010000);
 data_in_bv.set32(1,0x01010303);
 data_in_bv.set32(2,0x02030102);
 data_in_bv.set32(3,0xfe030101);
 addr = 0x009ec034;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202000003020102);
 data_in_bv.set32(0,0x03000200);
 data_in_bv.set32(1,0x01010002);
 data_in_bv.set32(2,0x01010003);
 data_in_bv.set32(3,0xfe030300);
 addr = 0x02ed0c00;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x030002ff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0001010301000103);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030202);
 data_in_bv.set32(2,0x02020200);
 data_in_bv.set32(3,0xff030001);
 addr = 0x01c80335;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc01020102010100);
 data_in_bv.set32(0,0x03020100);
 data_in_bv.set32(1,0x03030103);
 data_in_bv.set32(2,0x00000301);
 data_in_bv.set32(3,0x00000101);
 addr = 0x02c9c908;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0302fe00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0200010101030101);
 data_in_bv.set32(0,0x02030003);
 data_in_bv.set32(1,0x01030001);
 data_in_bv.set32(2,0x02000002);
 data_in_bv.set32(3,0x01030003);
 addr = 0x00c49d37;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100030100020002);
 data_in_bv.set32(0,0x01010200);
 data_in_bv.set32(1,0x01010003);
 data_in_bv.set32(2,0x02030001);
 data_in_bv.set32(3,0xff020001);
 addr = 0x01f01ed5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0000000002000003);
 data_in_bv.set32(0,0x02030203);
 data_in_bv.set32(1,0x03020101);
 data_in_bv.set32(2,0x02030003);
 data_in_bv.set32(3,0x00020200);
 addr = 0x00a619b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfc020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003010000030101);
 data_in_bv.set32(0,0x01000100);
 data_in_bv.set32(1,0x02010303);
 data_in_bv.set32(2,0x03020303);
 data_in_bv.set32(3,0x03030000);
 addr = 0x0381c663;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002020200020301);
 data_in_bv.set32(0,0x02030102);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x02020003);
 data_in_bv.set32(3,0xff020000);
 addr = 0x03975671;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00030302030302);
 data_in_bv.set32(0,0x01010102);
 data_in_bv.set32(1,0x02020302);
 data_in_bv.set32(2,0x03000302);
 data_in_bv.set32(3,0xfd020001);
 addr = 0x03f7e5c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03000201000100);
 data_in_bv.set32(0,0x01010102);
 data_in_bv.set32(1,0x02020302);
 data_in_bv.set32(2,0x03000302);
 data_in_bv.set32(3,0xfd020001);
 addr = 0x02f7e5a2;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x020203ff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0100020000000001);
 data_in_bv.set32(0,0x01030301);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x01000000);
 data_in_bv.set32(3,0xff010100);
 addr = 0x02a5fab2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00ff0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02020103000103);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x02000302);
 data_in_bv.set32(2,0x03000002);
 data_in_bv.set32(3,0x02000203);
 addr = 0x0299a590;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x007d0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0200020102000202);
 data_in_bv.set32(0,0x00020303);
 data_in_bv.set32(1,0x00000100);
 data_in_bv.set32(2,0x01000100);
 data_in_bv.set32(3,0x01000001);
 addr = 0x00fe335e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03020201010203);
 data_in_bv.set32(0,0x02030302);
 data_in_bv.set32(1,0x02000301);
 data_in_bv.set32(2,0x01000303);
 data_in_bv.set32(3,0xff020003);
 addr = 0x03859f54;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03030102030303);
 data_in_bv.set32(0,0x01030103);
 data_in_bv.set32(1,0x02020303);
 data_in_bv.set32(2,0x03020103);
 data_in_bv.set32(3,0xff000202);
 addr = 0x029a299f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x7d030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0001000002030100);
 data_in_bv.set32(0,0x00010201);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00000100);
 data_in_bv.set32(3,0xfe020103);
 addr = 0x0093990d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001ff01,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102020303020001);
 data_in_bv.set32(0,0x01010003);
 data_in_bv.set32(1,0x01010203);
 data_in_bv.set32(2,0x02030003);
 data_in_bv.set32(3,0x02010102);
 addr = 0x0087ea39;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01020200000002);
 data_in_bv.set32(0,0x00030101);
 data_in_bv.set32(1,0x02010102);
 data_in_bv.set32(2,0x02000201);
 data_in_bv.set32(3,0x01010003);
 addr = 0x02c8d574;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fe0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0203010203010001);
 data_in_bv.set32(0,0x02030100);
 data_in_bv.set32(1,0x01020203);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xfe020102);
 addr = 0x039d9c99;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102010201010301);
 data_in_bv.set32(0,0x03030200);
 data_in_bv.set32(1,0x03000303);
 data_in_bv.set32(2,0x00000302);
 data_in_bv.set32(3,0x00010103);
 addr = 0x02b12ae0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x000101fe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd02010103020300);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x02030102);
 data_in_bv.set32(2,0x03000102);
 data_in_bv.set32(3,0x00000200);
 addr = 0x02d7dd6e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000ff00,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0000020101020103);
 data_in_bv.set32(0,0x01020303);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x01000203);
 data_in_bv.set32(3,0xfd020002);
 addr = 0x028f6611;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x017f0303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02000301010202);
 data_in_bv.set32(0,0x02030000);
 data_in_bv.set32(1,0x02000203);
 data_in_bv.set32(2,0x03000001);
 data_in_bv.set32(3,0x03000003);
 addr = 0x01ea5c9f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0302000001000301);
 data_in_bv.set32(0,0x03010102);
 data_in_bv.set32(1,0x02020303);
 data_in_bv.set32(2,0x01010302);
 data_in_bv.set32(3,0xfd030003);
 addr = 0x008277f3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303030202010003);
 data_in_bv.set32(0,0x01010002);
 data_in_bv.set32(1,0x03020100);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfe020001);
 addr = 0x00f37784;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0101ff02,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303030000030100);
 data_in_bv.set32(0,0x02000102);
 data_in_bv.set32(1,0x01020000);
 data_in_bv.set32(2,0x00020203);
 data_in_bv.set32(3,0xff030103);
 addr = 0x01dc9ee6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0300030302030203);
 data_in_bv.set32(0,0x03000301);
 data_in_bv.set32(1,0x03000303);
 data_in_bv.set32(2,0x03020002);
 data_in_bv.set32(3,0x01010101);
 addr = 0x01c3fc00;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd03020203030203);
 data_in_bv.set32(0,0x02020101);
 data_in_bv.set32(1,0x03000300);
 data_in_bv.set32(2,0x01000003);
 data_in_bv.set32(3,0x00020301);
 addr = 0x03dae27d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02000000030102);
 data_in_bv.set32(0,0x03020101);
 data_in_bv.set32(1,0x02030003);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0xfd020100);
 addr = 0x03c52320;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302000000020101);
 data_in_bv.set32(0,0x02030100);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x01030102);
 data_in_bv.set32(3,0xfd010102);
 addr = 0x02e4fd05;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x020301ff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0300010103020301);
 data_in_bv.set32(0,0x03030100);
 data_in_bv.set32(1,0x00010300);
 data_in_bv.set32(2,0x03010302);
 data_in_bv.set32(3,0x02030103);
 addr = 0x02fe5d2e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001fe00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe02010300010002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x02020003);
 data_in_bv.set32(3,0xfe010202);
 addr = 0x01bd0a4a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0002020202010201);
 data_in_bv.set32(0,0x02010203);
 data_in_bv.set32(1,0x01010101);
 data_in_bv.set32(2,0x00000102);
 data_in_bv.set32(3,0xfd020002);
 addr = 0x018ed38e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd00000000020300);
 data_in_bv.set32(0,0x00010301);
 data_in_bv.set32(1,0x02010002);
 data_in_bv.set32(2,0x03010102);
 data_in_bv.set32(3,0xfd020002);
 addr = 0x02b236d3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03fe0102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff00020301030301);
 data_in_bv.set32(0,0x03030301);
 data_in_bv.set32(1,0x02030200);
 data_in_bv.set32(2,0x00030201);
 data_in_bv.set32(3,0x00030002);
 addr = 0x01935fbf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0101020002030101);
 data_in_bv.set32(0,0x01030303);
 data_in_bv.set32(1,0x00010201);
 data_in_bv.set32(2,0x03020303);
 data_in_bv.set32(3,0x03020103);
 addr = 0x00bce198;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00020101030001);
 data_in_bv.set32(0,0xfe030303);
 data_in_bv.set32(1,0x00010201);
 data_in_bv.set32(2,0x03020303);
 data_in_bv.set32(3,0x03020103);
 addr = 0x00bce18e;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe03fe03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300030000020202);
 data_in_bv.set32(0,0x02010303);
 data_in_bv.set32(1,0x01020300);
 data_in_bv.set32(2,0x03010301);
 data_in_bv.set32(3,0x02000100);
 addr = 0x01ac76b1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc01030201000001);
 data_in_bv.set32(0,0x03030102);
 data_in_bv.set32(1,0x00020100);
 data_in_bv.set32(2,0x01020303);
 data_in_bv.set32(3,0xfd000303);
 addr = 0x03e24c2b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02000203020303);
 data_in_bv.set32(0,0x03020302);
 data_in_bv.set32(1,0x02000002);
 data_in_bv.set32(2,0x01030202);
 data_in_bv.set32(3,0xfc030100);
 addr = 0x02ec4f1f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x7f020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff03010300010100);
 data_in_bv.set32(0,0x00010202);
 data_in_bv.set32(1,0x01000002);
 data_in_bv.set32(2,0x01030300);
 data_in_bv.set32(3,0xfe030303);
 addr = 0x02b7e2bf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0203030300030202);
 data_in_bv.set32(0,0x02010303);
 data_in_bv.set32(1,0x03010301);
 data_in_bv.set32(2,0x01000300);
 data_in_bv.set32(3,0xfc010103);
 addr = 0x02b2027f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff01020301030300);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x01000000);
 data_in_bv.set32(2,0x00000303);
 data_in_bv.set32(3,0xff020101);
 addr = 0x03c3a786;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301000003000301);
 data_in_bv.set32(0,0x01020101);
 data_in_bv.set32(1,0x02010300);
 data_in_bv.set32(2,0x03010001);
 data_in_bv.set32(3,0x03010000);
 addr = 0x029a9512;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01ff0101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc00030202030001);
 data_in_bv.set32(0,0x00030301);
 data_in_bv.set32(1,0x01010201);
 data_in_bv.set32(2,0x00020102);
 data_in_bv.set32(3,0x03000203);
 addr = 0x01fadd76;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0000010102000100);
 data_in_bv.set32(0,0x00030303);
 data_in_bv.set32(1,0x02030301);
 data_in_bv.set32(2,0x01030201);
 data_in_bv.set32(3,0xfd020001);
 addr = 0x02fcb418;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff01030300010101);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x01000202);
 data_in_bv.set32(2,0x00020103);
 data_in_bv.set32(3,0xfe030001);
 addr = 0x03de6bf0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02020301030001);
 data_in_bv.set32(0,0x02020003);
 data_in_bv.set32(1,0x02000001);
 data_in_bv.set32(2,0x00000202);
 data_in_bv.set32(3,0xfd010203);
 addr = 0x038ac649;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02020303010303);
 data_in_bv.set32(0,0x02020003);
 data_in_bv.set32(1,0x02000001);
 data_in_bv.set32(2,0x00000202);
 data_in_bv.set32(3,0xfd010203);
 addr = 0x038ac612;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00020001000302);
 data_in_bv.set32(0,0x03020103);
 data_in_bv.set32(1,0x01030002);
 data_in_bv.set32(2,0x01020101);
 data_in_bv.set32(3,0xfe010100);
 addr = 0x03d8e2db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01000002030003);
 data_in_bv.set32(0,0x02020001);
 data_in_bv.set32(1,0x01010103);
 data_in_bv.set32(2,0x02000001);
 data_in_bv.set32(3,0xfc000103);
 addr = 0x02b5e84a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02007d01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd00020000010003);
 data_in_bv.set32(0,0x03010202);
 data_in_bv.set32(1,0x03000100);
 data_in_bv.set32(2,0x02020101);
 data_in_bv.set32(3,0xfd010301);
 addr = 0x00cb8ba0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0300fe00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03010102020101);
 data_in_bv.set32(0,0x01000303);
 data_in_bv.set32(1,0x03000101);
 data_in_bv.set32(2,0x01010103);
 data_in_bv.set32(3,0x01010001);
 addr = 0x01e17556;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0100020203000003);
 data_in_bv.set32(0,0x01020202);
 data_in_bv.set32(1,0x02030301);
 data_in_bv.set32(2,0x03020301);
 data_in_bv.set32(3,0xfe030103);
 addr = 0x03ee66f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00020100010100);
 data_in_bv.set32(0,0x02020201);
 data_in_bv.set32(1,0x00030202);
 data_in_bv.set32(2,0x01020002);
 data_in_bv.set32(3,0x03010202);
 addr = 0x03d86568;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03010102010000);
 data_in_bv.set32(0,0x02020002);
 data_in_bv.set32(1,0x02010200);
 data_in_bv.set32(2,0x03030001);
 data_in_bv.set32(3,0x03020001);
 addr = 0x02999b6b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0302ff01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0002020203010301);
 data_in_bv.set32(0,0x00000103);
 data_in_bv.set32(1,0x01020302);
 data_in_bv.set32(2,0x01010002);
 data_in_bv.set32(3,0xfc000103);
 addr = 0x02bea85a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd02030202020202);
 data_in_bv.set32(0,0x03030203);
 data_in_bv.set32(1,0x00030203);
 data_in_bv.set32(2,0x01000200);
 data_in_bv.set32(3,0x01030301);
 addr = 0x01833efb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff03020101010000);
 data_in_bv.set32(0,0x00030201);
 data_in_bv.set32(1,0x03000102);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfe010302);
 addr = 0x0187d65e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0301010200010300);
 data_in_bv.set32(0,0x01020203);
 data_in_bv.set32(1,0x00020301);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x00010101);
 addr = 0x03d904d4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103000102020302);
 data_in_bv.set32(0,0x01020102);
 data_in_bv.set32(1,0x02000303);
 data_in_bv.set32(2,0x02020302);
 data_in_bv.set32(3,0xff000201);
 addr = 0x01d4d083;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0303020002000202);
 data_in_bv.set32(0,0x03030003);
 data_in_bv.set32(1,0x01010301);
 data_in_bv.set32(2,0x03010001);
 data_in_bv.set32(3,0x03010002);
 addr = 0x02f16904;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x030300fe,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd01000101010200);
 data_in_bv.set32(0,0x02010102);
 data_in_bv.set32(1,0x02030202);
 data_in_bv.set32(2,0x00030103);
 data_in_bv.set32(3,0x02030203);
 addr = 0x02e02533;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02fe0202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0002030203020102);
 data_in_bv.set32(0,0x00020100);
 data_in_bv.set32(1,0x01020302);
 data_in_bv.set32(2,0x03010303);
 data_in_bv.set32(3,0x03010103);
 addr = 0x019b1392;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0002000002010301);
 data_in_bv.set32(0,0x01030000);
 data_in_bv.set32(1,0x02010200);
 data_in_bv.set32(2,0x01010000);
 data_in_bv.set32(3,0x03030100);
 addr = 0x02c1c4bf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe02000302030303);
 data_in_bv.set32(0,0x01030000);
 data_in_bv.set32(1,0xff010200);
 data_in_bv.set32(2,0x01010000);
 data_in_bv.set32(3,0x03030100);
 addr = 0x00c1c4fb;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002030002020300);
 data_in_bv.set32(0,0x00030100);
 data_in_bv.set32(1,0x01020202);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0x03000301);
 addr = 0x008c0661;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0300ff01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00000301020302);
 data_in_bv.set32(0,0x01000301);
 data_in_bv.set32(1,0x00020300);
 data_in_bv.set32(2,0x01000203);
 data_in_bv.set32(3,0x02030100);
 addr = 0x00978393;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000300020003);
 data_in_bv.set32(0,0x01010202);
 data_in_bv.set32(1,0x02030003);
 data_in_bv.set32(2,0x01010101);
 data_in_bv.set32(3,0x03030201);
 addr = 0x02a3de68;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03037f01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0201020303030302);
 data_in_bv.set32(0,0x01010103);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00000100);
 data_in_bv.set32(3,0xfe030102);
 addr = 0x03f97498;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003030202030200);
 data_in_bv.set32(0,0x02010202);
 data_in_bv.set32(1,0x01030002);
 data_in_bv.set32(2,0x03020200);
 data_in_bv.set32(3,0xff020102);
 addr = 0x00913c3c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00020100010002);
 data_in_bv.set32(0,0x03010203);
 data_in_bv.set32(1,0x02020100);
 data_in_bv.set32(2,0x02020000);
 data_in_bv.set32(3,0xfe010001);
 addr = 0x02d1e3eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe01ff01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff03000303030101);
 data_in_bv.set32(0,0x00030200);
 data_in_bv.set32(1,0x01030102);
 data_in_bv.set32(2,0x03000100);
 data_in_bv.set32(3,0x02030101);
 addr = 0x00ee1af6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02000000010000);
 data_in_bv.set32(0,0x03000100);
 data_in_bv.set32(1,0x00030102);
 data_in_bv.set32(2,0x03000100);
 data_in_bv.set32(3,0xfe010303);
 addr = 0x00bae28a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0300ff00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302010301030003);
 data_in_bv.set32(0,0x03020203);
 data_in_bv.set32(1,0x02000201);
 data_in_bv.set32(2,0x02000200);
 data_in_bv.set32(3,0xff000302);
 addr = 0x01a3156a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0100030300000102);
 data_in_bv.set32(0,0x03030100);
 data_in_bv.set32(1,0x01020303);
 data_in_bv.set32(2,0x01010101);
 data_in_bv.set32(3,0xff030003);
 addr = 0x00c3718e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0303ff00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00030100030002);
 data_in_bv.set32(0,0x01010102);
 data_in_bv.set32(1,0x01000202);
 data_in_bv.set32(2,0x03000201);
 data_in_bv.set32(3,0xfe000103);
 addr = 0x0199c40a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0102010301010202);
 data_in_bv.set32(0,0x03010302);
 data_in_bv.set32(1,0x02030303);
 data_in_bv.set32(2,0x02020202);
 data_in_bv.set32(3,0x03020201);
 addr = 0x02e96506;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x030103ff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd00000001000000);
 data_in_bv.set32(0,0x02030303);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x01030001);
 data_in_bv.set32(3,0xfe010201);
 addr = 0x02bbd949;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0103ff01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc03000200020303);
 data_in_bv.set32(0,0x01000301);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x01000300);
 data_in_bv.set32(3,0xff020100);
 addr = 0x019c9db3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0102000201030001);
 data_in_bv.set32(0,0x02030000);
 data_in_bv.set32(1,0x01030202);
 data_in_bv.set32(2,0x03000103);
 data_in_bv.set32(3,0x02000301);
 addr = 0x02e2dd7e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02020003020200);
 data_in_bv.set32(0,0x03010102);
 data_in_bv.set32(1,0x00030200);
 data_in_bv.set32(2,0x03020303);
 data_in_bv.set32(3,0x01020203);
 addr = 0x02c8d31f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02000002010003);
 data_in_bv.set32(0,0x02000101);
 data_in_bv.set32(1,0x02000100);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfc030203);
 addr = 0x01a61219;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe02010002030102);
 data_in_bv.set32(0,0x03030203);
 data_in_bv.set32(1,0x01010303);
 data_in_bv.set32(2,0x00000200);
 data_in_bv.set32(3,0xfe030102);
 addr = 0x03a7259e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02010102030300);
 data_in_bv.set32(0,0x02010002);
 data_in_bv.set32(1,0x00020101);
 data_in_bv.set32(2,0x03010001);
 data_in_bv.set32(3,0xfc010300);
 addr = 0x02b14f7c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc03000001030101);
 data_in_bv.set32(0,0x02010002);
 data_in_bv.set32(1,0x00020101);
 data_in_bv.set32(2,0x03010001);
 data_in_bv.set32(3,0xff010300);
 addr = 0x03b14f3f;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202010003000300);
 data_in_bv.set32(0,0x01030202);
 data_in_bv.set32(1,0x02020100);
 data_in_bv.set32(2,0x00000203);
 data_in_bv.set32(3,0x00010303);
 addr = 0x01d60223;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0202000103010301);
 data_in_bv.set32(0,0x02000201);
 data_in_bv.set32(1,0x02030002);
 data_in_bv.set32(2,0x03030100);
 data_in_bv.set32(3,0x00000203);
 addr = 0x00ceb5d6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03000201010301);
 data_in_bv.set32(0,0x03000103);
 data_in_bv.set32(1,0x03020302);
 data_in_bv.set32(2,0x02010003);
 data_in_bv.set32(3,0xfe000301);
 addr = 0x01c160a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe03020000030200);
 data_in_bv.set32(0,0x02030100);
 data_in_bv.set32(1,0x02000002);
 data_in_bv.set32(2,0x01030200);
 data_in_bv.set32(3,0x02030200);
 addr = 0x01bd975e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff01000302010101);
 data_in_bv.set32(0,0x00020300);
 data_in_bv.set32(1,0x03010103);
 data_in_bv.set32(2,0x00000202);
 data_in_bv.set32(3,0xff000300);
 addr = 0x03bd0abc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102000301020001);
 data_in_bv.set32(0,0x01030202);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x01000302);
 data_in_bv.set32(3,0x02000300);
 addr = 0x03998bcd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300030001000103);
 data_in_bv.set32(0,0x03020003);
 data_in_bv.set32(1,0x02010303);
 data_in_bv.set32(2,0x01000102);
 data_in_bv.set32(3,0x03020201);
 addr = 0x01cbba15;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0102020203030002);
 data_in_bv.set32(0,0x03030001);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x01030302);
 data_in_bv.set32(3,0xff020003);
 addr = 0x03c30700;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02030302020100);
 data_in_bv.set32(0,0x01000203);
 data_in_bv.set32(1,0x03010103);
 data_in_bv.set32(2,0x03030102);
 data_in_bv.set32(3,0xfc000302);
 addr = 0x00fa52fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03020002020200);
 data_in_bv.set32(0,0x01010103);
 data_in_bv.set32(1,0x01010101);
 data_in_bv.set32(2,0x01000001);
 data_in_bv.set32(3,0x01010100);
 addr = 0x0387b3c0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00020203000001);
 data_in_bv.set32(0,0x02000301);
 data_in_bv.set32(1,0x03000302);
 data_in_bv.set32(2,0x01020002);
 data_in_bv.set32(3,0xff030302);
 addr = 0x01bae2f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0001030203010003);
 data_in_bv.set32(0,0x02000103);
 data_in_bv.set32(1,0x02010200);
 data_in_bv.set32(2,0x02000203);
 data_in_bv.set32(3,0x03020202);
 addr = 0x02ef0bee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03027f02,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff01000203020001);
 data_in_bv.set32(0,0x03010300);
 data_in_bv.set32(1,0x01020000);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x01020102);
 addr = 0x018b1f4b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff03030102030301);
 data_in_bv.set32(0,0x03000000);
 data_in_bv.set32(1,0x02000103);
 data_in_bv.set32(2,0x03010003);
 data_in_bv.set32(3,0x03030002);
 addr = 0x008c7fd9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02010201020001);
 data_in_bv.set32(0,0x01030301);
 data_in_bv.set32(1,0x01020301);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfc010202);
 addr = 0x01bf9b8a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0102020302020200);
 data_in_bv.set32(0,0x00010302);
 data_in_bv.set32(1,0x01030001);
 data_in_bv.set32(2,0x01000203);
 data_in_bv.set32(3,0x01010001);
 addr = 0x03937081;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02010201000100);
 data_in_bv.set32(0,0x03000100);
 data_in_bv.set32(1,0x00010303);
 data_in_bv.set32(2,0x03000203);
 data_in_bv.set32(3,0xfd000300);
 addr = 0x03f501db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03020001020102);
 data_in_bv.set32(0,0x00030200);
 data_in_bv.set32(1,0x00030203);
 data_in_bv.set32(2,0x03010203);
 data_in_bv.set32(3,0xff030101);
 addr = 0x02f42c0a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003ff00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe02000202010203);
 data_in_bv.set32(0,0x01010102);
 data_in_bv.set32(1,0x01010201);
 data_in_bv.set32(2,0x03030102);
 data_in_bv.set32(3,0xfe020000);
 addr = 0x01c0b6da;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0001010003010302);
 data_in_bv.set32(0,0x03030300);
 data_in_bv.set32(1,0x03030101);
 data_in_bv.set32(2,0x03030302);
 data_in_bv.set32(3,0x03000203);
 addr = 0x02b55a0a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0303fe00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc01010000020300);
 data_in_bv.set32(0,0x00020103);
 data_in_bv.set32(1,0x00010301);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x01000301);
 addr = 0x03adc0f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00030000000003);
 data_in_bv.set32(0,0x00020200);
 data_in_bv.set32(1,0x01010100);
 data_in_bv.set32(2,0x01020201);
 data_in_bv.set32(3,0x03030003);
 addr = 0x01b46bdf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff00000203000003);
 data_in_bv.set32(0,0x03030102);
 data_in_bv.set32(1,0x02010103);
 data_in_bv.set32(2,0x01020102);
 data_in_bv.set32(3,0xfc000301);
 addr = 0x03f1bc71;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02000001030202);
 data_in_bv.set32(0,0x02030003);
 data_in_bv.set32(1,0x00000301);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x03000002);
 addr = 0x00ee2920;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fd01,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00010002000301);
 data_in_bv.set32(0,0x01000001);
 data_in_bv.set32(1,0x01020203);
 data_in_bv.set32(2,0x00010101);
 data_in_bv.set32(3,0x00030101);
 addr = 0x03ad4e70;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102010301020302);
 data_in_bv.set32(0,0x03010300);
 data_in_bv.set32(1,0x03030001);
 data_in_bv.set32(2,0x00010203);
 data_in_bv.set32(3,0xfd010201);
 addr = 0x029b501a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc00010202030302);
 data_in_bv.set32(0,0x03020103);
 data_in_bv.set32(1,0x03030301);
 data_in_bv.set32(2,0x01020203);
 data_in_bv.set32(3,0xfd010202);
 addr = 0x02dca291;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03ff0103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd01030302030000);
 data_in_bv.set32(0,0x03030102);
 data_in_bv.set32(1,0x02000301);
 data_in_bv.set32(2,0x00010300);
 data_in_bv.set32(3,0xfd000201);
 addr = 0x0286e79b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0102020201000000);
 data_in_bv.set32(0,0x02010200);
 data_in_bv.set32(1,0x00010202);
 data_in_bv.set32(2,0x00020301);
 data_in_bv.set32(3,0x03010300);
 addr = 0x00f55693;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101030002030200);
 data_in_bv.set32(0,0x01000301);
 data_in_bv.set32(1,0x02010302);
 data_in_bv.set32(2,0x03010001);
 data_in_bv.set32(3,0xfc010000);
 addr = 0x03fcef06;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201020102000100);
 data_in_bv.set32(0,0x01010302);
 data_in_bv.set32(1,0x03030200);
 data_in_bv.set32(2,0x02010301);
 data_in_bv.set32(3,0xfe000301);
 addr = 0x00fc6515;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000010002030302);
 data_in_bv.set32(0,0x02000001);
 data_in_bv.set32(1,0x00010202);
 data_in_bv.set32(2,0x03010003);
 data_in_bv.set32(3,0xff030203);
 addr = 0x01ea4d26;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc01020102030303);
 data_in_bv.set32(0,0x01010002);
 data_in_bv.set32(1,0x00030103);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x00000302);
 addr = 0x01914a83;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe03010302000102);
 data_in_bv.set32(0,0x00030302);
 data_in_bv.set32(1,0x03010100);
 data_in_bv.set32(2,0x03010102);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01ba3508;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc02000201020103);
 data_in_bv.set32(0,0x01020100);
 data_in_bv.set32(1,0x02000101);
 data_in_bv.set32(2,0x02020301);
 data_in_bv.set32(3,0x03030201);
 addr = 0x03a6e271;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01030003010100);
 data_in_bv.set32(0,0x02030303);
 data_in_bv.set32(1,0x00010303);
 data_in_bv.set32(2,0x00010303);
 data_in_bv.set32(3,0x03030001);
 addr = 0x02f5a233;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fe0303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc00000303030102);
 data_in_bv.set32(0,0x01020101);
 data_in_bv.set32(1,0x00000103);
 data_in_bv.set32(2,0x03030103);
 data_in_bv.set32(3,0xfd010100);
 addr = 0x018ebf64;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc00000101030300);
 data_in_bv.set32(0,0x01030001);
 data_in_bv.set32(1,0x02010303);
 data_in_bv.set32(2,0x01010302);
 data_in_bv.set32(3,0xfe020303);
 addr = 0x00a9e57a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200020101030303);
 data_in_bv.set32(0,0x02000303);
 data_in_bv.set32(1,0x00010103);
 data_in_bv.set32(2,0x00030202);
 data_in_bv.set32(3,0x03020000);
 addr = 0x00a81c20;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001fe03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103000202020102);
 data_in_bv.set32(0,0x01020301);
 data_in_bv.set32(1,0x02010101);
 data_in_bv.set32(2,0x03030000);
 data_in_bv.set32(3,0x01030102);
 addr = 0x03a65b3e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103010201010101);
 data_in_bv.set32(0,0x01030002);
 data_in_bv.set32(1,0x03000001);
 data_in_bv.set32(2,0x03020003);
 data_in_bv.set32(3,0xfe000203);
 addr = 0x03d6322b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201020300020001);
 data_in_bv.set32(0,0x03020201);
 data_in_bv.set32(1,0x02000002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x03010300);
 addr = 0x02fc6409;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0302ff01,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc03030000000200);
 data_in_bv.set32(0,0x03010203);
 data_in_bv.set32(1,0x02000203);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfc030000);
 addr = 0x00cbc82b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0200ff03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02020202030003);
 data_in_bv.set32(0,0x00020202);
 data_in_bv.set32(1,0x00020300);
 data_in_bv.set32(2,0x00020301);
 data_in_bv.set32(3,0x03020301);
 addr = 0x02917aaf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00027f00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0302030202010200);
 data_in_bv.set32(0,0x01000300);
 data_in_bv.set32(1,0x01020200);
 data_in_bv.set32(2,0x00000300);
 data_in_bv.set32(3,0xfc000303);
 addr = 0x01eb0662;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0103000200010203);
 data_in_bv.set32(0,0x01020101);
 data_in_bv.set32(1,0x02000301);
 data_in_bv.set32(2,0x03020002);
 data_in_bv.set32(3,0x01010300);
 addr = 0x03bf74ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203000103030301);
 data_in_bv.set32(0,0x01010001);
 data_in_bv.set32(1,0x02000201);
 data_in_bv.set32(2,0x03000302);
 data_in_bv.set32(3,0xfc010303);
 addr = 0x02dcfd8e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0101ff01,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0301030003020102);
 data_in_bv.set32(0,0x03000302);
 data_in_bv.set32(1,0x01020002);
 data_in_bv.set32(2,0x01020000);
 data_in_bv.set32(3,0xfd010300);
 addr = 0x01f09a3e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0100030300010302);
 data_in_bv.set32(0,0x02020103);
 data_in_bv.set32(1,0x00020201);
 data_in_bv.set32(2,0x00000301);
 data_in_bv.set32(3,0xfd030300);
 addr = 0x00b3d70d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0202ff03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102030302020200);
 data_in_bv.set32(0,0x02010200);
 data_in_bv.set32(1,0x00030302);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0xfe030001);
 addr = 0x01a83b54;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe01010203010303);
 data_in_bv.set32(0,0x03010003);
 data_in_bv.set32(1,0x03010100);
 data_in_bv.set32(2,0x02000303);
 data_in_bv.set32(3,0x02000301);
 addr = 0x01934ae6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0202020001000102);
 data_in_bv.set32(0,0x00020103);
 data_in_bv.set32(1,0x03010203);
 data_in_bv.set32(2,0x02010202);
 data_in_bv.set32(3,0xfe030203);
 addr = 0x039e4982;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03020101000102);
 data_in_bv.set32(0,0x01010303);
 data_in_bv.set32(1,0x02020103);
 data_in_bv.set32(2,0x01000102);
 data_in_bv.set32(3,0xff000302);
 addr = 0x029e0906;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x010103fe,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0301010202030001);
 data_in_bv.set32(0,0x02010200);
 data_in_bv.set32(1,0x01010202);
 data_in_bv.set32(2,0x01020303);
 data_in_bv.set32(3,0xfd000203);
 addr = 0x01ff879b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd03030300020002);
 data_in_bv.set32(0,0x03010302);
 data_in_bv.set32(1,0x03030103);
 data_in_bv.set32(2,0x01020003);
 data_in_bv.set32(3,0x03010201);
 addr = 0x00c66cf3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03030302010201);
 data_in_bv.set32(0,0x00030202);
 data_in_bv.set32(1,0x01020101);
 data_in_bv.set32(2,0x01000202);
 data_in_bv.set32(3,0x02000200);
 addr = 0x02e96b1d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0003030300000100);
 data_in_bv.set32(0,0x03020200);
 data_in_bv.set32(1,0x03000303);
 data_in_bv.set32(2,0x02000001);
 data_in_bv.set32(3,0x03030100);
 addr = 0x00d30911;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00010302020101);
 data_in_bv.set32(0,0x02020103);
 data_in_bv.set32(1,0x02000100);
 data_in_bv.set32(2,0x02030000);
 data_in_bv.set32(3,0x03020102);
 addr = 0x00b3bf5d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02020001010002);
 data_in_bv.set32(0,0x02020103);
 data_in_bv.set32(1,0x02000100);
 data_in_bv.set32(2,0xff030000);
 data_in_bv.set32(3,0x03020102);
 addr = 0x00b3bf13;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfd020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02020002000303);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x03000003);
 data_in_bv.set32(2,0x01010303);
 data_in_bv.set32(3,0xfd010003);
 addr = 0x038ec785;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03020003000301);
 data_in_bv.set32(0,0x02020000);
 data_in_bv.set32(1,0x03010203);
 data_in_bv.set32(2,0x03010200);
 data_in_bv.set32(3,0xfc000100);
 addr = 0x03ec5850;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01010003030101);
 data_in_bv.set32(0,0x01010000);
 data_in_bv.set32(1,0x02020300);
 data_in_bv.set32(2,0x01010002);
 data_in_bv.set32(3,0x01030001);
 addr = 0x01a17b2e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff03030002010101);
 data_in_bv.set32(0,0x02020002);
 data_in_bv.set32(1,0x01020002);
 data_in_bv.set32(2,0x02030201);
 data_in_bv.set32(3,0xfd000301);
 addr = 0x038fa788;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201000002020000);
 data_in_bv.set32(0,0x02020102);
 data_in_bv.set32(1,0x02000101);
 data_in_bv.set32(2,0x03010102);
 data_in_bv.set32(3,0x03030202);
 addr = 0x02ab0b77;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03fe0202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd02020303030000);
 data_in_bv.set32(0,0x02020201);
 data_in_bv.set32(1,0x02000303);
 data_in_bv.set32(2,0x03010201);
 data_in_bv.set32(3,0x03020001);
 addr = 0x02f400c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x030102fe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0200020302010200);
 data_in_bv.set32(0,0x02010301);
 data_in_bv.set32(1,0x02000101);
 data_in_bv.set32(2,0x02010000);
 data_in_bv.set32(3,0xfc000102);
 addr = 0x01b881f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe01020001000101);
 data_in_bv.set32(0,0x02010301);
 data_in_bv.set32(1,0x02000101);
 data_in_bv.set32(2,0x02010000);
 data_in_bv.set32(3,0xfc000102);
 addr = 0x02b881da;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0203030001010001);
 data_in_bv.set32(0,0x03020300);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xff000203);
 addr = 0x0288d3cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000ff02,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0200030001010203);
 data_in_bv.set32(0,0x01010203);
 data_in_bv.set32(1,0x01000201);
 data_in_bv.set32(2,0x01030102);
 data_in_bv.set32(3,0xfd010303);
 addr = 0x0381d93c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001030200030203);
 data_in_bv.set32(0,0x03020302);
 data_in_bv.set32(1,0x03000101);
 data_in_bv.set32(2,0x00010101);
 data_in_bv.set32(3,0xfe010300);
 addr = 0x01be78ad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff00030103030001);
 data_in_bv.set32(0,0x00010301);
 data_in_bv.set32(1,0x03010000);
 data_in_bv.set32(2,0x02020302);
 data_in_bv.set32(3,0xfe000000);
 addr = 0x038453fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03000302030001);
 data_in_bv.set32(0,0x00010101);
 data_in_bv.set32(1,0x00010103);
 data_in_bv.set32(2,0x03020302);
 data_in_bv.set32(3,0x01010202);
 addr = 0x01dd7b56;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe02000302020000);
 data_in_bv.set32(0,0x00000100);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x01010303);
 data_in_bv.set32(3,0x00010102);
 addr = 0x00acd4f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03000102030301);
 data_in_bv.set32(0,0x00000101);
 data_in_bv.set32(1,0x03010302);
 data_in_bv.set32(2,0x00000203);
 data_in_bv.set32(3,0xff000302);
 addr = 0x019d3107;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc02020302030101);
 data_in_bv.set32(0,0x03010002);
 data_in_bv.set32(1,0x02020201);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xff020203);
 addr = 0x03a9b160;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03000202010303);
 data_in_bv.set32(0,0x03010302);
 data_in_bv.set32(1,0x02030201);
 data_in_bv.set32(2,0x01020001);
 data_in_bv.set32(3,0xff010001);
 addr = 0x00d54a03;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0301fc02,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02030003030103);
 data_in_bv.set32(0,0x02030303);
 data_in_bv.set32(1,0x03010103);
 data_in_bv.set32(2,0x03010203);
 data_in_bv.set32(3,0xfe030302);
 addr = 0x03e63e03;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01000100020300);
 data_in_bv.set32(0,0x00020101);
 data_in_bv.set32(1,0x01010001);
 data_in_bv.set32(2,0x02020203);
 data_in_bv.set32(3,0xfc030000);
 addr = 0x01ee6b02;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0002010000030102);
 data_in_bv.set32(0,0x02030101);
 data_in_bv.set32(1,0x02030000);
 data_in_bv.set32(2,0x01030003);
 data_in_bv.set32(3,0x02020202);
 addr = 0x02d3b2aa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0203ff00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff03030202000101);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x03030000);
 data_in_bv.set32(3,0x03030101);
 addr = 0x03b9f83b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200000300000202);
 data_in_bv.set32(0,0x00020302);
 data_in_bv.set32(1,0x00020200);
 data_in_bv.set32(2,0x03000003);
 data_in_bv.set32(3,0xfd020303);
 addr = 0x03c666e8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201010302000002);
 data_in_bv.set32(0,0x00020302);
 data_in_bv.set32(1,0x00020200);
 data_in_bv.set32(2,0x03000003);
 data_in_bv.set32(3,0xfd020303);
 addr = 0x01c666a6;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0202000003000201);
 data_in_bv.set32(0,0x03020303);
 data_in_bv.set32(1,0x03020002);
 data_in_bv.set32(2,0x01000300);
 data_in_bv.set32(3,0x01030103);
 addr = 0x01b7f9b5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0103020302000003);
 data_in_bv.set32(0,0x02010100);
 data_in_bv.set32(1,0x00030103);
 data_in_bv.set32(2,0x01030100);
 data_in_bv.set32(3,0x00000001);
 addr = 0x00c4a2b0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00030202010002);
 data_in_bv.set32(0,0x03010101);
 data_in_bv.set32(1,0x03030303);
 data_in_bv.set32(2,0x00010302);
 data_in_bv.set32(3,0x02010103);
 addr = 0x01ff050a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe01020001000203);
 data_in_bv.set32(0,0x03010303);
 data_in_bv.set32(1,0x02000301);
 data_in_bv.set32(2,0x00030100);
 data_in_bv.set32(3,0x00000203);
 addr = 0x00a80711;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfc010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01000100010103);
 data_in_bv.set32(0,0x03030001);
 data_in_bv.set32(1,0x02010100);
 data_in_bv.set32(2,0x00010303);
 data_in_bv.set32(3,0x02030201);
 addr = 0x0095e6db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03020003010003);
 data_in_bv.set32(0,0x03030001);
 data_in_bv.set32(1,0x02010100);
 data_in_bv.set32(2,0xff010303);
 data_in_bv.set32(3,0x02030201);
 addr = 0x0095e6a5;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0201fe00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103000001020101);
 data_in_bv.set32(0,0x03030001);
 data_in_bv.set32(1,0x0201fe00);
 data_in_bv.set32(2,0xff010303);
 data_in_bv.set32(3,0x02030201);
 addr = 0x0395e69a;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0201fe00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103000102030103);
 data_in_bv.set32(0,0x01030200);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x02010100);
 data_in_bv.set32(3,0xfc000100);
 addr = 0x028a6290;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x017f0200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0302020300030101);
 data_in_bv.set32(0,0x00020101);
 data_in_bv.set32(1,0x03000203);
 data_in_bv.set32(2,0x02010202);
 data_in_bv.set32(3,0xfe000302);
 addr = 0x03b3a623;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01010303010103);
 data_in_bv.set32(0,0x03000202);
 data_in_bv.set32(1,0x00000200);
 data_in_bv.set32(2,0x02020103);
 data_in_bv.set32(3,0x00030101);
 addr = 0x00de48d0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfd020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03020001030300);
 data_in_bv.set32(0,0x03010201);
 data_in_bv.set32(1,0x03030102);
 data_in_bv.set32(2,0x01010100);
 data_in_bv.set32(3,0x00000103);
 addr = 0x01c73cf2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0001010303030302);
 data_in_bv.set32(0,0x03000101);
 data_in_bv.set32(1,0x01010100);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x01020001);
 addr = 0x03e3eb0e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03020000020101);
 data_in_bv.set32(0,0x03000100);
 data_in_bv.set32(1,0x02020301);
 data_in_bv.set32(2,0x01010302);
 data_in_bv.set32(3,0x02030100);
 addr = 0x03f542eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001010003010302);
 data_in_bv.set32(0,0x03000100);
 data_in_bv.set32(1,0x02020301);
 data_in_bv.set32(2,0x01010302);
 data_in_bv.set32(3,0x02030100);
 addr = 0x03f542fd;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302000303010103);
 data_in_bv.set32(0,0x00020301);
 data_in_bv.set32(1,0x03030002);
 data_in_bv.set32(2,0x00030103);
 data_in_bv.set32(3,0xfc030102);
 addr = 0x03ecac8b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201030100030300);
 data_in_bv.set32(0,0x02000002);
 data_in_bv.set32(1,0x03000300);
 data_in_bv.set32(2,0x02020001);
 data_in_bv.set32(3,0xfd020303);
 addr = 0x01ce7082;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0100010002000301);
 data_in_bv.set32(0,0x01000200);
 data_in_bv.set32(1,0x00000103);
 data_in_bv.set32(2,0x03000303);
 data_in_bv.set32(3,0xfc000301);
 addr = 0x02aff196;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01ff0200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe02020100010300);
 data_in_bv.set32(0,0x02030103);
 data_in_bv.set32(1,0x03030301);
 data_in_bv.set32(2,0x02030202);
 data_in_bv.set32(3,0xfe000002);
 addr = 0x0097d41f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00010302030203);
 data_in_bv.set32(0,0x02010202);
 data_in_bv.set32(1,0x02030100);
 data_in_bv.set32(2,0x00000302);
 data_in_bv.set32(3,0xfc010203);
 addr = 0x028fabb7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x027f0100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff01000103020301);
 data_in_bv.set32(0,0x03020202);
 data_in_bv.set32(1,0x01010001);
 data_in_bv.set32(2,0x03020201);
 data_in_bv.set32(3,0x01030203);
 addr = 0x01a1532a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0001000302020203);
 data_in_bv.set32(0,0x00010203);
 data_in_bv.set32(1,0x02030300);
 data_in_bv.set32(2,0x02010100);
 data_in_bv.set32(3,0xfd000201);
 addr = 0x02f88e6d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd007f01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc03020000030103);
 data_in_bv.set32(0,0x03000201);
 data_in_bv.set32(1,0x00030301);
 data_in_bv.set32(2,0x00030103);
 data_in_bv.set32(3,0xfe030301);
 addr = 0x00b8ccf7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001020100010302);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x01020201);
 data_in_bv.set32(2,0x01000302);
 data_in_bv.set32(3,0xfe030303);
 addr = 0x01f26d25;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0203020200010101);
 data_in_bv.set32(0,0x01020301);
 data_in_bv.set32(1,0x01020103);
 data_in_bv.set32(2,0x03010103);
 data_in_bv.set32(3,0x03020300);
 addr = 0x018b649a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff00030103030102);
 data_in_bv.set32(0,0x03000102);
 data_in_bv.set32(1,0x03020203);
 data_in_bv.set32(2,0x01000201);
 data_in_bv.set32(3,0xfd010303);
 addr = 0x03ed5db3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03020300020203);
 data_in_bv.set32(0,0x03000200);
 data_in_bv.set32(1,0x03000303);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfc010001);
 addr = 0x01a368b8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0002020002010301);
 data_in_bv.set32(0,0x00020301);
 data_in_bv.set32(1,0x01030203);
 data_in_bv.set32(2,0x02010200);
 data_in_bv.set32(3,0x01000000);
 addr = 0x02d920cb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0201ff00,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0303010003010001);
 data_in_bv.set32(0,0x02020000);
 data_in_bv.set32(1,0x01030002);
 data_in_bv.set32(2,0x00000100);
 data_in_bv.set32(3,0xfe020302);
 addr = 0x01889ea5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0003010003000103);
 data_in_bv.set32(0,0x01000301);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x02020103);
 data_in_bv.set32(3,0xfc020201);
 addr = 0x02fb98b7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x007d0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd01010000000003);
 data_in_bv.set32(0,0x02010303);
 data_in_bv.set32(1,0x00030303);
 data_in_bv.set32(2,0x00020303);
 data_in_bv.set32(3,0x01000200);
 addr = 0x02af36b0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x007f0303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff02000003000002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x01020200);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02d8279f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd00030201000102);
 data_in_bv.set32(0,0x03030000);
 data_in_bv.set32(1,0x01010100);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xff030002);
 addr = 0x02df8b42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000300fe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0001000203030002);
 data_in_bv.set32(0,0x03030100);
 data_in_bv.set32(1,0x01030300);
 data_in_bv.set32(2,0x03020203);
 data_in_bv.set32(3,0xff030001);
 addr = 0x018fdcf7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc02020201030000);
 data_in_bv.set32(0,0x01000201);
 data_in_bv.set32(1,0x03020000);
 data_in_bv.set32(2,0x03000301);
 data_in_bv.set32(3,0xff000203);
 addr = 0x01f5b68b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0002000002010101);
 data_in_bv.set32(0,0x02030003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000202);
 data_in_bv.set32(3,0x01010302);
 addr = 0x02870460;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x010103ff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe01030200000303);
 data_in_bv.set32(0,0x00030200);
 data_in_bv.set32(1,0x00020100);
 data_in_bv.set32(2,0x01030301);
 data_in_bv.set32(3,0xff010002);
 addr = 0x00821373;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202010002020002);
 data_in_bv.set32(0,0x01020003);
 data_in_bv.set32(1,0x02000300);
 data_in_bv.set32(2,0x00010303);
 data_in_bv.set32(3,0x00010202);
 addr = 0x03d6423f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000030102020202);
 data_in_bv.set32(0,0x01010300);
 data_in_bv.set32(1,0x03020102);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x01030002);
 addr = 0x03bec2e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000030202020200);
 data_in_bv.set32(0,0x03010301);
 data_in_bv.set32(1,0x01020200);
 data_in_bv.set32(2,0x00000103);
 data_in_bv.set32(3,0xff020302);
 addr = 0x038eaa1c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103020002010301);
 data_in_bv.set32(0,0x01010203);
 data_in_bv.set32(1,0x03030101);
 data_in_bv.set32(2,0x01000202);
 data_in_bv.set32(3,0xff020001);
 addr = 0x0298b743;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x010002ff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc00010303030200);
 data_in_bv.set32(0,0x00030102);
 data_in_bv.set32(1,0x00030103);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0x02030102);
 addr = 0x018605da;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0201030001000102);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x02000203);
 data_in_bv.set32(2,0x00020302);
 data_in_bv.set32(3,0xff010001);
 addr = 0x028e1826;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x020002fe,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc03000300010303);
 data_in_bv.set32(0,0x02030002);
 data_in_bv.set32(1,0x01010200);
 data_in_bv.set32(2,0x01030102);
 data_in_bv.set32(3,0x01030201);
 addr = 0x03971c0e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03000303000202);
 data_in_bv.set32(0,0x03000102);
 data_in_bv.set32(1,0x02010002);
 data_in_bv.set32(2,0x03010302);
 data_in_bv.set32(3,0x02000100);
 addr = 0x03be4058;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102020201010000);
 data_in_bv.set32(0,0x01000000);
 data_in_bv.set32(1,0x03000102);
 data_in_bv.set32(2,0x03010000);
 data_in_bv.set32(3,0x00020300);
 addr = 0x01a656d1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0000010102020200);
 data_in_bv.set32(0,0x00010202);
 data_in_bv.set32(1,0x02020102);
 data_in_bv.set32(2,0x00020100);
 data_in_bv.set32(3,0x00000202);
 addr = 0x02d663ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000ff02,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0001010302000100);
 data_in_bv.set32(0,0x02020301);
 data_in_bv.set32(1,0x01020003);
 data_in_bv.set32(2,0x02020102);
 data_in_bv.set32(3,0x03000101);
 addr = 0x03b5a41b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02020201020002);
 data_in_bv.set32(0,0x00030101);
 data_in_bv.set32(1,0x02010302);
 data_in_bv.set32(2,0x00010301);
 data_in_bv.set32(3,0x03030103);
 addr = 0x03a6fc0c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301000101000203);
 data_in_bv.set32(0,0x00020300);
 data_in_bv.set32(1,0x00000303);
 data_in_bv.set32(2,0x01030303);
 data_in_bv.set32(3,0x03020301);
 addr = 0x03847069;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000300020300);
 data_in_bv.set32(0,0x03030200);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x00020301);
 data_in_bv.set32(3,0xfe030300);
 addr = 0x02b63750;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00ff0301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0303000201030301);
 data_in_bv.set32(0,0x02030102);
 data_in_bv.set32(1,0x03030200);
 data_in_bv.set32(2,0x03000002);
 data_in_bv.set32(3,0x01010200);
 addr = 0x03b872de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03010102000101);
 data_in_bv.set32(0,0x03030201);
 data_in_bv.set32(1,0x00010302);
 data_in_bv.set32(2,0x00030300);
 data_in_bv.set32(3,0xfe010001);
 addr = 0x0087ea78;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001030100030302);
 data_in_bv.set32(0,0x03010302);
 data_in_bv.set32(1,0x01000200);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x02020102);
 addr = 0x01e40056;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0201020100030103);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x02030203);
 data_in_bv.set32(3,0x02000001);
 addr = 0x039f5907;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002030003000100);
 data_in_bv.set32(0,0x01000301);
 data_in_bv.set32(1,0x03020201);
 data_in_bv.set32(2,0x02000202);
 data_in_bv.set32(3,0x02020301);
 addr = 0x00fa677d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02020001000300);
 data_in_bv.set32(0,0x02030201);
 data_in_bv.set32(1,0x01020102);
 data_in_bv.set32(2,0x01000002);
 data_in_bv.set32(3,0xfd010100);
 addr = 0x00bdca60;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd01ff00,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203010101030203);
 data_in_bv.set32(0,0x01030202);
 data_in_bv.set32(1,0x02020102);
 data_in_bv.set32(2,0x02020202);
 data_in_bv.set32(3,0xff010000);
 addr = 0x00c18a99;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03020303000300);
 data_in_bv.set32(0,0x03000302);
 data_in_bv.set32(1,0x00020303);
 data_in_bv.set32(2,0x01010102);
 data_in_bv.set32(3,0x03020200);
 addr = 0x01874d84;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0100020201030202);
 data_in_bv.set32(0,0x01020102);
 data_in_bv.set32(1,0x02010202);
 data_in_bv.set32(2,0x02000000);
 data_in_bv.set32(3,0x02000003);
 addr = 0x00cb0307;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0102ff02,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00030000030201);
 data_in_bv.set32(0,0x02000102);
 data_in_bv.set32(1,0x01010102);
 data_in_bv.set32(2,0x03030103);
 data_in_bv.set32(3,0x02010300);
 addr = 0x01e58231;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0103030103010100);
 data_in_bv.set32(0,0x01010103);
 data_in_bv.set32(1,0x00000203);
 data_in_bv.set32(2,0x00030300);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02f16a96;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fe0103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc01020103020101);
 data_in_bv.set32(0,0x01030202);
 data_in_bv.set32(1,0x02030302);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x00000101);
 addr = 0x03fb27f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103030100030300);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x01000202);
 data_in_bv.set32(2,0x03000303);
 data_in_bv.set32(3,0xfd020000);
 addr = 0x01a0cb17;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0003030001020302);
 data_in_bv.set32(0,0x03020200);
 data_in_bv.set32(1,0x02030200);
 data_in_bv.set32(2,0x02030202);
 data_in_bv.set32(3,0x02020302);
 addr = 0x03b5ffbc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01010102030001);
 data_in_bv.set32(0,0x02010200);
 data_in_bv.set32(1,0x03010201);
 data_in_bv.set32(2,0x00010101);
 data_in_bv.set32(3,0xfe010103);
 addr = 0x02e3b0db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd03030202020003);
 data_in_bv.set32(0,0x01000000);
 data_in_bv.set32(1,0x01030201);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x02020202);
 addr = 0x01e5b002;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff03010001010100);
 data_in_bv.set32(0,0x02010001);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x01030102);
 data_in_bv.set32(3,0x01030103);
 addr = 0x00d2d906;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0201ff01,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202030002000002);
 data_in_bv.set32(0,0x01000301);
 data_in_bv.set32(1,0x01020301);
 data_in_bv.set32(2,0x01030303);
 data_in_bv.set32(3,0x03010202);
 addr = 0x01c6ca51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe00010003030201);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x02010301);
 data_in_bv.set32(2,0x00030102);
 data_in_bv.set32(3,0xfc030202);
 addr = 0x02ab51ab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0201fe01,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff03010201010302);
 data_in_bv.set32(0,0x00020102);
 data_in_bv.set32(1,0x03030302);
 data_in_bv.set32(2,0x03030102);
 data_in_bv.set32(3,0xfd010102);
 addr = 0x02b4297d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0203020202000003);
 data_in_bv.set32(0,0x01010300);
 data_in_bv.set32(1,0x00030201);
 data_in_bv.set32(2,0x01000103);
 data_in_bv.set32(3,0x00020003);
 addr = 0x02fbf241;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0100017f,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd00030000020200);
 data_in_bv.set32(0,0x03030302);
 data_in_bv.set32(1,0x03010302);
 data_in_bv.set32(2,0x01020300);
 data_in_bv.set32(3,0xfc010102);
 addr = 0x01f9d483;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe02020203010000);
 data_in_bv.set32(0,0x01020301);
 data_in_bv.set32(1,0x03000302);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x00030300);
 addr = 0x018e962a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd01030100030200);
 data_in_bv.set32(0,0x02020201);
 data_in_bv.set32(1,0x00000200);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x01010302);
 addr = 0x00f69ae1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0101ff02,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103030101010003);
 data_in_bv.set32(0,0x01030002);
 data_in_bv.set32(1,0x03010300);
 data_in_bv.set32(2,0x00020100);
 data_in_bv.set32(3,0x00000200);
 addr = 0x03dddfee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00030301000303);
 data_in_bv.set32(0,0x03010301);
 data_in_bv.set32(1,0x03030000);
 data_in_bv.set32(2,0x01020001);
 data_in_bv.set32(3,0xff020000);
 addr = 0x008c5307;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0301fc01,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03000303000201);
 data_in_bv.set32(0,0x02030302);
 data_in_bv.set32(1,0x02010103);
 data_in_bv.set32(2,0x02030201);
 data_in_bv.set32(3,0xfd000000);
 addr = 0x01d2bdb9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc01020202000302);
 data_in_bv.set32(0,0x03000301);
 data_in_bv.set32(1,0x01010300);
 data_in_bv.set32(2,0x03030201);
 data_in_bv.set32(3,0x02030000);
 addr = 0x00851e2b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0101fd00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02030300000003);
 data_in_bv.set32(0,0x02000000);
 data_in_bv.set32(1,0x00020203);
 data_in_bv.set32(2,0x01030203);
 data_in_bv.set32(3,0xfd010003);
 addr = 0x02ef4ba6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002027f,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0000010202020200);
 data_in_bv.set32(0,0x03030203);
 data_in_bv.set32(1,0x03030002);
 data_in_bv.set32(2,0x01020200);
 data_in_bv.set32(3,0xfc000302);
 addr = 0x03cc319f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200010203000200);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x01020301);
 data_in_bv.set32(2,0x00030300);
 data_in_bv.set32(3,0x01020203);
 addr = 0x01e0d6c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc01020003020301);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x01020301);
 data_in_bv.set32(2,0x00030300);
 data_in_bv.set32(3,0x01020203);
 addr = 0x02e0d6ed;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0102ff03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc03000301020303);
 data_in_bv.set32(0,0x01010200);
 data_in_bv.set32(1,0x01030102);
 data_in_bv.set32(2,0x00010102);
 data_in_bv.set32(3,0xff000300);
 addr = 0x01f5ac90;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0002020303010301);
 data_in_bv.set32(0,0x00000103);
 data_in_bv.set32(1,0x02030302);
 data_in_bv.set32(2,0x02020303);
 data_in_bv.set32(3,0xff030302);
 addr = 0x03fb6451;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302020300020301);
 data_in_bv.set32(0,0x02010303);
 data_in_bv.set32(1,0x02000201);
 data_in_bv.set32(2,0x00010200);
 data_in_bv.set32(3,0xfd010000);
 addr = 0x00bc370b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0201fe03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201020103030003);
 data_in_bv.set32(0,0x02020301);
 data_in_bv.set32(1,0x00030200);
 data_in_bv.set32(2,0x02020201);
 data_in_bv.set32(3,0xfe020200);
 addr = 0x03e64405;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01010202010202);
 data_in_bv.set32(0,0x02020303);
 data_in_bv.set32(1,0x03000003);
 data_in_bv.set32(2,0x02030100);
 data_in_bv.set32(3,0x01010200);
 addr = 0x018b483a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd01030102000201);
 data_in_bv.set32(0,0x00010303);
 data_in_bv.set32(1,0x01000203);
 data_in_bv.set32(2,0x01020103);
 data_in_bv.set32(3,0xfc030003);
 addr = 0x03d2a73b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02020001010303);
 data_in_bv.set32(0,0x02000101);
 data_in_bv.set32(1,0x01030001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfe030201);
 addr = 0x03db243a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02020100020300);
 data_in_bv.set32(0,0x03010100);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x01000100);
 data_in_bv.set32(3,0xff030201);
 addr = 0x02d3ab55;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01ff0100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0000000301000303);
 data_in_bv.set32(0,0x03010100);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x01ff0100);
 data_in_bv.set32(3,0xff030201);
 addr = 0x01d3ab15;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01ff0100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0101030101030103);
 data_in_bv.set32(0,0x00000100);
 data_in_bv.set32(1,0x02000200);
 data_in_bv.set32(2,0x03010102);
 data_in_bv.set32(3,0x00010300);
 addr = 0x00e88d0d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fe00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02000303010000);
 data_in_bv.set32(0,0x02010103);
 data_in_bv.set32(1,0x03010301);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x02000301);
 addr = 0x00bce84a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001ff02,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000200000002);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00030202);
 data_in_bv.set32(2,0x02010301);
 data_in_bv.set32(3,0x01010100);
 addr = 0x00aee727;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fd02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03010200030001);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x01000001);
 data_in_bv.set32(2,0x01000001);
 data_in_bv.set32(3,0xff000103);
 addr = 0x00afc0ab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0100ff01,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202030202030102);
 data_in_bv.set32(0,0x00000300);
 data_in_bv.set32(1,0x02020202);
 data_in_bv.set32(2,0x01030300);
 data_in_bv.set32(3,0xff030203);
 addr = 0x01fc6fe7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0102010203020000);
 data_in_bv.set32(0,0x02020102);
 data_in_bv.set32(1,0x01020002);
 data_in_bv.set32(2,0x03020003);
 data_in_bv.set32(3,0x01000002);
 addr = 0x03fd7bca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01020003010101);
 data_in_bv.set32(0,0x01010203);
 data_in_bv.set32(1,0x00020103);
 data_in_bv.set32(2,0x00010103);
 data_in_bv.set32(3,0x01010200);
 addr = 0x02b740b1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00ff0103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff02020000010001);
 data_in_bv.set32(0,0x00030301);
 data_in_bv.set32(1,0x01000000);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfd030002);
 addr = 0x02eba839;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0303010101000101);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x00010301);
 data_in_bv.set32(2,0x03000202);
 data_in_bv.set32(3,0x03010001);
 addr = 0x01e1247f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0201000202020303);
 data_in_bv.set32(0,0x03000300);
 data_in_bv.set32(1,0x01010102);
 data_in_bv.set32(2,0x01020300);
 data_in_bv.set32(3,0x02030100);
 addr = 0x028c5e8c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03007f00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0301010302030303);
 data_in_bv.set32(0,0x01030302);
 data_in_bv.set32(1,0x03020202);
 data_in_bv.set32(2,0x00020102);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01cec410;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0100030200030300);
 data_in_bv.set32(0,0x02020002);
 data_in_bv.set32(1,0x00000102);
 data_in_bv.set32(2,0x01000203);
 data_in_bv.set32(3,0xff030002);
 addr = 0x01f257cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe01010101010202);
 data_in_bv.set32(0,0x00020300);
 data_in_bv.set32(1,0x03010303);
 data_in_bv.set32(2,0x03000000);
 data_in_bv.set32(3,0xff030202);
 addr = 0x02f74c5c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02000202000002);
 data_in_bv.set32(0,0x03000301);
 data_in_bv.set32(1,0x00010100);
 data_in_bv.set32(2,0x02020001);
 data_in_bv.set32(3,0x00000302);
 addr = 0x008a6025;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001ff00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00020302020200);
 data_in_bv.set32(0,0x03010003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x02010000);
 data_in_bv.set32(3,0xfe010002);
 addr = 0x02ba3ad7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02fe0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff03010200010103);
 data_in_bv.set32(0,0x03010303);
 data_in_bv.set32(1,0x03030101);
 data_in_bv.set32(2,0x03020001);
 data_in_bv.set32(3,0x02010200);
 addr = 0x039876f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202020201020002);
 data_in_bv.set32(0,0x01020002);
 data_in_bv.set32(1,0x01030201);
 data_in_bv.set32(2,0x00010202);
 data_in_bv.set32(3,0x03010300);
 addr = 0x039732f1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01030101020100);
 data_in_bv.set32(0,0x01020301);
 data_in_bv.set32(1,0x01000001);
 data_in_bv.set32(2,0x01000202);
 data_in_bv.set32(3,0xfd000002);
 addr = 0x018ef7e8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0102000301030300);
 data_in_bv.set32(0,0x03030100);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x03000003);
 data_in_bv.set32(3,0x03000102);
 addr = 0x018cb487;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe03030103020202);
 data_in_bv.set32(0,0x01010100);
 data_in_bv.set32(1,0x01030003);
 data_in_bv.set32(2,0x00010303);
 data_in_bv.set32(3,0xff010101);
 addr = 0x02f2a114;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fe0100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0201020200000302);
 data_in_bv.set32(0,0x01020102);
 data_in_bv.set32(1,0x00000103);
 data_in_bv.set32(2,0x02020303);
 data_in_bv.set32(3,0xff000000);
 addr = 0x03826a61;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03020103000102);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x03000100);
 data_in_bv.set32(2,0x01030001);
 data_in_bv.set32(3,0x02010003);
 addr = 0x01d6271b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff01010103000003);
 data_in_bv.set32(0,0x01020201);
 data_in_bv.set32(1,0x01000003);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x00000103);
 addr = 0x038b7c6b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02000303020102);
 data_in_bv.set32(0,0x03030303);
 data_in_bv.set32(1,0x00020200);
 data_in_bv.set32(2,0x01000302);
 data_in_bv.set32(3,0xfd020201);
 addr = 0x00bed653;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01010302010101);
 data_in_bv.set32(0,0x00000300);
 data_in_bv.set32(1,0x03030103);
 data_in_bv.set32(2,0x00020102);
 data_in_bv.set32(3,0xfe030003);
 addr = 0x03d5fabe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02020200000301);
 data_in_bv.set32(0,0x00030200);
 data_in_bv.set32(1,0x02000201);
 data_in_bv.set32(2,0x00000101);
 data_in_bv.set32(3,0x02000101);
 addr = 0x019a2b47;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff00020103030000);
 data_in_bv.set32(0,0x00030301);
 data_in_bv.set32(1,0x03030302);
 data_in_bv.set32(2,0x00000203);
 data_in_bv.set32(3,0xfc030102);
 addr = 0x02926135;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03fe0302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0303030002020203);
 data_in_bv.set32(0,0x03030200);
 data_in_bv.set32(1,0x03030102);
 data_in_bv.set32(2,0x01030001);
 data_in_bv.set32(3,0xfe030103);
 addr = 0x01cb43e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0102030203010003);
 data_in_bv.set32(0,0x01020201);
 data_in_bv.set32(1,0x02020202);
 data_in_bv.set32(2,0x01000300);
 data_in_bv.set32(3,0x00000302);
 addr = 0x01a6a3bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc00000103030003);
 data_in_bv.set32(0,0x00020103);
 data_in_bv.set32(1,0x03010001);
 data_in_bv.set32(2,0x01030202);
 data_in_bv.set32(3,0x01000302);
 addr = 0x028faf9d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x7d020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0201000303020302);
 data_in_bv.set32(0,0x03010101);
 data_in_bv.set32(1,0x03010300);
 data_in_bv.set32(2,0x00000202);
 data_in_bv.set32(3,0x01010301);
 addr = 0x00e694d3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03010201020100);
 data_in_bv.set32(0,0x03010101);
 data_in_bv.set32(1,0x03010300);
 data_in_bv.set32(2,0xff000202);
 data_in_bv.set32(3,0x01010301);
 addr = 0x02e6949c;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0300010102000100);
 data_in_bv.set32(0,0x01030002);
 data_in_bv.set32(1,0x01010003);
 data_in_bv.set32(2,0x03010302);
 data_in_bv.set32(3,0xff010002);
 addr = 0x00d078e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff01ff02,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03020301010201);
 data_in_bv.set32(0,0x02000302);
 data_in_bv.set32(1,0x02030302);
 data_in_bv.set32(2,0x01000003);
 data_in_bv.set32(3,0x01010100);
 addr = 0x029440ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0100ff03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0301030303020101);
 data_in_bv.set32(0,0x02000302);
 data_in_bv.set32(1,0x02030302);
 data_in_bv.set32(2,0x0100ff03);
 data_in_bv.set32(3,0x01010100);
 addr = 0x009440d5;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe00ff03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00010000000000);
 data_in_bv.set32(0,0x00010200);
 data_in_bv.set32(1,0x00010201);
 data_in_bv.set32(2,0x00010203);
 data_in_bv.set32(3,0x00020301);
 addr = 0x0289a215;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fe0200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0302010000000001);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x03020101);
 data_in_bv.set32(2,0x03020203);
 data_in_bv.set32(3,0xfe030102);
 addr = 0x02895c32;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03ff0101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0202020101010300);
 data_in_bv.set32(0,0x03030102);
 data_in_bv.set32(1,0x03010102);
 data_in_bv.set32(2,0x03030000);
 data_in_bv.set32(3,0x02020302);
 addr = 0x038b1fc3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001010301000102);
 data_in_bv.set32(0,0x00020302);
 data_in_bv.set32(1,0x01010202);
 data_in_bv.set32(2,0x00000102);
 data_in_bv.set32(3,0xfc000102);
 addr = 0x03c686f2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03000000000103);
 data_in_bv.set32(0,0x00020302);
 data_in_bv.set32(1,0x01010202);
 data_in_bv.set32(2,0x00000102);
 data_in_bv.set32(3,0xfc000102);
 addr = 0x03c686bb;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03030002030300);
 data_in_bv.set32(0,0x03030201);
 data_in_bv.set32(1,0x02030001);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0xfe000003);
 addr = 0x03e63b46;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01030303010100);
 data_in_bv.set32(0,0x02020000);
 data_in_bv.set32(1,0x03020201);
 data_in_bv.set32(2,0x02020102);
 data_in_bv.set32(3,0xfe020001);
 addr = 0x03d7ea87;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103020002020101);
 data_in_bv.set32(0,0x00020203);
 data_in_bv.set32(1,0x03000001);
 data_in_bv.set32(2,0x01030301);
 data_in_bv.set32(3,0xfd010300);
 addr = 0x00a7fef3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03010302020201);
 data_in_bv.set32(0,0x00020203);
 data_in_bv.set32(1,0x03000001);
 data_in_bv.set32(2,0x01030301);
 data_in_bv.set32(3,0xfe010300);
 addr = 0x01a7fecc;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0101030302010300);
 data_in_bv.set32(0,0x03030002);
 data_in_bv.set32(1,0x02000001);
 data_in_bv.set32(2,0x01030203);
 data_in_bv.set32(3,0x03000001);
 addr = 0x01d08517;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0102020101030301);
 data_in_bv.set32(0,0x02000101);
 data_in_bv.set32(1,0x00000201);
 data_in_bv.set32(2,0x01010301);
 data_in_bv.set32(3,0xfe010301);
 addr = 0x01aafada;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0201010102020002);
 data_in_bv.set32(0,0x02030102);
 data_in_bv.set32(1,0x02010302);
 data_in_bv.set32(2,0x01000001);
 data_in_bv.set32(3,0xff030101);
 addr = 0x01ea9ebf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd02010102020002);
 data_in_bv.set32(0,0x01010000);
 data_in_bv.set32(1,0x00010202);
 data_in_bv.set32(2,0x01020003);
 data_in_bv.set32(3,0x03020300);
 addr = 0x03cdaadd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202000000000300);
 data_in_bv.set32(0,0x01010100);
 data_in_bv.set32(1,0x01010100);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xff000101);
 addr = 0x00cd9b94;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101000103020303);
 data_in_bv.set32(0,0x01020203);
 data_in_bv.set32(1,0x02030202);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x01010301);
 addr = 0x00a415ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0101fc01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02000103000301);
 data_in_bv.set32(0,0x01030100);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x01030102);
 data_in_bv.set32(3,0xfc010203);
 addr = 0x00f421c3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0103fe02,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103020000010300);
 data_in_bv.set32(0,0x03000301);
 data_in_bv.set32(1,0x02030303);
 data_in_bv.set32(2,0x03030103);
 data_in_bv.set32(3,0xff020101);
 addr = 0x00d9c9bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200010003);
 data_in_bv.set32(0,0x00010303);
 data_in_bv.set32(1,0x03010203);
 data_in_bv.set32(2,0x03010303);
 data_in_bv.set32(3,0xff030200);
 addr = 0x01f7756c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0100000301030003);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x01000103);
 data_in_bv.set32(2,0x02010301);
 data_in_bv.set32(3,0x00010102);
 addr = 0x00b249ff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100010102020003);
 data_in_bv.set32(0,0x02010103);
 data_in_bv.set32(1,0x00030301);
 data_in_bv.set32(2,0x03030102);
 data_in_bv.set32(3,0xfc020202);
 addr = 0x02a1b611;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x027d0103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0100000200020300);
 data_in_bv.set32(0,0x01030102);
 data_in_bv.set32(1,0x02030101);
 data_in_bv.set32(2,0x01030002);
 data_in_bv.set32(3,0x00010202);
 addr = 0x02cbf1a5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x020301fe,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe03000000030301);
 data_in_bv.set32(0,0x02000302);
 data_in_bv.set32(1,0x01020002);
 data_in_bv.set32(2,0x03000000);
 data_in_bv.set32(3,0xfc020301);
 addr = 0x039a4608;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02010303020102);
 data_in_bv.set32(0,0x00030202);
 data_in_bv.set32(1,0x00010100);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x01000200);
 addr = 0x03dd055d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02010000020000);
 data_in_bv.set32(0,0x01000200);
 data_in_bv.set32(1,0x01000102);
 data_in_bv.set32(2,0x00020200);
 data_in_bv.set32(3,0x03030100);
 addr = 0x03ccbd43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302030101030000);
 data_in_bv.set32(0,0x02000300);
 data_in_bv.set32(1,0x02030002);
 data_in_bv.set32(2,0x03030302);
 data_in_bv.set32(3,0xff000000);
 addr = 0x03f81679;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202000203030103);
 data_in_bv.set32(0,0x00000101);
 data_in_bv.set32(1,0x01030200);
 data_in_bv.set32(2,0x03030002);
 data_in_bv.set32(3,0x01030101);
 addr = 0x03db7431;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01010303030200);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x01030302);
 data_in_bv.set32(2,0x02010301);
 data_in_bv.set32(3,0xff020302);
 addr = 0x03d6d2ab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200010201000101);
 data_in_bv.set32(0,0x01020001);
 data_in_bv.set32(1,0x01010200);
 data_in_bv.set32(2,0x00000200);
 data_in_bv.set32(3,0xfc030101);
 addr = 0x02ea700b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0102ff01,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02030300030202);
 data_in_bv.set32(0,0x0102ff01);
 data_in_bv.set32(1,0x01010200);
 data_in_bv.set32(2,0x00000200);
 data_in_bv.set32(3,0xfc030101);
 addr = 0x01ea707a;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0102ff01,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0201030301000001);
 data_in_bv.set32(0,0x03010200);
 data_in_bv.set32(1,0x02020300);
 data_in_bv.set32(2,0x03010300);
 data_in_bv.set32(3,0xfe020001);
 addr = 0x01eeae6c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0203020200020101);
 data_in_bv.set32(0,0x01030200);
 data_in_bv.set32(1,0x02030200);
 data_in_bv.set32(2,0x01000200);
 data_in_bv.set32(3,0xfd010100);
 addr = 0x02cc5ede;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe03030001020301);
 data_in_bv.set32(0,0x02030103);
 data_in_bv.set32(1,0x01030301);
 data_in_bv.set32(2,0x01020200);
 data_in_bv.set32(3,0xfd000202);
 addr = 0x00bf8118;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303030003030103);
 data_in_bv.set32(0,0x03000000);
 data_in_bv.set32(1,0x03000203);
 data_in_bv.set32(2,0x03020101);
 data_in_bv.set32(3,0xfc010302);
 addr = 0x02e68fda;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x7f020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0203000201020003);
 data_in_bv.set32(0,0x02020101);
 data_in_bv.set32(1,0x03030300);
 data_in_bv.set32(2,0x02030000);
 data_in_bv.set32(3,0x02020201);
 addr = 0x03c2a5d3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03000103010102);
 data_in_bv.set32(0,0x01010103);
 data_in_bv.set32(1,0x02020200);
 data_in_bv.set32(2,0x03020103);
 data_in_bv.set32(3,0x01020301);
 addr = 0x01b5153a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd01000003000200);
 data_in_bv.set32(0,0x03030001);
 data_in_bv.set32(1,0x00030203);
 data_in_bv.set32(2,0x02010102);
 data_in_bv.set32(3,0xfd010001);
 addr = 0x02cca186;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x030300fe,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe01030003000203);
 data_in_bv.set32(0,0x01010000);
 data_in_bv.set32(1,0x01000201);
 data_in_bv.set32(2,0x00020102);
 data_in_bv.set32(3,0xfe010102);
 addr = 0x02f759f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x83010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0100030300000000);
 data_in_bv.set32(0,0x01000100);
 data_in_bv.set32(1,0x03000300);
 data_in_bv.set32(2,0x02030102);
 data_in_bv.set32(3,0xfd020202);
 addr = 0x01cb0288;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff03010103030201);
 data_in_bv.set32(0,0x02030100);
 data_in_bv.set32(1,0x00020301);
 data_in_bv.set32(2,0x03030202);
 data_in_bv.set32(3,0x02010301);
 addr = 0x0183825c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff02030003020000);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x02030201);
 data_in_bv.set32(2,0x03020002);
 data_in_bv.set32(3,0x01000301);
 addr = 0x00f0ffe5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0100ff01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302030201030300);
 data_in_bv.set32(0,0x01010301);
 data_in_bv.set32(1,0x03030101);
 data_in_bv.set32(2,0x03010103);
 data_in_bv.set32(3,0xff000102);
 addr = 0x02b7894a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0301fe03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0302010002000001);
 data_in_bv.set32(0,0x03010003);
 data_in_bv.set32(1,0x00000302);
 data_in_bv.set32(2,0x03030302);
 data_in_bv.set32(3,0xfd030100);
 addr = 0x02bc518c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0301ff03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe00020203000102);
 data_in_bv.set32(0,0x01010102);
 data_in_bv.set32(1,0x02020001);
 data_in_bv.set32(2,0x03030202);
 data_in_bv.set32(3,0x01000000);
 addr = 0x008844c2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0303fd02,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301020101030102);
 data_in_bv.set32(0,0x02030103);
 data_in_bv.set32(1,0x03020201);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x02ea0bcf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002ff01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0201010201000201);
 data_in_bv.set32(0,0x03030302);
 data_in_bv.set32(1,0x03000002);
 data_in_bv.set32(2,0x03020303);
 data_in_bv.set32(3,0xfd020102);
 addr = 0x03d5eb7e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301010200010200);
 data_in_bv.set32(0,0x02020003);
 data_in_bv.set32(1,0x00030303);
 data_in_bv.set32(2,0x03030000);
 data_in_bv.set32(3,0x01000202);
 addr = 0x01e19b47;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0100000003020001);
 data_in_bv.set32(0,0x03000002);
 data_in_bv.set32(1,0x02000002);
 data_in_bv.set32(2,0x02030300);
 data_in_bv.set32(3,0xfc030002);
 addr = 0x00e317e9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc03ff02,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200010002030201);
 data_in_bv.set32(0,0x03030202);
 data_in_bv.set32(1,0x02010201);
 data_in_bv.set32(2,0x03010202);
 data_in_bv.set32(3,0x02030003);
 addr = 0x03ecf6e9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02020002010201);
 data_in_bv.set32(0,0x01030103);
 data_in_bv.set32(1,0x00020301);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xff030303);
 addr = 0x00b27099;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300020201020103);
 data_in_bv.set32(0,0x03000100);
 data_in_bv.set32(1,0x01030202);
 data_in_bv.set32(2,0x02030003);
 data_in_bv.set32(3,0x00020102);
 addr = 0x00ce43e1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002fe02,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300020003020103);
 data_in_bv.set32(0,0x01000302);
 data_in_bv.set32(1,0x00010202);
 data_in_bv.set32(2,0x03010002);
 data_in_bv.set32(3,0x01000002);
 addr = 0x01f72552;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe00010001000201);
 data_in_bv.set32(0,0x00020301);
 data_in_bv.set32(1,0x03010001);
 data_in_bv.set32(2,0x03010101);
 data_in_bv.set32(3,0xfe000303);
 addr = 0x00ff7136;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00010003010000);
 data_in_bv.set32(0,0x03020101);
 data_in_bv.set32(1,0x02020001);
 data_in_bv.set32(2,0x00020201);
 data_in_bv.set32(3,0xff020003);
 addr = 0x01b9c972;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0103020003000103);
 data_in_bv.set32(0,0x02020200);
 data_in_bv.set32(1,0x03020100);
 data_in_bv.set32(2,0x00020100);
 data_in_bv.set32(3,0x01000202);
 addr = 0x02cd3f65;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0100027f,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff02030002010303);
 data_in_bv.set32(0,0x01020303);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x00030102);
 data_in_bv.set32(3,0xfd000102);
 addr = 0x03fb7189;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01020003020302);
 data_in_bv.set32(0,0x03030202);
 data_in_bv.set32(1,0x03010300);
 data_in_bv.set32(2,0x03000203);
 data_in_bv.set32(3,0x03020001);
 addr = 0x0084ebcd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0300fd03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202000303000202);
 data_in_bv.set32(0,0x01000300);
 data_in_bv.set32(1,0x03010003);
 data_in_bv.set32(2,0x01030002);
 data_in_bv.set32(3,0x03030100);
 addr = 0x00d6b528;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0301ff03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00000002020203);
 data_in_bv.set32(0,0x00000101);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x01000203);
 data_in_bv.set32(3,0xfc010100);
 addr = 0x03cf4ceb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03000000000302);
 data_in_bv.set32(0,0x01020200);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x00000000);
 addr = 0x00dc3a8f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0102fd00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03020002010301);
 data_in_bv.set32(0,0x02020100);
 data_in_bv.set32(1,0x03020300);
 data_in_bv.set32(2,0x02010103);
 data_in_bv.set32(3,0xfe030300);
 addr = 0x01c0c3d3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0301000203000100);
 data_in_bv.set32(0,0x01020001);
 data_in_bv.set32(1,0x01010100);
 data_in_bv.set32(2,0x02030302);
 data_in_bv.set32(3,0x01030301);
 addr = 0x009ab7fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00020001020100);
 data_in_bv.set32(0,0x00030302);
 data_in_bv.set32(1,0x03030300);
 data_in_bv.set32(2,0x01010101);
 data_in_bv.set32(3,0x02010203);
 addr = 0x03b06645;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03030101000103);
 data_in_bv.set32(0,0x01000200);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x01030302);
 data_in_bv.set32(3,0xfd000203);
 addr = 0x03c8e501;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03000302010100);
 data_in_bv.set32(0,0x02030203);
 data_in_bv.set32(1,0x03000103);
 data_in_bv.set32(2,0x03020303);
 data_in_bv.set32(3,0xfc010301);
 addr = 0x03e5c1a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301020003020102);
 data_in_bv.set32(0,0x01030100);
 data_in_bv.set32(1,0x02000300);
 data_in_bv.set32(2,0x03030002);
 data_in_bv.set32(3,0xfe010101);
 addr = 0x029ca914;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fe0100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0103000301020003);
 data_in_bv.set32(0,0x00030303);
 data_in_bv.set32(1,0x03000103);
 data_in_bv.set32(2,0x00000201);
 data_in_bv.set32(3,0x03000301);
 addr = 0x00c237a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0300fe03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01010100010201);
 data_in_bv.set32(0,0x03030100);
 data_in_bv.set32(1,0x01020201);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x02010100);
 addr = 0x00d92076;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02030100020203);
 data_in_bv.set32(0,0x00030302);
 data_in_bv.set32(1,0x01020001);
 data_in_bv.set32(2,0x01000300);
 data_in_bv.set32(3,0x01030102);
 addr = 0x0086e452;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01020203010300);
 data_in_bv.set32(0,0x03020103);
 data_in_bv.set32(1,0x00030102);
 data_in_bv.set32(2,0x00000303);
 data_in_bv.set32(3,0xff010202);
 addr = 0x01ae268f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc02000200030002);
 data_in_bv.set32(0,0x02000002);
 data_in_bv.set32(1,0x03010203);
 data_in_bv.set32(2,0x03030103);
 data_in_bv.set32(3,0x01030302);
 addr = 0x03f7de74;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03000001010301);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x02020200);
 data_in_bv.set32(2,0x00030200);
 data_in_bv.set32(3,0x00010202);
 addr = 0x02ed0ae5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x000102ff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc01020303020103);
 data_in_bv.set32(0,0x03020103);
 data_in_bv.set32(1,0x03000301);
 data_in_bv.set32(2,0x03000301);
 data_in_bv.set32(3,0xfc010300);
 addr = 0x03eddd65;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01010102000300);
 data_in_bv.set32(0,0x02000300);
 data_in_bv.set32(1,0x03020000);
 data_in_bv.set32(2,0x01020202);
 data_in_bv.set32(3,0x01000100);
 addr = 0x019f825c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc03030201030000);
 data_in_bv.set32(0,0x02020102);
 data_in_bv.set32(1,0x00000300);
 data_in_bv.set32(2,0x01000202);
 data_in_bv.set32(3,0xfe000102);
 addr = 0x01b59f57;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc02020103000002);
 data_in_bv.set32(0,0x00010100);
 data_in_bv.set32(1,0x02030300);
 data_in_bv.set32(2,0x03020302);
 data_in_bv.set32(3,0x03000200);
 addr = 0x018c9e82;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd01020303010003);
 data_in_bv.set32(0,0x03000203);
 data_in_bv.set32(1,0x01030200);
 data_in_bv.set32(2,0x01010100);
 data_in_bv.set32(3,0xfd020100);
 addr = 0x039fd52e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00010201030003);
 data_in_bv.set32(0,0x00000101);
 data_in_bv.set32(1,0x03010201);
 data_in_bv.set32(2,0x02000302);
 data_in_bv.set32(3,0x00030300);
 addr = 0x02e9bcc3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0200037f,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0300010302000002);
 data_in_bv.set32(0,0x00010303);
 data_in_bv.set32(1,0x02000100);
 data_in_bv.set32(2,0x01030000);
 data_in_bv.set32(3,0x02030002);
 addr = 0x02f2f0a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x020001ff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd01010201030300);
 data_in_bv.set32(0,0x01030200);
 data_in_bv.set32(1,0x02020101);
 data_in_bv.set32(2,0x01030101);
 data_in_bv.set32(3,0xfd010202);
 addr = 0x01ac93b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0201020001010100);
 data_in_bv.set32(0,0x02000301);
 data_in_bv.set32(1,0x02010101);
 data_in_bv.set32(2,0x03010301);
 data_in_bv.set32(3,0x03030200);
 addr = 0x00a46221;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0201ff01,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102000203000003);
 data_in_bv.set32(0,0x01000202);
 data_in_bv.set32(1,0x02020301);
 data_in_bv.set32(2,0x00010301);
 data_in_bv.set32(3,0x02030201);
 addr = 0x0298c4c2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001037d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0202030302020201);
 data_in_bv.set32(0,0x01000102);
 data_in_bv.set32(1,0x01020003);
 data_in_bv.set32(2,0x00010200);
 data_in_bv.set32(3,0x03030101);
 addr = 0x009e388e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0100fe02,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03010303030302);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x02020103);
 data_in_bv.set32(2,0x02020302);
 data_in_bv.set32(3,0xff030303);
 addr = 0x00eb0702;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001ff01,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200000200000002);
 data_in_bv.set32(0,0x02010002);
 data_in_bv.set32(1,0x03010200);
 data_in_bv.set32(2,0x01010000);
 data_in_bv.set32(3,0xfd030200);
 addr = 0x01ed6fee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe03030000010003);
 data_in_bv.set32(0,0x02020201);
 data_in_bv.set32(1,0x03010302);
 data_in_bv.set32(2,0x01010001);
 data_in_bv.set32(3,0xfc020003);
 addr = 0x01b72b47;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0203010101030303);
 data_in_bv.set32(0,0x03010300);
 data_in_bv.set32(1,0x01010202);
 data_in_bv.set32(2,0x00010300);
 data_in_bv.set32(3,0x03010002);
 addr = 0x01e29109;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0303020201010200);
 data_in_bv.set32(0,0x01010102);
 data_in_bv.set32(1,0x01030001);
 data_in_bv.set32(2,0x02010002);
 data_in_bv.set32(3,0xfe030201);
 addr = 0x02cf6db2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fe0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0103000100020200);
 data_in_bv.set32(0,0x02010100);
 data_in_bv.set32(1,0x03020203);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfd030202);
 addr = 0x01d1b754;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0002010303020000);
 data_in_bv.set32(0,0x01000100);
 data_in_bv.set32(1,0x01030100);
 data_in_bv.set32(2,0x02030302);
 data_in_bv.set32(3,0x01000201);
 addr = 0x02b666a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x010301ff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd03000100000301);
 data_in_bv.set32(0,0x00000301);
 data_in_bv.set32(1,0x01020203);
 data_in_bv.set32(2,0x01010302);
 data_in_bv.set32(3,0xff020001);
 addr = 0x03bae80c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101000203000100);
 data_in_bv.set32(0,0x00000203);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x01010301);
 data_in_bv.set32(3,0x02020103);
 addr = 0x03fbcd34;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100010003020303);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x03030303);
 data_in_bv.set32(3,0x03010003);
 addr = 0x00833777;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01020300010200);
 data_in_bv.set32(0,0x00030303);
 data_in_bv.set32(1,0x03030300);
 data_in_bv.set32(2,0x02000203);
 data_in_bv.set32(3,0x03000302);
 addr = 0x038eadd2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301000201020302);
 data_in_bv.set32(0,0x00020301);
 data_in_bv.set32(1,0x00000301);
 data_in_bv.set32(2,0x02010203);
 data_in_bv.set32(3,0x02010102);
 addr = 0x018c3af5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff03010002030302);
 data_in_bv.set32(0,0x00020202);
 data_in_bv.set32(1,0x02010102);
 data_in_bv.set32(2,0x02010000);
 data_in_bv.set32(3,0x03030203);
 addr = 0x01812b1b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd00010000030300);
 data_in_bv.set32(0,0x02010303);
 data_in_bv.set32(1,0x03030202);
 data_in_bv.set32(2,0x01000101);
 data_in_bv.set32(3,0x02020302);
 addr = 0x038fbff5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02000002010203);
 data_in_bv.set32(0,0x03030100);
 data_in_bv.set32(1,0x01000203);
 data_in_bv.set32(2,0x01020103);
 data_in_bv.set32(3,0xfc000002);
 addr = 0x01fc145c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe02020100010203);
 data_in_bv.set32(0,0x01000101);
 data_in_bv.set32(1,0x00000102);
 data_in_bv.set32(2,0x01010101);
 data_in_bv.set32(3,0xfd010101);
 addr = 0x03b816fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302020301030001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x03020200);
 data_in_bv.set32(2,0x03000300);
 data_in_bv.set32(3,0x01000103);
 addr = 0x0288ff6c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0100fe03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0103000101010303);
 data_in_bv.set32(0,0x01020202);
 data_in_bv.set32(1,0x03020303);
 data_in_bv.set32(2,0x03010102);
 data_in_bv.set32(3,0x01020003);
 addr = 0x03ff710f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202010100030202);
 data_in_bv.set32(0,0x00030301);
 data_in_bv.set32(1,0x03000203);
 data_in_bv.set32(2,0x03020103);
 data_in_bv.set32(3,0xfd030000);
 addr = 0x02aa9b56;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03ff0103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0002020101010302);
 data_in_bv.set32(0,0x03010001);
 data_in_bv.set32(1,0x03010303);
 data_in_bv.set32(2,0x00020202);
 data_in_bv.set32(3,0x02010102);
 addr = 0x0289cba4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x030103fe,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0303030202020300);
 data_in_bv.set32(0,0x00010301);
 data_in_bv.set32(1,0x02020101);
 data_in_bv.set32(2,0x02010101);
 data_in_bv.set32(3,0xfc020100);
 addr = 0x019241a0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd00020001010001);
 data_in_bv.set32(0,0x02010100);
 data_in_bv.set32(1,0x02010203);
 data_in_bv.set32(2,0x01010303);
 data_in_bv.set32(3,0xfe030302);
 addr = 0x00c751fd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00030203020301);
 data_in_bv.set32(0,0x00030203);
 data_in_bv.set32(1,0x02000201);
 data_in_bv.set32(2,0x03010202);
 data_in_bv.set32(3,0xfd030201);
 addr = 0x01e80ee7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd02030103030002);
 data_in_bv.set32(0,0x00000201);
 data_in_bv.set32(1,0x02010200);
 data_in_bv.set32(2,0x02020301);
 data_in_bv.set32(3,0xfd010100);
 addr = 0x03b0433a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202030003010301);
 data_in_bv.set32(0,0x03020001);
 data_in_bv.set32(1,0x03010103);
 data_in_bv.set32(2,0x00020302);
 data_in_bv.set32(3,0xff010303);
 addr = 0x03928620;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302020002020000);
 data_in_bv.set32(0,0x00020201);
 data_in_bv.set32(1,0x02030101);
 data_in_bv.set32(2,0x03010101);
 data_in_bv.set32(3,0xff010303);
 addr = 0x03c4b0b6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103030000000301);
 data_in_bv.set32(0,0x03010103);
 data_in_bv.set32(1,0x00020301);
 data_in_bv.set32(2,0x03020100);
 data_in_bv.set32(3,0xfd030300);
 addr = 0x03ed9c42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001030200010200);
 data_in_bv.set32(0,0x02020303);
 data_in_bv.set32(1,0x03020303);
 data_in_bv.set32(2,0x03030003);
 data_in_bv.set32(3,0x03000202);
 addr = 0x00f885c3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0303ff03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00020003020103);
 data_in_bv.set32(0,0x00020203);
 data_in_bv.set32(1,0x00020300);
 data_in_bv.set32(2,0x03030301);
 data_in_bv.set32(3,0xfc000300);
 addr = 0x02cf7ec8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03037f01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0302030103000003);
 data_in_bv.set32(0,0x03020003);
 data_in_bv.set32(1,0x00020303);
 data_in_bv.set32(2,0x00030303);
 data_in_bv.set32(3,0xfd010303);
 addr = 0x01e213f1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0303000201030302);
 data_in_bv.set32(0,0x03020003);
 data_in_bv.set32(1,0x00020303);
 data_in_bv.set32(2,0x00030303);
 data_in_bv.set32(3,0xfd010303);
 addr = 0x02e213da;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0101020001020203);
 data_in_bv.set32(0,0x02020200);
 data_in_bv.set32(1,0x01020100);
 data_in_bv.set32(2,0x03010102);
 data_in_bv.set32(3,0x01030000);
 addr = 0x03d4e873;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01000201000200);
 data_in_bv.set32(0,0x03020002);
 data_in_bv.set32(1,0x00030200);
 data_in_bv.set32(2,0x02000201);
 data_in_bv.set32(3,0x02000303);
 addr = 0x0192fddc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0200000102020000);
 data_in_bv.set32(0,0x01010102);
 data_in_bv.set32(1,0x00010301);
 data_in_bv.set32(2,0x02010303);
 data_in_bv.set32(3,0xfd030102);
 addr = 0x02af950f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0101fe02,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0003000001030100);
 data_in_bv.set32(0,0x01010303);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x00010300);
 data_in_bv.set32(3,0x01000202);
 addr = 0x00df663d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303010301020001);
 data_in_bv.set32(0,0x03020003);
 data_in_bv.set32(1,0x02030201);
 data_in_bv.set32(2,0x03000100);
 data_in_bv.set32(3,0xff000302);
 addr = 0x03e21b77;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302010300020100);
 data_in_bv.set32(0,0x01010303);
 data_in_bv.set32(1,0x03000301);
 data_in_bv.set32(2,0x03010100);
 data_in_bv.set32(3,0x02020200);
 addr = 0x03b974d2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02030203030303);
 data_in_bv.set32(0,0x01010003);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x02000001);
 data_in_bv.set32(3,0xfc020300);
 addr = 0x02f4b15c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x7f000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc01020303010300);
 data_in_bv.set32(0,0x00020302);
 data_in_bv.set32(1,0x02030002);
 data_in_bv.set32(2,0x00020202);
 data_in_bv.set32(3,0x03000203);
 addr = 0x03a60e0d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02030102010002);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x01020201);
 data_in_bv.set32(2,0x00030101);
 data_in_bv.set32(3,0xfd000300);
 addr = 0x009ea95b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03010302030302);
 data_in_bv.set32(0,0x03000302);
 data_in_bv.set32(1,0x02010100);
 data_in_bv.set32(2,0x01000102);
 data_in_bv.set32(3,0xfd010200);
 addr = 0x02a32cb7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02fe0100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff02010101010100);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x02020101);
 data_in_bv.set32(2,0x00010302);
 data_in_bv.set32(3,0xfc020303);
 addr = 0x019ebf0e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc02030003030202);
 data_in_bv.set32(0,0x00010100);
 data_in_bv.set32(1,0x01020301);
 data_in_bv.set32(2,0x03030203);
 data_in_bv.set32(3,0xfd000001);
 addr = 0x00a1348a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001ff00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202010000000200);
 data_in_bv.set32(0,0x02000203);
 data_in_bv.set32(1,0x03010001);
 data_in_bv.set32(2,0x03030001);
 data_in_bv.set32(3,0xfe020302);
 addr = 0x01ae5194;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0200030102000001);
 data_in_bv.set32(0,0x02020100);
 data_in_bv.set32(1,0x01010100);
 data_in_bv.set32(2,0x02000000);
 data_in_bv.set32(3,0xff030202);
 addr = 0x03d97495;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02020100000002);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x00010100);
 data_in_bv.set32(2,0x03010300);
 data_in_bv.set32(3,0xfc020301);
 addr = 0x02d559fd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02020202030200);
 data_in_bv.set32(0,0x01010100);
 data_in_bv.set32(1,0x00010100);
 data_in_bv.set32(2,0x01020102);
 data_in_bv.set32(3,0xfe030001);
 addr = 0x01856280;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc02020102020103);
 data_in_bv.set32(0,0x02010101);
 data_in_bv.set32(1,0x01010301);
 data_in_bv.set32(2,0x00010303);
 data_in_bv.set32(3,0x02010301);
 addr = 0x02c5fa56;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x007d0303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0100000102020000);
 data_in_bv.set32(0,0x02010101);
 data_in_bv.set32(1,0x01010301);
 data_in_bv.set32(2,0x007d0303);
 data_in_bv.set32(3,0x02010301);
 addr = 0x00c5fa66;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x007d0303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0201ff01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03030202030202);
 data_in_bv.set32(0,0x03000200);
 data_in_bv.set32(1,0x01030001);
 data_in_bv.set32(2,0x00010100);
 data_in_bv.set32(3,0xfd000301);
 addr = 0x00b8c61e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfd000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03010201030200);
 data_in_bv.set32(0,0x01030302);
 data_in_bv.set32(1,0x01030002);
 data_in_bv.set32(2,0x01000100);
 data_in_bv.set32(3,0xfe020100);
 addr = 0x00e4f08f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0103ff02,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02000301020002);
 data_in_bv.set32(0,0x00000202);
 data_in_bv.set32(1,0x03000301);
 data_in_bv.set32(2,0x00030103);
 data_in_bv.set32(3,0x01000300);
 addr = 0x01b3349c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff01020102010200);
 data_in_bv.set32(0,0x00010302);
 data_in_bv.set32(1,0x01030002);
 data_in_bv.set32(2,0x01000202);
 data_in_bv.set32(3,0xff030101);
 addr = 0x02a05a65;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff0301fe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd01010200010002);
 data_in_bv.set32(0,0x03020103);
 data_in_bv.set32(1,0x01010201);
 data_in_bv.set32(2,0x01000003);
 data_in_bv.set32(3,0xff020100);
 addr = 0x00e5ce27;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0101fd01,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00010100000003);
 data_in_bv.set32(0,0x02000302);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x03000002);
 data_in_bv.set32(3,0xfe030302);
 addr = 0x02cee201;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0200037f,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc00000102030002);
 data_in_bv.set32(0,0x03000103);
 data_in_bv.set32(1,0x03010101);
 data_in_bv.set32(2,0x02030103);
 data_in_bv.set32(3,0xff000103);
 addr = 0x00bb6688;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0300ff03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001020202030203);
 data_in_bv.set32(0,0x01000000);
 data_in_bv.set32(1,0x02010302);
 data_in_bv.set32(2,0x02030002);
 data_in_bv.set32(3,0x03030001);
 addr = 0x01f364c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0201020202030202);
 data_in_bv.set32(0,0x00030102);
 data_in_bv.set32(1,0x02010200);
 data_in_bv.set32(2,0x02020002);
 data_in_bv.set32(3,0xff030300);
 addr = 0x02ed9442;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x020200ff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc01020202030201);
 data_in_bv.set32(0,0x03000002);
 data_in_bv.set32(1,0x02010003);
 data_in_bv.set32(2,0x03030000);
 data_in_bv.set32(3,0x00030003);
 addr = 0x03a05a84;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000010002010302);
 data_in_bv.set32(0,0x01030100);
 data_in_bv.set32(1,0x03030002);
 data_in_bv.set32(2,0x00000200);
 data_in_bv.set32(3,0x00030301);
 addr = 0x03f26db1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103020001000003);
 data_in_bv.set32(0,0x03010002);
 data_in_bv.set32(1,0x02020002);
 data_in_bv.set32(2,0x01020103);
 data_in_bv.set32(3,0xfc000203);
 addr = 0x008b24d2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03030002010300);
 data_in_bv.set32(0,0x03010303);
 data_in_bv.set32(1,0x01000103);
 data_in_bv.set32(2,0x01030000);
 data_in_bv.set32(3,0x01010100);
 addr = 0x02a4e4a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x010001fe,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc03000102000102);
 data_in_bv.set32(0,0x00010201);
 data_in_bv.set32(1,0x01020103);
 data_in_bv.set32(2,0x00020101);
 data_in_bv.set32(3,0x01030102);
 addr = 0x00a82af9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00030300000000);
 data_in_bv.set32(0,0x02000003);
 data_in_bv.set32(1,0x00000301);
 data_in_bv.set32(2,0x00010201);
 data_in_bv.set32(3,0x00020002);
 addr = 0x00823b9f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01020100000101);
 data_in_bv.set32(0,0x01020103);
 data_in_bv.set32(1,0x01010202);
 data_in_bv.set32(2,0x01030102);
 data_in_bv.set32(3,0xfe000300);
 addr = 0x01ddf417;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0203020201030102);
 data_in_bv.set32(0,0x02010203);
 data_in_bv.set32(1,0x03020102);
 data_in_bv.set32(2,0x03010303);
 data_in_bv.set32(3,0x01010101);
 addr = 0x03b9a25b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01030201020303);
 data_in_bv.set32(0,0x01030203);
 data_in_bv.set32(1,0x02010100);
 data_in_bv.set32(2,0x01020300);
 data_in_bv.set32(3,0x01020202);
 addr = 0x02b9b354;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x017f0300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0102020202020103);
 data_in_bv.set32(0,0x01020000);
 data_in_bv.set32(1,0x03000300);
 data_in_bv.set32(2,0x03020301);
 data_in_bv.set32(3,0xff000303);
 addr = 0x03b2fab7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03000100030002);
 data_in_bv.set32(0,0x03010003);
 data_in_bv.set32(1,0x01010200);
 data_in_bv.set32(2,0x01010001);
 data_in_bv.set32(3,0xfc030300);
 addr = 0x01b7d1be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0300010201030301);
 data_in_bv.set32(0,0x03030203);
 data_in_bv.set32(1,0x01030002);
 data_in_bv.set32(2,0x03030201);
 data_in_bv.set32(3,0xfc030301);
 addr = 0x01a198e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd01010001010101);
 data_in_bv.set32(0,0x03030203);
 data_in_bv.set32(1,0x01030002);
 data_in_bv.set32(2,0x03030201);
 data_in_bv.set32(3,0xfc030301);
 addr = 0x02a198fc;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0301030003000003);
 data_in_bv.set32(0,0x01010102);
 data_in_bv.set32(1,0x00000301);
 data_in_bv.set32(2,0x02030000);
 data_in_bv.set32(3,0xfd030303);
 addr = 0x03c29084;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02020003030202);
 data_in_bv.set32(0,0x01020201);
 data_in_bv.set32(1,0x02020100);
 data_in_bv.set32(2,0x00020200);
 data_in_bv.set32(3,0xff020103);
 addr = 0x0095fcaf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0202ff00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303030001020003);
 data_in_bv.set32(0,0x02020300);
 data_in_bv.set32(1,0x03010003);
 data_in_bv.set32(2,0x03010200);
 data_in_bv.set32(3,0xfd030300);
 addr = 0x039c7d62;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03030102030101);
 data_in_bv.set32(0,0x02030202);
 data_in_bv.set32(1,0x00010302);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfc000200);
 addr = 0x03f663cf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00030302010203);
 data_in_bv.set32(0,0x00010100);
 data_in_bv.set32(1,0x01000302);
 data_in_bv.set32(2,0x00000100);
 data_in_bv.set32(3,0xfc030100);
 addr = 0x03f2871b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02000003020303);
 data_in_bv.set32(0,0x03020302);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x01000003);
 data_in_bv.set32(3,0xfe010100);
 addr = 0x00c19ac3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0100ff03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003020300030103);
 data_in_bv.set32(0,0x03010201);
 data_in_bv.set32(1,0x01020302);
 data_in_bv.set32(2,0x03010201);
 data_in_bv.set32(3,0x00020003);
 addr = 0x03b15c03;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000003030000);
 data_in_bv.set32(0,0x01010302);
 data_in_bv.set32(1,0x00020203);
 data_in_bv.set32(2,0x00000300);
 data_in_bv.set32(3,0x00020101);
 addr = 0x008cf413;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001020002000102);
 data_in_bv.set32(0,0x00010201);
 data_in_bv.set32(1,0x00010300);
 data_in_bv.set32(2,0x01020202);
 data_in_bv.set32(3,0x03030002);
 addr = 0x038c8aaa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02030100000200);
 data_in_bv.set32(0,0x01030202);
 data_in_bv.set32(1,0x00000301);
 data_in_bv.set32(2,0x03020203);
 data_in_bv.set32(3,0xff010303);
 addr = 0x02f230f3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd02000201020001);
 data_in_bv.set32(0,0x03030302);
 data_in_bv.set32(1,0x02030102);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x03010203);
 addr = 0x00d3ae2a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0203fe02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01000301000001);
 data_in_bv.set32(0,0x03030302);
 data_in_bv.set32(1,0x0203fe02);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x03010203);
 addr = 0x02d3ae52;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0203fe02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00ff0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe00030203030003);
 data_in_bv.set32(0,0x00030303);
 data_in_bv.set32(1,0x01020103);
 data_in_bv.set32(2,0x00000201);
 data_in_bv.set32(3,0x00000202);
 addr = 0x0095b3da;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02010003020200);
 data_in_bv.set32(0,0x00030303);
 data_in_bv.set32(1,0x01020103);
 data_in_bv.set32(2,0xff000201);
 data_in_bv.set32(3,0x00000202);
 addr = 0x0095b3b9;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02000203030202);
 data_in_bv.set32(0,0x02010200);
 data_in_bv.set32(1,0x03030002);
 data_in_bv.set32(2,0x01010100);
 data_in_bv.set32(3,0xfc010101);
 addr = 0x02a0cdf5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfcfe0101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0202030003020101);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x02000302);
 data_in_bv.set32(2,0x00030102);
 data_in_bv.set32(3,0x01030000);
 addr = 0x01ec140d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe00000101000202);
 data_in_bv.set32(0,0x03030101);
 data_in_bv.set32(1,0x03020102);
 data_in_bv.set32(2,0x00010201);
 data_in_bv.set32(3,0x01020103);
 addr = 0x00b38566;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0102ff03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02020100020103);
 data_in_bv.set32(0,0x01030001);
 data_in_bv.set32(1,0x02030001);
 data_in_bv.set32(2,0x03020003);
 data_in_bv.set32(3,0xfd030201);
 addr = 0x00e1823a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfd030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001030003010201);
 data_in_bv.set32(0,0x01010003);
 data_in_bv.set32(1,0x01000201);
 data_in_bv.set32(2,0x00030202);
 data_in_bv.set32(3,0xfe010100);
 addr = 0x01c31e3b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0202000001030001);
 data_in_bv.set32(0,0x03030300);
 data_in_bv.set32(1,0x02010000);
 data_in_bv.set32(2,0x03010002);
 data_in_bv.set32(3,0x02030302);
 addr = 0x03b2b390;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00020302020203);
 data_in_bv.set32(0,0x00020100);
 data_in_bv.set32(1,0x02000203);
 data_in_bv.set32(2,0x03010303);
 data_in_bv.set32(3,0xfe020101);
 addr = 0x01a63ab5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff00020001000203);
 data_in_bv.set32(0,0x03000003);
 data_in_bv.set32(1,0x01000102);
 data_in_bv.set32(2,0x03030300);
 data_in_bv.set32(3,0xfd020103);
 addr = 0x00bc31e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd02fe03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202000303010301);
 data_in_bv.set32(0,0x01010201);
 data_in_bv.set32(1,0x01010000);
 data_in_bv.set32(2,0x02020103);
 data_in_bv.set32(3,0xfe030203);
 addr = 0x018bf339;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0000010000000301);
 data_in_bv.set32(0,0x02010301);
 data_in_bv.set32(1,0x01020002);
 data_in_bv.set32(2,0x01020200);
 data_in_bv.set32(3,0xfe010003);
 addr = 0x03b3dd99;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103010201010103);
 data_in_bv.set32(0,0x03030101);
 data_in_bv.set32(1,0x03010003);
 data_in_bv.set32(2,0x02010201);
 data_in_bv.set32(3,0xfe020102);
 addr = 0x03ab4119;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102020100020000);
 data_in_bv.set32(0,0x03030101);
 data_in_bv.set32(1,0x03010003);
 data_in_bv.set32(2,0x02010201);
 data_in_bv.set32(3,0xfe020102);
 addr = 0x00ab410a;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0303ff01,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02000100000002);
 data_in_bv.set32(0,0x01030100);
 data_in_bv.set32(1,0x02000201);
 data_in_bv.set32(2,0x03030302);
 data_in_bv.set32(3,0xff000302);
 addr = 0x02ae06c5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x030303ff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xffff010103020203);
 data_in_bv.set32(0,0x03020001);
 data_in_bv.set32(1,0x02010100);
 data_in_bv.set32(2,0x02000103);
 data_in_bv.set32(3,0x03020103);
 addr = 0x00ce1afa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201000203010302);
 data_in_bv.set32(0,0x00020303);
 data_in_bv.set32(1,0x02000102);
 data_in_bv.set32(2,0x02030000);
 data_in_bv.set32(3,0x01030003);
 addr = 0x00e75b8b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002fd03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01010302010102);
 data_in_bv.set32(0,0x01010100);
 data_in_bv.set32(1,0x00020200);
 data_in_bv.set32(2,0x03020303);
 data_in_bv.set32(3,0x03030203);
 addr = 0x01e5a8ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff03020103000201);
 data_in_bv.set32(0,0x03030202);
 data_in_bv.set32(1,0x00010200);
 data_in_bv.set32(2,0x03030300);
 data_in_bv.set32(3,0xfe010300);
 addr = 0x02e6e15f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0302010101020100);
 data_in_bv.set32(0,0x03000300);
 data_in_bv.set32(1,0x00020203);
 data_in_bv.set32(2,0x01020200);
 data_in_bv.set32(3,0xff030303);
 addr = 0x01d92201;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0202000101010200);
 data_in_bv.set32(0,0x01030203);
 data_in_bv.set32(1,0x01030203);
 data_in_bv.set32(2,0x00030202);
 data_in_bv.set32(3,0xfd020302);
 addr = 0x02eb8041;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000302ff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0103030102000201);
 data_in_bv.set32(0,0x03010302);
 data_in_bv.set32(1,0x01010101);
 data_in_bv.set32(2,0x01020103);
 data_in_bv.set32(3,0x03030200);
 addr = 0x01ac0063;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe03000201020303);
 data_in_bv.set32(0,0x02000202);
 data_in_bv.set32(1,0x01030102);
 data_in_bv.set32(2,0x02010000);
 data_in_bv.set32(3,0xfe020000);
 addr = 0x0283f8bd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7d030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0203010003020002);
 data_in_bv.set32(0,0x00020202);
 data_in_bv.set32(1,0x03000202);
 data_in_bv.set32(2,0x02020101);
 data_in_bv.set32(3,0xff000302);
 addr = 0x02e401ac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0300ff02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0003010002000302);
 data_in_bv.set32(0,0x02030302);
 data_in_bv.set32(1,0x03010103);
 data_in_bv.set32(2,0x02000002);
 data_in_bv.set32(3,0xfd020002);
 addr = 0x02c5b1b0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03fe0103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff01030201030301);
 data_in_bv.set32(0,0x02030001);
 data_in_bv.set32(1,0x03010303);
 data_in_bv.set32(2,0x03000101);
 data_in_bv.set32(3,0x02000303);
 addr = 0x00d7789f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01030100030100);
 data_in_bv.set32(0,0x02030300);
 data_in_bv.set32(1,0x02030202);
 data_in_bv.set32(2,0x03020101);
 data_in_bv.set32(3,0xfc030002);
 addr = 0x00d9ad09;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0203ff00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03030300010301);
 data_in_bv.set32(0,0x02030203);
 data_in_bv.set32(1,0x02030302);
 data_in_bv.set32(2,0x01000200);
 data_in_bv.set32(3,0x02030200);
 addr = 0x0197bfcd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe00020303030003);
 data_in_bv.set32(0,0x03000300);
 data_in_bv.set32(1,0x03030003);
 data_in_bv.set32(2,0x03020201);
 data_in_bv.set32(3,0xfc010203);
 addr = 0x03e5019a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202030302020301);
 data_in_bv.set32(0,0x01020303);
 data_in_bv.set32(1,0x01020000);
 data_in_bv.set32(2,0x03020201);
 data_in_bv.set32(3,0xfe030200);
 addr = 0x03995b2a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01010002020002);
 data_in_bv.set32(0,0x00020302);
 data_in_bv.set32(1,0x02010001);
 data_in_bv.set32(2,0x03030102);
 data_in_bv.set32(3,0xff010001);
 addr = 0x028e55e0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff0100fe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd00020301010303);
 data_in_bv.set32(0,0x02030003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x02030101);
 data_in_bv.set32(3,0xfe030200);
 addr = 0x03f3bfc4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302010300010202);
 data_in_bv.set32(0,0x00030100);
 data_in_bv.set32(1,0x00000302);
 data_in_bv.set32(2,0x02010201);
 data_in_bv.set32(3,0x01000100);
 addr = 0x01928631;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0200030202010300);
 data_in_bv.set32(0,0x02000301);
 data_in_bv.set32(1,0x00000202);
 data_in_bv.set32(2,0x01020203);
 data_in_bv.set32(3,0xfd010101);
 addr = 0x039cdae4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03020002000003);
 data_in_bv.set32(0,0x00010202);
 data_in_bv.set32(1,0x03000302);
 data_in_bv.set32(2,0x01030103);
 data_in_bv.set32(3,0xfc000101);
 addr = 0x018e5e27;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0301010200030003);
 data_in_bv.set32(0,0x02000001);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x02030200);
 data_in_bv.set32(3,0x00010200);
 addr = 0x03a83e71;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300010300030102);
 data_in_bv.set32(0,0x01020301);
 data_in_bv.set32(1,0x00020102);
 data_in_bv.set32(2,0x02000201);
 data_in_bv.set32(3,0x01030203);
 addr = 0x01bfb3ac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe02000102000001);
 data_in_bv.set32(0,0x01010200);
 data_in_bv.set32(1,0x01020101);
 data_in_bv.set32(2,0x02030001);
 data_in_bv.set32(3,0x02010102);
 addr = 0x00d1ae5c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103030201030203);
 data_in_bv.set32(0,0x02000200);
 data_in_bv.set32(1,0x03030301);
 data_in_bv.set32(2,0x01000003);
 data_in_bv.set32(3,0x00020001);
 addr = 0x01865e13;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0100000202000201);
 data_in_bv.set32(0,0x02010001);
 data_in_bv.set32(1,0x00010200);
 data_in_bv.set32(2,0x01000003);
 data_in_bv.set32(3,0x03000202);
 addr = 0x0283fdd3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01ff0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0103030300030303);
 data_in_bv.set32(0,0x00000301);
 data_in_bv.set32(1,0x00010101);
 data_in_bv.set32(2,0x02010000);
 data_in_bv.set32(3,0x00010002);
 addr = 0x02f5c9c3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0201007d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0202000102010202);
 data_in_bv.set32(0,0x02020000);
 data_in_bv.set32(1,0x03010002);
 data_in_bv.set32(2,0x03000100);
 data_in_bv.set32(3,0x03010103);
 addr = 0x00af4f6a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0301ff03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103000000030100);
 data_in_bv.set32(0,0x01010202);
 data_in_bv.set32(1,0x01000302);
 data_in_bv.set32(2,0x00000100);
 data_in_bv.set32(3,0xfe000100);
 addr = 0x00a47488;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0101ff02,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202030001010003);
 data_in_bv.set32(0,0x03010302);
 data_in_bv.set32(1,0x02010202);
 data_in_bv.set32(2,0x01010202);
 data_in_bv.set32(3,0xfd020202);
 addr = 0x00d41478;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200020102020001);
 data_in_bv.set32(0,0x01020102);
 data_in_bv.set32(1,0x01010101);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfd030101);
 addr = 0x02e598ff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd03000202020302);
 data_in_bv.set32(0,0x03030101);
 data_in_bv.set32(1,0x02020001);
 data_in_bv.set32(2,0x00030302);
 data_in_bv.set32(3,0xff010200);
 addr = 0x03c0e692;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00000300030100);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00030300);
 data_in_bv.set32(2,0x01000002);
 data_in_bv.set32(3,0xff030101);
 addr = 0x00f2f565;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff03ff01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203020301030003);
 data_in_bv.set32(0,0x00000103);
 data_in_bv.set32(1,0x01020203);
 data_in_bv.set32(2,0x02020302);
 data_in_bv.set32(3,0x00000301);
 addr = 0x01e0457e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc03020201010301);
 data_in_bv.set32(0,0x01010303);
 data_in_bv.set32(1,0x02010101);
 data_in_bv.set32(2,0x01030301);
 data_in_bv.set32(3,0xfe030002);
 addr = 0x02b65772;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfefe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0303030103000103);
 data_in_bv.set32(0,0x03000003);
 data_in_bv.set32(1,0x02000101);
 data_in_bv.set32(2,0x03010003);
 data_in_bv.set32(3,0x01010302);
 addr = 0x01b84c5d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0102010102010102);
 data_in_bv.set32(0,0x03000202);
 data_in_bv.set32(1,0x02030303);
 data_in_bv.set32(2,0x01020001);
 data_in_bv.set32(3,0x00010102);
 addr = 0x01cc234a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc00000000020103);
 data_in_bv.set32(0,0x00000202);
 data_in_bv.set32(1,0x01000003);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0x00020103);
 addr = 0x02e8f44e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00037d00,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff02030002000003);
 data_in_bv.set32(0,0x00010302);
 data_in_bv.set32(1,0x03000203);
 data_in_bv.set32(2,0x03020200);
 data_in_bv.set32(3,0x00010203);
 addr = 0x02eda074;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x007d0203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02020001030200);
 data_in_bv.set32(0,0x02000301);
 data_in_bv.set32(1,0x01020202);
 data_in_bv.set32(2,0x02030000);
 data_in_bv.set32(3,0x03030201);
 addr = 0x00dd4536;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01010301000003);
 data_in_bv.set32(0,0x02030301);
 data_in_bv.set32(1,0x00010302);
 data_in_bv.set32(2,0x02000100);
 data_in_bv.set32(3,0xff020201);
 addr = 0x029270ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff027f01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0100000001010102);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x03020302);
 data_in_bv.set32(2,0x02020300);
 data_in_bv.set32(3,0x01000201);
 addr = 0x02dbf68a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001ff00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc01000102010303);
 data_in_bv.set32(0,0x01030202);
 data_in_bv.set32(1,0x00020100);
 data_in_bv.set32(2,0x03030201);
 data_in_bv.set32(3,0x03020300);
 addr = 0x00f6b2f3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01020101020301);
 data_in_bv.set32(0,0x02030100);
 data_in_bv.set32(1,0x02030103);
 data_in_bv.set32(2,0x02030203);
 data_in_bv.set32(3,0xfd020300);
 addr = 0x00ddd3be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01000103020303);
 data_in_bv.set32(0,0x03000101);
 data_in_bv.set32(1,0x03020001);
 data_in_bv.set32(2,0x01030000);
 data_in_bv.set32(3,0xfd020202);
 addr = 0x03ecbaaf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03000102010000);
 data_in_bv.set32(0,0x02030200);
 data_in_bv.set32(1,0x03010101);
 data_in_bv.set32(2,0x03000301);
 data_in_bv.set32(3,0xfc030103);
 addr = 0x01f92b49;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0101020002010000);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x00020202);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfe010303);
 addr = 0x00ce5fad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002ff02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302010001020301);
 data_in_bv.set32(0,0x02000003);
 data_in_bv.set32(1,0x00000103);
 data_in_bv.set32(2,0x03010303);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02df3743;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x030103fe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd00030102010000);
 data_in_bv.set32(0,0x03030201);
 data_in_bv.set32(1,0x02000000);
 data_in_bv.set32(2,0x02010000);
 data_in_bv.set32(3,0xfe030202);
 addr = 0x02f853bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0301000302010101);
 data_in_bv.set32(0,0x00010302);
 data_in_bv.set32(1,0x02000001);
 data_in_bv.set32(2,0x02020202);
 data_in_bv.set32(3,0xfe010002);
 addr = 0x01da2683;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe02010102020202);
 data_in_bv.set32(0,0x00030100);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x01010002);
 data_in_bv.set32(3,0xfc030100);
 addr = 0x02a15fa8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0103ff00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe00020200020103);
 data_in_bv.set32(0,0x01020201);
 data_in_bv.set32(1,0x02000103);
 data_in_bv.set32(2,0x01020300);
 data_in_bv.set32(3,0x00020301);
 addr = 0x00d26816;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01030101010102);
 data_in_bv.set32(0,0x02020101);
 data_in_bv.set32(1,0x02030201);
 data_in_bv.set32(2,0x02010002);
 data_in_bv.set32(3,0xfe000300);
 addr = 0x03fbba28;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203020302020203);
 data_in_bv.set32(0,0x01010302);
 data_in_bv.set32(1,0x02000201);
 data_in_bv.set32(2,0x01020300);
 data_in_bv.set32(3,0xfd030002);
 addr = 0x03ff498a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001010003000202);
 data_in_bv.set32(0,0x00030301);
 data_in_bv.set32(1,0x01020301);
 data_in_bv.set32(2,0x02010101);
 data_in_bv.set32(3,0xff010103);
 addr = 0x038ff5d7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03030103010003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030102);
 data_in_bv.set32(2,0x00020100);
 data_in_bv.set32(3,0x00000101);
 addr = 0x01bb3228;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0200030300030000);
 data_in_bv.set32(0,0x03020103);
 data_in_bv.set32(1,0x00000101);
 data_in_bv.set32(2,0x03000301);
 data_in_bv.set32(3,0xfc000000);
 addr = 0x028a881e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0200010300000101);
 data_in_bv.set32(0,0x03010301);
 data_in_bv.set32(1,0x02010002);
 data_in_bv.set32(2,0x03000203);
 data_in_bv.set32(3,0xfe030201);
 addr = 0x01f1ad9f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0201010301030001);
 data_in_bv.set32(0,0x02030200);
 data_in_bv.set32(1,0x02030101);
 data_in_bv.set32(2,0x00030200);
 data_in_bv.set32(3,0x03000000);
 addr = 0x02be7a28;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0203fe01,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0302010202020002);
 data_in_bv.set32(0,0x01030003);
 data_in_bv.set32(1,0x03020202);
 data_in_bv.set32(2,0x01030303);
 data_in_bv.set32(3,0xfe030100);
 addr = 0x018545d9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0201000302010100);
 data_in_bv.set32(0,0x00010301);
 data_in_bv.set32(1,0x00030101);
 data_in_bv.set32(2,0x03030001);
 data_in_bv.set32(3,0xfc000300);
 addr = 0x03a8b7ba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002030200000303);
 data_in_bv.set32(0,0x03030203);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x00010300);
 data_in_bv.set32(3,0xfe010301);
 addr = 0x03f26f59;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000020000030000);
 data_in_bv.set32(0,0x01030203);
 data_in_bv.set32(1,0x00000300);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x02030100);
 addr = 0x0196dce3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0203020102000102);
 data_in_bv.set32(0,0x00010100);
 data_in_bv.set32(1,0x03010201);
 data_in_bv.set32(2,0x03030301);
 data_in_bv.set32(3,0x02030003);
 addr = 0x02ef1f19;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0101010303030301);
 data_in_bv.set32(0,0x03000202);
 data_in_bv.set32(1,0x01020203);
 data_in_bv.set32(2,0x01000200);
 data_in_bv.set32(3,0xfe020301);
 addr = 0x0395699d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01000201010200);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00030102);
 data_in_bv.set32(2,0x01020301);
 data_in_bv.set32(3,0x01010201);
 addr = 0x01d4fec9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0000000201010103);
 data_in_bv.set32(0,0x00000303);
 data_in_bv.set32(1,0x01010002);
 data_in_bv.set32(2,0x01030103);
 data_in_bv.set32(3,0x03010101);
 addr = 0x02c84480;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000037f,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0102020102010200);
 data_in_bv.set32(0,0x02030303);
 data_in_bv.set32(1,0x00020301);
 data_in_bv.set32(2,0x00010102);
 data_in_bv.set32(3,0x00010102);
 addr = 0x01845c9c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0303020302030200);
 data_in_bv.set32(0,0x01020301);
 data_in_bv.set32(1,0x01000301);
 data_in_bv.set32(2,0x03010303);
 data_in_bv.set32(3,0xfe010301);
 addr = 0x00da342c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0100ff01,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03020200030200);
 data_in_bv.set32(0,0x02030001);
 data_in_bv.set32(1,0x00030101);
 data_in_bv.set32(2,0x01010201);
 data_in_bv.set32(3,0xff020200);
 addr = 0x02b5dd5b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff01020001000201);
 data_in_bv.set32(0,0x00010302);
 data_in_bv.set32(1,0x00030300);
 data_in_bv.set32(2,0x03000302);
 data_in_bv.set32(3,0x00020201);
 addr = 0x03ec2b5d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03030102000202);
 data_in_bv.set32(0,0x03000301);
 data_in_bv.set32(1,0x03010201);
 data_in_bv.set32(2,0x00030300);
 data_in_bv.set32(3,0x00010202);
 addr = 0x02929e23;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x030102fe,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc01000002030300);
 data_in_bv.set32(0,0x01030200);
 data_in_bv.set32(1,0x00030101);
 data_in_bv.set32(2,0x02000201);
 data_in_bv.set32(3,0x01030200);
 addr = 0x01faad25;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe02020001010000);
 data_in_bv.set32(0,0x02020002);
 data_in_bv.set32(1,0x02030102);
 data_in_bv.set32(2,0x01010303);
 data_in_bv.set32(3,0x02020302);
 addr = 0x03d4a7a8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02030003020102);
 data_in_bv.set32(0,0x03010203);
 data_in_bv.set32(1,0x00020302);
 data_in_bv.set32(2,0x00030201);
 data_in_bv.set32(3,0x02020000);
 addr = 0x03f57d01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01000300020103);
 data_in_bv.set32(0,0x02030000);
 data_in_bv.set32(1,0x00030301);
 data_in_bv.set32(2,0x02000000);
 data_in_bv.set32(3,0xfd020100);
 addr = 0x01dee08c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0201030101010303);
 data_in_bv.set32(0,0x02030303);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x00030200);
 data_in_bv.set32(3,0x02030103);
 addr = 0x01858b8f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe02010100010100);
 data_in_bv.set32(0,0x03030001);
 data_in_bv.set32(1,0x01030300);
 data_in_bv.set32(2,0x01020303);
 data_in_bv.set32(3,0x00010101);
 addr = 0x01c78c20;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd01000103030201);
 data_in_bv.set32(0,0x01030302);
 data_in_bv.set32(1,0x02010102);
 data_in_bv.set32(2,0x03000301);
 data_in_bv.set32(3,0xfe020300);
 addr = 0x01870de3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe03030300000000);
 data_in_bv.set32(0,0x03000201);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x03020201);
 data_in_bv.set32(3,0x03020000);
 addr = 0x00f1055a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00030301030301);
 data_in_bv.set32(0,0x00010103);
 data_in_bv.set32(1,0x03000302);
 data_in_bv.set32(2,0x01030303);
 data_in_bv.set32(3,0xfd010102);
 addr = 0x02dd65dc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0101020000020102);
 data_in_bv.set32(0,0x03010301);
 data_in_bv.set32(1,0x00030201);
 data_in_bv.set32(2,0x01030100);
 data_in_bv.set32(3,0x01000302);
 addr = 0x00b96008;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0301fd01,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01010102030102);
 data_in_bv.set32(0,0x00020102);
 data_in_bv.set32(1,0x01020203);
 data_in_bv.set32(2,0x01010303);
 data_in_bv.set32(3,0x03010102);
 addr = 0x01b1f278;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc03020201020203);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00010203);
 data_in_bv.set32(2,0x02020103);
 data_in_bv.set32(3,0xff010303);
 addr = 0x00d5688d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002ff02,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00020001010001);
 data_in_bv.set32(0,0x02010100);
 data_in_bv.set32(1,0x02030203);
 data_in_bv.set32(2,0x02030202);
 data_in_bv.set32(3,0xfc010100);
 addr = 0x02c9bb37;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02fe0203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd02030001020100);
 data_in_bv.set32(0,0x00010301);
 data_in_bv.set32(1,0x01020002);
 data_in_bv.set32(2,0x02020102);
 data_in_bv.set32(3,0xff030000);
 addr = 0x00fecde9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff03ff00,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02000201010203);
 data_in_bv.set32(0,0x03010002);
 data_in_bv.set32(1,0x02030300);
 data_in_bv.set32(2,0x03020302);
 data_in_bv.set32(3,0xfe020101);
 addr = 0x038a4c93;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302030302000200);
 data_in_bv.set32(0,0x02020201);
 data_in_bv.set32(1,0x00000300);
 data_in_bv.set32(2,0x02030101);
 data_in_bv.set32(3,0xfc010100);
 addr = 0x01abd3e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0001020301010201);
 data_in_bv.set32(0,0x00000103);
 data_in_bv.set32(1,0x01030102);
 data_in_bv.set32(2,0x01010300);
 data_in_bv.set32(3,0x03000203);
 addr = 0x008c1683;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000fe03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03010100020301);
 data_in_bv.set32(0,0x02000001);
 data_in_bv.set32(1,0x01010202);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0x01010000);
 addr = 0x00bcc4de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01030300030202);
 data_in_bv.set32(0,0x00010201);
 data_in_bv.set32(1,0x03000303);
 data_in_bv.set32(2,0x01000101);
 data_in_bv.set32(3,0xff020203);
 addr = 0x01f5eb03;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff02020002010200);
 data_in_bv.set32(0,0x03010003);
 data_in_bv.set32(1,0x00010200);
 data_in_bv.set32(2,0x03020003);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02e26b7d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02010300010303);
 data_in_bv.set32(0,0x02000102);
 data_in_bv.set32(1,0x01010102);
 data_in_bv.set32(2,0x01030102);
 data_in_bv.set32(3,0x01020101);
 addr = 0x029cbd4d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01037d02,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd01010201030202);
 data_in_bv.set32(0,0x03020301);
 data_in_bv.set32(1,0x03030102);
 data_in_bv.set32(2,0x01010201);
 data_in_bv.set32(3,0xfc020002);
 addr = 0x01e0fdfb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff02010002030203);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x01030002);
 data_in_bv.set32(2,0x03010103);
 data_in_bv.set32(3,0x00020303);
 addr = 0x028150fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x7d020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0200000102020302);
 data_in_bv.set32(0,0x00010101);
 data_in_bv.set32(1,0x03030201);
 data_in_bv.set32(2,0x03020102);
 data_in_bv.set32(3,0x01000103);
 addr = 0x00c8a147;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0302ff02,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02020102020302);
 data_in_bv.set32(0,0x03000301);
 data_in_bv.set32(1,0x02020202);
 data_in_bv.set32(2,0x03030302);
 data_in_bv.set32(3,0x02010300);
 addr = 0x01f5c7ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc03030200010003);
 data_in_bv.set32(0,0x01000103);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x02030100);
 data_in_bv.set32(3,0x03010303);
 addr = 0x01f1834b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe01020300030002);
 data_in_bv.set32(0,0x01000201);
 data_in_bv.set32(1,0x02030301);
 data_in_bv.set32(2,0x03030303);
 data_in_bv.set32(3,0xff010200);
 addr = 0x018cd3c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc00010203030303);
 data_in_bv.set32(0,0x03010200);
 data_in_bv.set32(1,0x03010200);
 data_in_bv.set32(2,0x00020303);
 data_in_bv.set32(3,0x00000102);
 addr = 0x00d61ea7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0301fd00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301030001020103);
 data_in_bv.set32(0,0x00030100);
 data_in_bv.set32(1,0x02030300);
 data_in_bv.set32(2,0x01030203);
 data_in_bv.set32(3,0xfd000300);
 addr = 0x02f35686;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003017d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0301010202020303);
 data_in_bv.set32(0,0x02000201);
 data_in_bv.set32(1,0x01010002);
 data_in_bv.set32(2,0x03000000);
 data_in_bv.set32(3,0xfd000100);
 addr = 0x02a6fec1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0300007d,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0201030300020200);
 data_in_bv.set32(0,0x00010302);
 data_in_bv.set32(1,0x02020100);
 data_in_bv.set32(2,0x03020003);
 data_in_bv.set32(3,0x02030101);
 addr = 0x03c68293;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102000300010003);
 data_in_bv.set32(0,0x00010302);
 data_in_bv.set32(1,0x02020100);
 data_in_bv.set32(2,0x03020003);
 data_in_bv.set32(3,0x02030101);
 addr = 0x00c682a7;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0202fe00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203010300030101);
 data_in_bv.set32(0,0x01000000);
 data_in_bv.set32(1,0x01030002);
 data_in_bv.set32(2,0x02030302);
 data_in_bv.set32(3,0x01030201);
 addr = 0x038a40ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300020200010100);
 data_in_bv.set32(0,0x03020002);
 data_in_bv.set32(1,0x02030302);
 data_in_bv.set32(2,0x03020202);
 data_in_bv.set32(3,0xfe000301);
 addr = 0x00e6a529;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0203ff02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03030103010301);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x03000001);
 data_in_bv.set32(2,0x01010301);
 data_in_bv.set32(3,0xfd000300);
 addr = 0x01b639ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0201010002030303);
 data_in_bv.set32(0,0x00030202);
 data_in_bv.set32(1,0x03020203);
 data_in_bv.set32(2,0x00030301);
 data_in_bv.set32(3,0x01010002);
 addr = 0x01d2fe1d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0101010100000002);
 data_in_bv.set32(0,0x03010100);
 data_in_bv.set32(1,0x02000301);
 data_in_bv.set32(2,0x02030201);
 data_in_bv.set32(3,0xfd000103);
 addr = 0x0395125d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302000003000302);
 data_in_bv.set32(0,0x01030101);
 data_in_bv.set32(1,0x00010201);
 data_in_bv.set32(2,0x03010100);
 data_in_bv.set32(3,0xfc030003);
 addr = 0x00ce8f7e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02030103020303);
 data_in_bv.set32(0,0x01030303);
 data_in_bv.set32(1,0x00020101);
 data_in_bv.set32(2,0x01030003);
 data_in_bv.set32(3,0x02030103);
 addr = 0x01cc6031;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd02000203010302);
 data_in_bv.set32(0,0x03030102);
 data_in_bv.set32(1,0x03000003);
 data_in_bv.set32(2,0x00010201);
 data_in_bv.set32(3,0x02020000);
 addr = 0x02d05613;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03fe0102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0302030201020101);
 data_in_bv.set32(0,0x03030002);
 data_in_bv.set32(1,0x03020203);
 data_in_bv.set32(2,0x02010300);
 data_in_bv.set32(3,0xfc030101);
 addr = 0x028245cf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0201fe00,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff00010001020302);
 data_in_bv.set32(0,0x03010203);
 data_in_bv.set32(1,0x02010101);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xfc020003);
 addr = 0x01878a08;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0303030000010302);
 data_in_bv.set32(0,0x03030101);
 data_in_bv.set32(1,0x02010201);
 data_in_bv.set32(2,0x00000300);
 data_in_bv.set32(3,0x00010100);
 addr = 0x02bb6539;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02020203010000);
 data_in_bv.set32(0,0x03020301);
 data_in_bv.set32(1,0x02010201);
 data_in_bv.set32(2,0x02010301);
 data_in_bv.set32(3,0xfc030003);
 addr = 0x0299edb8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0200030103000100);
 data_in_bv.set32(0,0x03520300);
 data_in_bv.set32(1,0x01030003);
 data_in_bv.set32(2,0x01030001);
 data_in_bv.set32(3,0xfe020002);
 addr = 0x02800026;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03520300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x010300fe,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0100020003030001);
 data_in_bv.set32(0,0x01000302);
 data_in_bv.set32(1,0x03010100);
 data_in_bv.set32(2,0x03030200);
 data_in_bv.set32(3,0x01020002);
 addr = 0x01ca5c0d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe03020200010300);
 data_in_bv.set32(0,0x01010100);
 data_in_bv.set32(1,0x01010202);
 data_in_bv.set32(2,0x00010202);
 data_in_bv.set32(3,0xfd000301);
 addr = 0x03e59364;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202010301000000);
 data_in_bv.set32(0,0x03030102);
 data_in_bv.set32(1,0x00030201);
 data_in_bv.set32(2,0x02010300);
 data_in_bv.set32(3,0x00020203);
 addr = 0x01cd8fb6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0100030101010103);
 data_in_bv.set32(0,0x01020302);
 data_in_bv.set32(1,0x01000001);
 data_in_bv.set32(2,0x01030301);
 data_in_bv.set32(3,0xfc030202);
 addr = 0x03f0bd6f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02000203030003);
 data_in_bv.set32(0,0x02010302);
 data_in_bv.set32(1,0x00020300);
 data_in_bv.set32(2,0x01030103);
 data_in_bv.set32(3,0x02010002);
 addr = 0x02da8d96;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x027d0302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc03030001020202);
 data_in_bv.set32(0,0x01020103);
 data_in_bv.set32(1,0x03010301);
 data_in_bv.set32(2,0x01030000);
 data_in_bv.set32(3,0x03010202);
 addr = 0x03a72ea1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03000103010101);
 data_in_bv.set32(0,0x02030002);
 data_in_bv.set32(1,0x01020203);
 data_in_bv.set32(2,0x00020202);
 data_in_bv.set32(3,0xfe000202);
 addr = 0x009fa1fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03000201010201);
 data_in_bv.set32(0,0x03010102);
 data_in_bv.set32(1,0x02020301);
 data_in_bv.set32(2,0x01020000);
 data_in_bv.set32(3,0x00020302);
 addr = 0x03c87c38;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02020000010102);
 data_in_bv.set32(0,0x02020102);
 data_in_bv.set32(1,0x02020000);
 data_in_bv.set32(2,0x03030301);
 data_in_bv.set32(3,0xfe000302);
 addr = 0x00f8a75a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfd030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00000001010203);
 data_in_bv.set32(0,0x03020202);
 data_in_bv.set32(1,0x03000202);
 data_in_bv.set32(2,0x00030202);
 data_in_bv.set32(3,0xfc000203);
 addr = 0x00db1f2c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0300fd02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001030101030301);
 data_in_bv.set32(0,0x01010001);
 data_in_bv.set32(1,0x03030200);
 data_in_bv.set32(2,0x01030202);
 data_in_bv.set32(3,0xff010003);
 addr = 0x02aa370a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0101ff01,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0201030103010200);
 data_in_bv.set32(0,0x02020103);
 data_in_bv.set32(1,0x00000303);
 data_in_bv.set32(2,0x00010200);
 data_in_bv.set32(3,0x01010303);
 addr = 0x02e759e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x010103fe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0000020101030300);
 data_in_bv.set32(0,0x02020301);
 data_in_bv.set32(1,0x02010301);
 data_in_bv.set32(2,0x03010103);
 data_in_bv.set32(3,0xfd000103);
 addr = 0x019bf99c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc03010103020102);
 data_in_bv.set32(0,0x02020301);
 data_in_bv.set32(1,0x02010301);
 data_in_bv.set32(2,0x03010103);
 data_in_bv.set32(3,0xfd000103);
 addr = 0x019bf9ea;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd02020102010101);
 data_in_bv.set32(0,0x00000303);
 data_in_bv.set32(1,0x00000202);
 data_in_bv.set32(2,0x01030203);
 data_in_bv.set32(3,0x00010302);
 addr = 0x00b788a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000ff02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100030302010200);
 data_in_bv.set32(0,0x02010101);
 data_in_bv.set32(1,0x02020103);
 data_in_bv.set32(2,0x00020302);
 data_in_bv.set32(3,0xfe020001);
 addr = 0x00a73df5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01030201010002);
 data_in_bv.set32(0,0x03020300);
 data_in_bv.set32(1,0x03000003);
 data_in_bv.set32(2,0x03030200);
 data_in_bv.set32(3,0xfd010301);
 addr = 0x01ddc36b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0002000000030201);
 data_in_bv.set32(0,0x02030202);
 data_in_bv.set32(1,0x02030302);
 data_in_bv.set32(2,0x01010200);
 data_in_bv.set32(3,0x00010000);
 addr = 0x02fb34c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x010102ff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0201020203000203);
 data_in_bv.set32(0,0x02020203);
 data_in_bv.set32(1,0x01000101);
 data_in_bv.set32(2,0x00010100);
 data_in_bv.set32(3,0xfd020103);
 addr = 0x00dc9e83;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0202fd03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01030101020200);
 data_in_bv.set32(0,0x01010302);
 data_in_bv.set32(1,0x02010300);
 data_in_bv.set32(2,0x02010302);
 data_in_bv.set32(3,0xfd000201);
 addr = 0x00da31a1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0201ff00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01010001010200);
 data_in_bv.set32(0,0x01020100);
 data_in_bv.set32(1,0x03010001);
 data_in_bv.set32(2,0x03020202);
 data_in_bv.set32(3,0xff020300);
 addr = 0x02ed0399;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0000000302010301);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x02030202);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfe030202);
 addr = 0x03b643e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002010100010200);
 data_in_bv.set32(0,0x01030202);
 data_in_bv.set32(1,0x00000100);
 data_in_bv.set32(2,0x01000303);
 data_in_bv.set32(3,0x00020203);
 addr = 0x00d250b6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000010100030002);
 data_in_bv.set32(0,0x02030201);
 data_in_bv.set32(1,0x00020100);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0x01010203);
 addr = 0x038ba77f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02030103030302);
 data_in_bv.set32(0,0x00030203);
 data_in_bv.set32(1,0x03030301);
 data_in_bv.set32(2,0x01000001);
 data_in_bv.set32(3,0x02020200);
 addr = 0x03a1f075;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000001010303);
 data_in_bv.set32(0,0x01010001);
 data_in_bv.set32(1,0x00020302);
 data_in_bv.set32(2,0x03000103);
 data_in_bv.set32(3,0xfe020000);
 addr = 0x02ab852c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00027f02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0103000003000200);
 data_in_bv.set32(0,0x03030003);
 data_in_bv.set32(1,0x03000300);
 data_in_bv.set32(2,0x01020303);
 data_in_bv.set32(3,0x01030000);
 addr = 0x03bb73bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03030202000102);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x03000101);
 data_in_bv.set32(3,0x02020003);
 addr = 0x02e9cda3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x000000fe,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0003010302000201);
 data_in_bv.set32(0,0x03030103);
 data_in_bv.set32(1,0x00030102);
 data_in_bv.set32(2,0x03000300);
 data_in_bv.set32(3,0xfc030002);
 addr = 0x03d2f44c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00010003030102);
 data_in_bv.set32(0,0x02030001);
 data_in_bv.set32(1,0x02000201);
 data_in_bv.set32(2,0x01010000);
 data_in_bv.set32(3,0x01030003);
 addr = 0x01bf6d18;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd01010002030200);
 data_in_bv.set32(0,0x02020003);
 data_in_bv.set32(1,0x03010101);
 data_in_bv.set32(2,0x00020201);
 data_in_bv.set32(3,0xfe030203);
 addr = 0x03f96884;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301030202000103);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x03010101);
 data_in_bv.set32(2,0x00030101);
 data_in_bv.set32(3,0xfc000000);
 addr = 0x00bafe27;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0301fe01,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000020201030003);
 data_in_bv.set32(0,0x03030201);
 data_in_bv.set32(1,0x00020303);
 data_in_bv.set32(2,0x00010300);
 data_in_bv.set32(3,0x02010100);
 addr = 0x00a6964d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fc00,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01000102030201);
 data_in_bv.set32(0,0x02020301);
 data_in_bv.set32(1,0x00000202);
 data_in_bv.set32(2,0x03000000);
 data_in_bv.set32(3,0x01000202);
 addr = 0x00a1c2c0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0300ff00,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00030100020100);
 data_in_bv.set32(0,0x03020000);
 data_in_bv.set32(1,0x02010301);
 data_in_bv.set32(2,0x00000101);
 data_in_bv.set32(3,0xfe000303);
 addr = 0x009cdf07;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0302ff00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302010201020302);
 data_in_bv.set32(0,0x01000302);
 data_in_bv.set32(1,0x03030201);
 data_in_bv.set32(2,0x03010200);
 data_in_bv.set32(3,0x03010102);
 addr = 0x00bdbfc7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0301fd00,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03010201020203);
 data_in_bv.set32(0,0x02000003);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfffd0102);
 addr = 0x02ad9d66;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffd017f,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe01000302030003);
 data_in_bv.set32(0,0x03000303);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x01010102);
 addr = 0x01908a92;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0303030203030200);
 data_in_bv.set32(0,0x02030001);
 data_in_bv.set32(1,0x01030201);
 data_in_bv.set32(2,0x01020103);
 data_in_bv.set32(3,0xfc000202);
 addr = 0x00926275;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301030103010101);
 data_in_bv.set32(0,0x01000203);
 data_in_bv.set32(1,0x03000202);
 data_in_bv.set32(2,0x00000203);
 data_in_bv.set32(3,0xfe020001);
 addr = 0x00e05697;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02010003000002);
 data_in_bv.set32(0,0x02030202);
 data_in_bv.set32(1,0x01000303);
 data_in_bv.set32(2,0x01000101);
 data_in_bv.set32(3,0x02010100);
 addr = 0x02ee4acd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0100fe01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0301000300010001);
 data_in_bv.set32(0,0x02020303);
 data_in_bv.set32(1,0x02000302);
 data_in_bv.set32(2,0x03000003);
 data_in_bv.set32(3,0x03020002);
 addr = 0x01842063;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0202030203020001);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x01020303);
 data_in_bv.set32(2,0x01010000);
 data_in_bv.set32(3,0xfc010100);
 addr = 0x00c69bfd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102030303030203);
 data_in_bv.set32(0,0x02000202);
 data_in_bv.set32(1,0x03010202);
 data_in_bv.set32(2,0x02000102);
 data_in_bv.set32(3,0xfc010303);
 addr = 0x03c72eac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01000202030001);
 data_in_bv.set32(0,0x01010002);
 data_in_bv.set32(1,0x02020300);
 data_in_bv.set32(2,0x01020001);
 data_in_bv.set32(3,0xff030203);
 addr = 0x00af1862;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff03ff03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303010302000101);
 data_in_bv.set32(0,0x03010302);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x00000302);
 data_in_bv.set32(3,0x00020303);
 addr = 0x03f1a31d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200010201020201);
 data_in_bv.set32(0,0x02010100);
 data_in_bv.set32(1,0x00030303);
 data_in_bv.set32(2,0x01020203);
 data_in_bv.set32(3,0x02020001);
 addr = 0x029e3c1c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd02030001030001);
 data_in_bv.set32(0,0x02010302);
 data_in_bv.set32(1,0x03000200);
 data_in_bv.set32(2,0x03010003);
 data_in_bv.set32(3,0x00030201);
 addr = 0x018e027d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe01020003010201);
 data_in_bv.set32(0,0x02010300);
 data_in_bv.set32(1,0x03010201);
 data_in_bv.set32(2,0x03030000);
 data_in_bv.set32(3,0x03000202);
 addr = 0x03b65e19;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01030003030100);
 data_in_bv.set32(0,0x00000300);
 data_in_bv.set32(1,0x00010102);
 data_in_bv.set32(2,0x03000002);
 data_in_bv.set32(3,0x00030202);
 addr = 0x038e3a9e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001010200010002);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x03020302);
 data_in_bv.set32(2,0x01000200);
 data_in_bv.set32(3,0xfc000201);
 addr = 0x03b6d3af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001020200000203);
 data_in_bv.set32(0,0x01010200);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x03020103);
 data_in_bv.set32(3,0xfe030200);
 addr = 0x03f22e79;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000001030102);
 data_in_bv.set32(0,0x01030300);
 data_in_bv.set32(1,0x00010303);
 data_in_bv.set32(2,0x00010203);
 data_in_bv.set32(3,0xff000000);
 addr = 0x03d5ce01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03030101020101);
 data_in_bv.set32(0,0x03020300);
 data_in_bv.set32(1,0x03010303);
 data_in_bv.set32(2,0x03000000);
 data_in_bv.set32(3,0xfc000301);
 addr = 0x00e4c0f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01020100010303);
 data_in_bv.set32(0,0x03000003);
 data_in_bv.set32(1,0x02030103);
 data_in_bv.set32(2,0x00020100);
 data_in_bv.set32(3,0xfd000300);
 addr = 0x008ab14a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002fe00,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300020003030102);
 data_in_bv.set32(0,0x00020000);
 data_in_bv.set32(1,0x03030102);
 data_in_bv.set32(2,0x01000002);
 data_in_bv.set32(3,0x03030202);
 addr = 0x03ea3317;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100010301030200);
 data_in_bv.set32(0,0x02010100);
 data_in_bv.set32(1,0x03030303);
 data_in_bv.set32(2,0x03030102);
 data_in_bv.set32(3,0xfc010100);
 addr = 0x03c235c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03020102010200);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x03030203);
 data_in_bv.set32(2,0x02030300);
 data_in_bv.set32(3,0x01000102);
 addr = 0x01faaa09;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc00030303020301);
 data_in_bv.set32(0,0x03030001);
 data_in_bv.set32(1,0x02030303);
 data_in_bv.set32(2,0x02030200);
 data_in_bv.set32(3,0xfe000101);
 addr = 0x03c43c2b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103000003010203);
 data_in_bv.set32(0,0x01030302);
 data_in_bv.set32(1,0x02030003);
 data_in_bv.set32(2,0x03030003);
 data_in_bv.set32(3,0x00000202);
 addr = 0x01902f98;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe00010302030302);
 data_in_bv.set32(0,0x03000301);
 data_in_bv.set32(1,0x02020202);
 data_in_bv.set32(2,0x01020200);
 data_in_bv.set32(3,0x01030003);
 addr = 0x02896657;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01ff0200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02010103020000);
 data_in_bv.set32(0,0x03020102);
 data_in_bv.set32(1,0x00020202);
 data_in_bv.set32(2,0x02010300);
 data_in_bv.set32(3,0x00020103);
 addr = 0x00bfe749;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0201ff00,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01010202000002);
 data_in_bv.set32(0,0x02000000);
 data_in_bv.set32(1,0x01000201);
 data_in_bv.set32(2,0x00020300);
 data_in_bv.set32(3,0x02030202);
 addr = 0x01a0b118;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0002030103030000);
 data_in_bv.set32(0,0x02020002);
 data_in_bv.set32(1,0x03000302);
 data_in_bv.set32(2,0x03010302);
 data_in_bv.set32(3,0xfd000100);
 addr = 0x02b4e9e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd0001ff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0203020303020200);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x03000103);
 data_in_bv.set32(2,0x01000101);
 data_in_bv.set32(3,0xff030101);
 addr = 0x00c84e22;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0300ff03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301010200000001);
 data_in_bv.set32(0,0x03020202);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x01030203);
 data_in_bv.set32(3,0xff010101);
 addr = 0x0186186b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd01030000010003);
 data_in_bv.set32(0,0x03020102);
 data_in_bv.set32(1,0x03030203);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfc020003);
 addr = 0x01ce5952;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff03030300010203);
 data_in_bv.set32(0,0x01010103);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x03030200);
 data_in_bv.set32(3,0x01020000);
 addr = 0x01cc1ca4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe01010001030002);
 data_in_bv.set32(0,0x01030300);
 data_in_bv.set32(1,0x02000102);
 data_in_bv.set32(2,0x02010002);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03848323;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00000203010103);
 data_in_bv.set32(0,0x02020200);
 data_in_bv.set32(1,0x02010302);
 data_in_bv.set32(2,0x01010200);
 data_in_bv.set32(3,0xff020300);
 addr = 0x00cb26ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff02fc00,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02030202010001);
 data_in_bv.set32(0,0x02020303);
 data_in_bv.set32(1,0x01010101);
 data_in_bv.set32(2,0x00010200);
 data_in_bv.set32(3,0x03030001);
 addr = 0x029dd195;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02ff0303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0202020001030302);
 data_in_bv.set32(0,0x02000302);
 data_in_bv.set32(1,0x01030202);
 data_in_bv.set32(2,0x00010303);
 data_in_bv.set32(3,0x03000000);
 addr = 0x02ff7464;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x030000ff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe00000203000001);
 data_in_bv.set32(0,0x00030300);
 data_in_bv.set32(1,0x02010300);
 data_in_bv.set32(2,0x01030103);
 data_in_bv.set32(3,0xff000201);
 addr = 0x02f434e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff0002fe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0303030201020000);
 data_in_bv.set32(0,0x03030002);
 data_in_bv.set32(1,0x00020303);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x03020201);
 addr = 0x03c7a403;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02030003020301);
 data_in_bv.set32(0,0x03000200);
 data_in_bv.set32(1,0x00010103);
 data_in_bv.set32(2,0x00010102);
 data_in_bv.set32(3,0x01030300);
 addr = 0x01cfa297;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0301020201020103);
 data_in_bv.set32(0,0x02010102);
 data_in_bv.set32(1,0x02000201);
 data_in_bv.set32(2,0x02030000);
 data_in_bv.set32(3,0x00000002);
 addr = 0x02f019e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000007f,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd01030003020302);
 data_in_bv.set32(0,0x03010103);
 data_in_bv.set32(1,0x02010102);
 data_in_bv.set32(2,0x02030201);
 data_in_bv.set32(3,0xff030002);
 addr = 0x02f72be8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff03ff02,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0002020102000102);
 data_in_bv.set32(0,0x03010103);
 data_in_bv.set32(1,0x02010102);
 data_in_bv.set32(2,0x02030201);
 data_in_bv.set32(3,0xff03ff02);
 addr = 0x03f72bb5;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff03ff02,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100010001000201);
 data_in_bv.set32(0,0x01000001);
 data_in_bv.set32(1,0x03010103);
 data_in_bv.set32(2,0x02010101);
 data_in_bv.set32(3,0xfc010302);
 addr = 0x03ab7fa9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00010000010300);
 data_in_bv.set32(0,0x01010100);
 data_in_bv.set32(1,0x01010202);
 data_in_bv.set32(2,0x02000003);
 data_in_bv.set32(3,0xfd000002);
 addr = 0x03c85f89;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202030002010302);
 data_in_bv.set32(0,0x02010200);
 data_in_bv.set32(1,0x02020102);
 data_in_bv.set32(2,0x01000201);
 data_in_bv.set32(3,0xfd000101);
 addr = 0x00b997e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd00ff01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03020001020302);
 data_in_bv.set32(0,0x03000101);
 data_in_bv.set32(1,0x00000201);
 data_in_bv.set32(2,0x01020102);
 data_in_bv.set32(3,0xfd000103);
 addr = 0x03c1a9ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02010103010201);
 data_in_bv.set32(0,0x03020200);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfc030302);
 addr = 0x029b1136;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fe0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe03020201020200);
 data_in_bv.set32(0,0x01020002);
 data_in_bv.set32(1,0x02010101);
 data_in_bv.set32(2,0x00030103);
 data_in_bv.set32(3,0x03030200);
 addr = 0x02824f18;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0100030103010300);
 data_in_bv.set32(0,0x01030001);
 data_in_bv.set32(1,0x03020303);
 data_in_bv.set32(2,0x02010102);
 data_in_bv.set32(3,0x03020302);
 addr = 0x00f8da91;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01010301000301);
 data_in_bv.set32(0,0xff030001);
 data_in_bv.set32(1,0x03020303);
 data_in_bv.set32(2,0x02010102);
 data_in_bv.set32(3,0x03020302);
 addr = 0x01f8dab2;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe02000000000300);
 data_in_bv.set32(0,0x00030100);
 data_in_bv.set32(1,0x01000000);
 data_in_bv.set32(2,0x02000202);
 data_in_bv.set32(3,0xfd000301);
 addr = 0x03ba8af6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02030303000001);
 data_in_bv.set32(0,0x01030100);
 data_in_bv.set32(1,0x01000001);
 data_in_bv.set32(2,0x00000202);
 data_in_bv.set32(3,0x01010203);
 addr = 0x03df4184;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01000103000001);
 data_in_bv.set32(0,0x00030202);
 data_in_bv.set32(1,0x00030103);
 data_in_bv.set32(2,0x01030203);
 data_in_bv.set32(3,0xfc020100);
 addr = 0x00e1055b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01030203030000);
 data_in_bv.set32(0,0x01000102);
 data_in_bv.set32(1,0x02010003);
 data_in_bv.set32(2,0x01020201);
 data_in_bv.set32(3,0xfe020000);
 addr = 0x02abb613;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01ff0102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0202010103000201);
 data_in_bv.set32(0,0x02030103);
 data_in_bv.set32(1,0x02020102);
 data_in_bv.set32(2,0x02000302);
 data_in_bv.set32(3,0xfc000003);
 addr = 0x03e0edc1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01000001030202);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010101);
 data_in_bv.set32(2,0x00020100);
 data_in_bv.set32(3,0x00010100);
 addr = 0x03f38e8a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02020200020001);
 data_in_bv.set32(0,0x02030203);
 data_in_bv.set32(1,0x01030200);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x01010102);
 addr = 0x01866911;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0002020201030203);
 data_in_bv.set32(0,0x00020303);
 data_in_bv.set32(1,0x02000303);
 data_in_bv.set32(2,0x02010301);
 data_in_bv.set32(3,0xff020201);
 addr = 0x03ed8a68;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00000002020303);
 data_in_bv.set32(0,0x01020202);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x03030000);
 data_in_bv.set32(3,0xfc000001);
 addr = 0x02dbafbc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x7d020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0100000203020101);
 data_in_bv.set32(0,0x02010200);
 data_in_bv.set32(1,0x02030000);
 data_in_bv.set32(2,0x01010300);
 data_in_bv.set32(3,0xff000301);
 addr = 0x03c4d8e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00020101030101);
 data_in_bv.set32(0,0x02000202);
 data_in_bv.set32(1,0x01020101);
 data_in_bv.set32(2,0x00000202);
 data_in_bv.set32(3,0x01020301);
 addr = 0x01b21a02;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0002030303010300);
 data_in_bv.set32(0,0x03010203);
 data_in_bv.set32(1,0x00020202);
 data_in_bv.set32(2,0x03000201);
 data_in_bv.set32(3,0x00020203);
 addr = 0x01aaafd8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc00000100020103);
 data_in_bv.set32(0,0x02030101);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x01000300);
 data_in_bv.set32(3,0xff020202);
 addr = 0x03c2cbca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103020200010303);
 data_in_bv.set32(0,0x00010102);
 data_in_bv.set32(1,0x01000101);
 data_in_bv.set32(2,0x01000302);
 data_in_bv.set32(3,0x02010203);
 addr = 0x01dd16dd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0100000101020300);
 data_in_bv.set32(0,0x00000303);
 data_in_bv.set32(1,0x02030202);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x00010301);
 addr = 0x02a9e4c3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000100fe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0302020000010103);
 data_in_bv.set32(0,0x03020103);
 data_in_bv.set32(1,0x02010101);
 data_in_bv.set32(2,0x00010202);
 data_in_bv.set32(3,0xfc020103);
 addr = 0x02b63020;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0201017d,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0301000203020202);
 data_in_bv.set32(0,0x03020002);
 data_in_bv.set32(1,0x03030002);
 data_in_bv.set32(2,0x01010200);
 data_in_bv.set32(3,0x03020001);
 addr = 0x00ba32ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0302ff01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01010000010103);
 data_in_bv.set32(0,0x02000101);
 data_in_bv.set32(1,0x01020102);
 data_in_bv.set32(2,0x02020303);
 data_in_bv.set32(3,0x03020203);
 addr = 0x028a6f36;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x017f0102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0201030003010000);
 data_in_bv.set32(0,0x02000101);
 data_in_bv.set32(1,0x017f0102);
 data_in_bv.set32(2,0x02020303);
 data_in_bv.set32(3,0x03020203);
 addr = 0x028a6f5f;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x017f0102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0000020200020001);
 data_in_bv.set32(0,0x00000302);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfd010101);
 addr = 0x02b6c401;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000003ff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0301030202000101);
 data_in_bv.set32(0,0x01030100);
 data_in_bv.set32(1,0x02030202);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfe000203);
 addr = 0x01d079a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe01010203000101);
 data_in_bv.set32(0,0x03000000);
 data_in_bv.set32(1,0x02030000);
 data_in_bv.set32(2,0x02000302);
 data_in_bv.set32(3,0xfd030202);
 addr = 0x00e48df6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103000103010100);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x02020200);
 data_in_bv.set32(2,0x02000302);
 data_in_bv.set32(3,0xfc010201);
 addr = 0x03b06e1d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000020000000201);
 data_in_bv.set32(0,0x02000103);
 data_in_bv.set32(1,0x00020303);
 data_in_bv.set32(2,0x00000303);
 data_in_bv.set32(3,0x03010003);
 addr = 0x01c30dad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc03020103000100);
 data_in_bv.set32(0,0x01030203);
 data_in_bv.set32(1,0x01000002);
 data_in_bv.set32(2,0x00010100);
 data_in_bv.set32(3,0xfc010101);
 addr = 0x01f53bf1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc03030002000002);
 data_in_bv.set32(0,0x01030203);
 data_in_bv.set32(1,0x03000000);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xff020101);
 addr = 0x01db8fec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd02000300020100);
 data_in_bv.set32(0,0x03010001);
 data_in_bv.set32(1,0x02030101);
 data_in_bv.set32(2,0x03010302);
 data_in_bv.set32(3,0xfc010102);
 addr = 0x01828ac3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe02010202000200);
 data_in_bv.set32(0,0x03000203);
 data_in_bv.set32(1,0x01020000);
 data_in_bv.set32(2,0x01010003);
 data_in_bv.set32(3,0x01030301);
 addr = 0x01e70c9a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0003030301010000);
 data_in_bv.set32(0,0x03000201);
 data_in_bv.set32(1,0x01020300);
 data_in_bv.set32(2,0x02030003);
 data_in_bv.set32(3,0xfe020300);
 addr = 0x01ed1d4a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0100000201000200);
 data_in_bv.set32(0,0x01020202);
 data_in_bv.set32(1,0x03030201);
 data_in_bv.set32(2,0x03010302);
 data_in_bv.set32(3,0x00030202);
 addr = 0x02d9a883;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x010202ff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0101020303000001);
 data_in_bv.set32(0,0x02030101);
 data_in_bv.set32(1,0x01030101);
 data_in_bv.set32(2,0x02000203);
 data_in_bv.set32(3,0x02010202);
 addr = 0x00cde63f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200000302000100);
 data_in_bv.set32(0,0x03020203);
 data_in_bv.set32(1,0x03010302);
 data_in_bv.set32(2,0x03030303);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00808467;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000ff02,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203030200020003);
 data_in_bv.set32(0,0x02000100);
 data_in_bv.set32(1,0x01020200);
 data_in_bv.set32(2,0x02020202);
 data_in_bv.set32(3,0x02000001);
 addr = 0x01871068;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0200010103020202);
 data_in_bv.set32(0,0x02000100);
 data_in_bv.set32(1,0x01020200);
 data_in_bv.set32(2,0x02020202);
 data_in_bv.set32(3,0x02000001);
 addr = 0x0087107f;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100030102000200);
 data_in_bv.set32(0,0x03010202);
 data_in_bv.set32(1,0x00000303);
 data_in_bv.set32(2,0x00010201);
 data_in_bv.set32(3,0x02010102);
 addr = 0x02de5629;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fe03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0301030002010001);
 data_in_bv.set32(0,0x00020201);
 data_in_bv.set32(1,0x00020203);
 data_in_bv.set32(2,0x01030202);
 data_in_bv.set32(3,0xff010300);
 addr = 0x0094eb31;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302020200020102);
 data_in_bv.set32(0,0x01010001);
 data_in_bv.set32(1,0x03010001);
 data_in_bv.set32(2,0x03030001);
 data_in_bv.set32(3,0x01020301);
 addr = 0x03ec74e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00030201020001);
 data_in_bv.set32(0,0x01010001);
 data_in_bv.set32(1,0x01000100);
 data_in_bv.set32(2,0x00010300);
 data_in_bv.set32(3,0xff010003);
 addr = 0x0195baa7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0003020102030302);
 data_in_bv.set32(0,0x00030302);
 data_in_bv.set32(1,0x01030102);
 data_in_bv.set32(2,0x01020300);
 data_in_bv.set32(3,0x03030102);
 addr = 0x01c35bd0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0203020001010200);
 data_in_bv.set32(0,0x00010100);
 data_in_bv.set32(1,0x03030200);
 data_in_bv.set32(2,0x03020201);
 data_in_bv.set32(3,0xfc000102);
 addr = 0x02c40361;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc0001ff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff03010100020003);
 data_in_bv.set32(0,0x01000203);
 data_in_bv.set32(1,0x00000103);
 data_in_bv.set32(2,0x00030201);
 data_in_bv.set32(3,0x00010201);
 addr = 0x00a7872f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fe03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000302020101);
 data_in_bv.set32(0,0x01000203);
 data_in_bv.set32(1,0x0000fe03);
 data_in_bv.set32(2,0x00030201);
 data_in_bv.set32(3,0x00010201);
 addr = 0x02a78731;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fffe03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd02010002000000);
 data_in_bv.set32(0,0x03010001);
 data_in_bv.set32(1,0x03010001);
 data_in_bv.set32(2,0x03030100);
 data_in_bv.set32(3,0x03030203);
 addr = 0x01a46ce7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0102030000010102);
 data_in_bv.set32(0,0x03030001);
 data_in_bv.set32(1,0x03030303);
 data_in_bv.set32(2,0x01030000);
 data_in_bv.set32(3,0xff000100);
 addr = 0x03dadd63;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301000302020300);
 data_in_bv.set32(0,0x01020000);
 data_in_bv.set32(1,0x01030201);
 data_in_bv.set32(2,0x03030001);
 data_in_bv.set32(3,0xfe000001);
 addr = 0x00a59a04;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0102ff00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01000201000302);
 data_in_bv.set32(0,0x00030202);
 data_in_bv.set32(1,0x00020103);
 data_in_bv.set32(2,0x01020002);
 data_in_bv.set32(3,0x01030101);
 addr = 0x03bf4352;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00000203000003);
 data_in_bv.set32(0,0x02020000);
 data_in_bv.set32(1,0x02000303);
 data_in_bv.set32(2,0x03010203);
 data_in_bv.set32(3,0x01010202);
 addr = 0x02fc4519;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x7f020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0301000302030000);
 data_in_bv.set32(0,0x03010100);
 data_in_bv.set32(1,0x02020202);
 data_in_bv.set32(2,0x03030303);
 data_in_bv.set32(3,0xfe000200);
 addr = 0x01d611dc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc02010003020003);
 data_in_bv.set32(0,0x02010201);
 data_in_bv.set32(1,0x00000103);
 data_in_bv.set32(2,0x01030003);
 data_in_bv.set32(3,0xfc030301);
 addr = 0x02d4f89e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x7f010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02000300000101);
 data_in_bv.set32(0,0x03020302);
 data_in_bv.set32(1,0x01020202);
 data_in_bv.set32(2,0x02020100);
 data_in_bv.set32(3,0x01010300);
 addr = 0x03b4351c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02010300010300);
 data_in_bv.set32(0,0x00030303);
 data_in_bv.set32(1,0x03020302);
 data_in_bv.set32(2,0x03020003);
 data_in_bv.set32(3,0xfc010300);
 addr = 0x01f5f1f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0202020302030001);
 data_in_bv.set32(0,0x00000101);
 data_in_bv.set32(1,0x03020101);
 data_in_bv.set32(2,0x01010003);
 data_in_bv.set32(3,0xfc000303);
 addr = 0x02f60f1c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0301010002020103);
 data_in_bv.set32(0,0x02020003);
 data_in_bv.set32(1,0x01010100);
 data_in_bv.set32(2,0x02010303);
 data_in_bv.set32(3,0x02000001);
 addr = 0x0194de9a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0003010200030303);
 data_in_bv.set32(0,0x02020001);
 data_in_bv.set32(1,0x00010201);
 data_in_bv.set32(2,0x02020303);
 data_in_bv.set32(3,0xff020000);
 addr = 0x03c14c04;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00020002000103);
 data_in_bv.set32(0,0x02000003);
 data_in_bv.set32(1,0x02000102);
 data_in_bv.set32(2,0x03010003);
 data_in_bv.set32(3,0x00010002);
 addr = 0x03b59916;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03010100020203);
 data_in_bv.set32(0,0x02010100);
 data_in_bv.set32(1,0x01020001);
 data_in_bv.set32(2,0x03030002);
 data_in_bv.set32(3,0x03000002);
 addr = 0x02c9fb6e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03007d02,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff02010302000100);
 data_in_bv.set32(0,0x00020201);
 data_in_bv.set32(1,0x01030100);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfc020100);
 addr = 0x00b7d569;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc02ff00,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00030002010202);
 data_in_bv.set32(0,0x02000300);
 data_in_bv.set32(1,0x03020103);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x01000103);
 addr = 0x03c886a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01000200000201);
 data_in_bv.set32(0,0x03030303);
 data_in_bv.set32(1,0x01020103);
 data_in_bv.set32(2,0x03030001);
 data_in_bv.set32(3,0x01010001);
 addr = 0x03dfd277;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201030101000100);
 data_in_bv.set32(0,0x00030301);
 data_in_bv.set32(1,0x01000102);
 data_in_bv.set32(2,0x01020102);
 data_in_bv.set32(3,0x03030102);
 addr = 0x02ca02e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x030301ff,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0200010101020301);
 data_in_bv.set32(0,0x01010002);
 data_in_bv.set32(1,0x02020001);
 data_in_bv.set32(2,0x00010103);
 data_in_bv.set32(3,0xfe000302);
 addr = 0x019be334;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0101030300000101);
 data_in_bv.set32(0,0x01010002);
 data_in_bv.set32(1,0x02020001);
 data_in_bv.set32(2,0x00010103);
 data_in_bv.set32(3,0xfe000302);
 addr = 0x009be345;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fe03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201030201030001);
 data_in_bv.set32(0,0x03000003);
 data_in_bv.set32(1,0x02010303);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x03000001);
 addr = 0x01bf4c53;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc00010001030102);
 data_in_bv.set32(0,0x00010202);
 data_in_bv.set32(1,0x00020202);
 data_in_bv.set32(2,0x03020201);
 data_in_bv.set32(3,0x00020003);
 addr = 0x01ae7fb8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe01030001010102);
 data_in_bv.set32(0,0x03030000);
 data_in_bv.set32(1,0x01000003);
 data_in_bv.set32(2,0x02030201);
 data_in_bv.set32(3,0x00020202);
 addr = 0x01b9c5e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd01030200030303);
 data_in_bv.set32(0,0x01000301);
 data_in_bv.set32(1,0x00010103);
 data_in_bv.set32(2,0x01000003);
 data_in_bv.set32(3,0x00010002);
 addr = 0x00d2131d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02000100010001);
 data_in_bv.set32(0,0x02030302);
 data_in_bv.set32(1,0x02020000);
 data_in_bv.set32(2,0x00030300);
 data_in_bv.set32(3,0xfd030300);
 addr = 0x00c86aab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0202ff00,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03000300030200);
 data_in_bv.set32(0,0x00010202);
 data_in_bv.set32(1,0x03000202);
 data_in_bv.set32(2,0x01030302);
 data_in_bv.set32(3,0x02020203);
 addr = 0x0380bb36;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03020302020202);
 data_in_bv.set32(0,0x02030300);
 data_in_bv.set32(1,0x00000302);
 data_in_bv.set32(2,0x02030003);
 data_in_bv.set32(3,0x01010302);
 addr = 0x02b18f9e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd01020201030100);
 data_in_bv.set32(0,0x00030100);
 data_in_bv.set32(1,0x03000203);
 data_in_bv.set32(2,0x01020302);
 data_in_bv.set32(3,0xfe030201);
 addr = 0x02e7a1a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0300ff03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0101020001020103);
 data_in_bv.set32(0,0x03010201);
 data_in_bv.set32(1,0x01010300);
 data_in_bv.set32(2,0x01020202);
 data_in_bv.set32(3,0xfe030200);
 addr = 0x00f3bc6b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe03fd00,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01010301030101);
 data_in_bv.set32(0,0x02010001);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x03000100);
 data_in_bv.set32(3,0xfd020000);
 addr = 0x01850e87;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc02020100010303);
 data_in_bv.set32(0,0x02030300);
 data_in_bv.set32(1,0x02020102);
 data_in_bv.set32(2,0x03000003);
 data_in_bv.set32(3,0xfd030101);
 addr = 0x01914b31;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0201000100030302);
 data_in_bv.set32(0,0x00010301);
 data_in_bv.set32(1,0x02020303);
 data_in_bv.set32(2,0x01010003);
 data_in_bv.set32(3,0xfd010001);
 addr = 0x02eaa2e9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd01ff01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd00000000030100);
 data_in_bv.set32(0,0x03010203);
 data_in_bv.set32(1,0x03000302);
 data_in_bv.set32(2,0x00020301);
 data_in_bv.set32(3,0x00020002);
 addr = 0x03ce3d2e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102010300020302);
 data_in_bv.set32(0,0x03010101);
 data_in_bv.set32(1,0x00030102);
 data_in_bv.set32(2,0x00020200);
 data_in_bv.set32(3,0x03020103);
 addr = 0x038b8018;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201020103020102);
 data_in_bv.set32(0,0x01020202);
 data_in_bv.set32(1,0x00020303);
 data_in_bv.set32(2,0x02030002);
 data_in_bv.set32(3,0x02030100);
 addr = 0x00db9f64;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0203ff00,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00000200020000);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x02020003);
 data_in_bv.set32(3,0x02010201);
 addr = 0x01d8e89f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0002020003010001);
 data_in_bv.set32(0,0x01020203);
 data_in_bv.set32(1,0x00010101);
 data_in_bv.set32(2,0x00010303);
 data_in_bv.set32(3,0xfd030302);
 addr = 0x01bb609e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0203030002030100);
 data_in_bv.set32(0,0x02020200);
 data_in_bv.set32(1,0x00010203);
 data_in_bv.set32(2,0x03020001);
 data_in_bv.set32(3,0x03000300);
 addr = 0x02c597b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fe0203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff00030203000103);
 data_in_bv.set32(0,0x00030203);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x02010000);
 data_in_bv.set32(3,0x03010001);
 addr = 0x02f34357;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x027d0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0303000202020202);
 data_in_bv.set32(0,0x02010001);
 data_in_bv.set32(1,0x02000302);
 data_in_bv.set32(2,0x00000303);
 data_in_bv.set32(3,0xfd010200);
 addr = 0x01cffa78;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd00000203020202);
 data_in_bv.set32(0,0x01000002);
 data_in_bv.set32(1,0x01030201);
 data_in_bv.set32(2,0x03020002);
 data_in_bv.set32(3,0xfc020002);
 addr = 0x00921630;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000030002020201);
 data_in_bv.set32(0,0x01020200);
 data_in_bv.set32(1,0x00030100);
 data_in_bv.set32(2,0x03000303);
 data_in_bv.set32(3,0xff020302);
 addr = 0x02a7e9f1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0101020301000203);
 data_in_bv.set32(0,0x03000000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x02020302);
 data_in_bv.set32(3,0xfc010003);
 addr = 0x00a06424;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001ff02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302010100000103);
 data_in_bv.set32(0,0x01030200);
 data_in_bv.set32(1,0x01030102);
 data_in_bv.set32(2,0x01030302);
 data_in_bv.set32(3,0xfc000300);
 addr = 0x02d865a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0103017f,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff01000300030200);
 data_in_bv.set32(0,0x02020101);
 data_in_bv.set32(1,0x03030102);
 data_in_bv.set32(2,0x03010202);
 data_in_bv.set32(3,0xfe030100);
 addr = 0x02c252d9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0200030302030100);
 data_in_bv.set32(0,0x01000100);
 data_in_bv.set32(1,0x00010102);
 data_in_bv.set32(2,0x02020200);
 data_in_bv.set32(3,0x01020001);
 addr = 0x0298c070;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01ff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0001000102010101);
 data_in_bv.set32(0,0x03030101);
 data_in_bv.set32(1,0x03010303);
 data_in_bv.set32(2,0x03010203);
 data_in_bv.set32(3,0x00030300);
 addr = 0x03d344d6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02020302030002);
 data_in_bv.set32(0,0x00020100);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x03020300);
 data_in_bv.set32(3,0xfc010102);
 addr = 0x02b5d9d4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03ff0300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02020100020100);
 data_in_bv.set32(0,0x00020100);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x03ff0300);
 data_in_bv.set32(3,0xfc010102);
 addr = 0x02b5d9ef;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03ff0300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc01fe02,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe03020303030302);
 data_in_bv.set32(0,0x02010100);
 data_in_bv.set32(1,0x03020001);
 data_in_bv.set32(2,0x01030001);
 data_in_bv.set32(3,0x01020303);
 addr = 0x01b4a4e9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff00000103010202);
 data_in_bv.set32(0,0x03000101);
 data_in_bv.set32(1,0x02020003);
 data_in_bv.set32(2,0x02010302);
 data_in_bv.set32(3,0x02030001);
 addr = 0x00e7159a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfd000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00020301030300);
 data_in_bv.set32(0,0x03000201);
 data_in_bv.set32(1,0x02030103);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x03000200);
 addr = 0x03f1ae72;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201000301020202);
 data_in_bv.set32(0,0x03010103);
 data_in_bv.set32(1,0x01020101);
 data_in_bv.set32(2,0x02010303);
 data_in_bv.set32(3,0x00030302);
 addr = 0x02cf2a7c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff02010002030103);
 data_in_bv.set32(0,0x03020301);
 data_in_bv.set32(1,0x03020203);
 data_in_bv.set32(2,0x02020002);
 data_in_bv.set32(3,0x00000301);
 addr = 0x02e77959;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x7f020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff01020303010001);
 data_in_bv.set32(0,0x03010300);
 data_in_bv.set32(1,0x01010002);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0x03010303);
 addr = 0x01df8916;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0101020200020003);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x00000102);
 data_in_bv.set32(2,0x00000303);
 data_in_bv.set32(3,0x01030103);
 addr = 0x03847be8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202000200010300);
 data_in_bv.set32(0,0x02000303);
 data_in_bv.set32(1,0x01020002);
 data_in_bv.set32(2,0x01010000);
 data_in_bv.set32(3,0x03030302);
 addr = 0x03b9c5e8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02010102000201);
 data_in_bv.set32(0,0x00000203);
 data_in_bv.set32(1,0x03000300);
 data_in_bv.set32(2,0x00010100);
 data_in_bv.set32(3,0xfc020102);
 addr = 0x02ac450c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000ff03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc03000200030302);
 data_in_bv.set32(0,0x01010300);
 data_in_bv.set32(1,0x00000201);
 data_in_bv.set32(2,0x02030301);
 data_in_bv.set32(3,0xfe020303);
 addr = 0x0297f6a8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000ff01,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0000010302020002);
 data_in_bv.set32(0,0x01010203);
 data_in_bv.set32(1,0x02010100);
 data_in_bv.set32(2,0x01020003);
 data_in_bv.set32(3,0xff020002);
 addr = 0x00b8db6f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff02ff02,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00030203030103);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00030302);
 data_in_bv.set32(2,0x02030201);
 data_in_bv.set32(3,0x00030003);
 addr = 0x02db1619;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x7d000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0201020303030301);
 data_in_bv.set32(0,0x03010302);
 data_in_bv.set32(1,0x00010303);
 data_in_bv.set32(2,0x02010000);
 data_in_bv.set32(3,0xfd010103);
 addr = 0x00d7a479;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103000203020100);
 data_in_bv.set32(0,0x02020301);
 data_in_bv.set32(1,0x01020103);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00010100);
 addr = 0x02bda2c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000200fe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0201030203020001);
 data_in_bv.set32(0,0x00020100);
 data_in_bv.set32(1,0x00020103);
 data_in_bv.set32(2,0x02020203);
 data_in_bv.set32(3,0xfc030302);
 addr = 0x03d3d6f2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00020002000201);
 data_in_bv.set32(0,0x03020200);
 data_in_bv.set32(1,0x02030100);
 data_in_bv.set32(2,0x02030201);
 data_in_bv.set32(3,0xfd030001);
 addr = 0x03c7b5a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000102010202);
 data_in_bv.set32(0,0x01030003);
 data_in_bv.set32(1,0x03030200);
 data_in_bv.set32(2,0x02010003);
 data_in_bv.set32(3,0xff010000);
 addr = 0x03e38165;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02020301000302);
 data_in_bv.set32(0,0x00000103);
 data_in_bv.set32(1,0x00020102);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0xff010300);
 addr = 0x018f08e8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0101000203010000);
 data_in_bv.set32(0,0x01020102);
 data_in_bv.set32(1,0x01010100);
 data_in_bv.set32(2,0x03030002);
 data_in_bv.set32(3,0xff000302);
 addr = 0x03ec234a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200010100010301);
 data_in_bv.set32(0,0x01000103);
 data_in_bv.set32(1,0x02000303);
 data_in_bv.set32(2,0x00000303);
 data_in_bv.set32(3,0xfe000303);
 addr = 0x00ba4001;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0100fe03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000200000301);
 data_in_bv.set32(0,0x01010200);
 data_in_bv.set32(1,0x01000301);
 data_in_bv.set32(2,0x03030301);
 data_in_bv.set32(3,0x03030001);
 addr = 0x0288b171;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03fe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02030101010200);
 data_in_bv.set32(0,0x02000303);
 data_in_bv.set32(1,0x01010102);
 data_in_bv.set32(2,0x02010300);
 data_in_bv.set32(3,0x03030301);
 addr = 0x01f9b852;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff03010300030302);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x03030001);
 data_in_bv.set32(2,0x02030100);
 data_in_bv.set32(3,0x01000002);
 addr = 0x02f5155e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0301000201010001);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x01020003);
 data_in_bv.set32(2,0x02020001);
 data_in_bv.set32(3,0x02020303);
 addr = 0x02c5bb50;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02ff0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0202020001010100);
 data_in_bv.set32(0,0x03030100);
 data_in_bv.set32(1,0x02000200);
 data_in_bv.set32(2,0x01010300);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03f88267;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02020003000301);
 data_in_bv.set32(0,0x00020203);
 data_in_bv.set32(1,0x00000100);
 data_in_bv.set32(2,0x00000200);
 data_in_bv.set32(3,0x02020201);
 addr = 0x01d1252a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0203000102000300);
 data_in_bv.set32(0,0x00020100);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x01020302);
 data_in_bv.set32(3,0xfe030103);
 addr = 0x03845270;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03020300000103);
 data_in_bv.set32(0,0x03010202);
 data_in_bv.set32(1,0x02030203);
 data_in_bv.set32(2,0x03000201);
 data_in_bv.set32(3,0xfc010102);
 addr = 0x02fa95a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0203027f,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc01000101010300);
 data_in_bv.set32(0,0x00000303);
 data_in_bv.set32(1,0x02020301);
 data_in_bv.set32(2,0x01030200);
 data_in_bv.set32(3,0xfe020002);
 addr = 0x00c57ef3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03020003020103);
 data_in_bv.set32(0,0x00000202);
 data_in_bv.set32(1,0x03020202);
 data_in_bv.set32(2,0x00010100);
 data_in_bv.set32(3,0x02000103);
 addr = 0x03820f3e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101020101020000);
 data_in_bv.set32(0,0x00000202);
 data_in_bv.set32(1,0x02020101);
 data_in_bv.set32(2,0x01000200);
 data_in_bv.set32(3,0xfc020302);
 addr = 0x02a57bbb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0002010201000101);
 data_in_bv.set32(0,0x02020002);
 data_in_bv.set32(1,0x03010302);
 data_in_bv.set32(2,0x02000303);
 data_in_bv.set32(3,0x03010003);
 addr = 0x01ff5df0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0300020000000002);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x03000103);
 data_in_bv.set32(2,0x01000001);
 data_in_bv.set32(3,0xfc030100);
 addr = 0x00ade0b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfd000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02000300020302);
 data_in_bv.set32(0,0x01020203);
 data_in_bv.set32(1,0x02030001);
 data_in_bv.set32(2,0x03000000);
 data_in_bv.set32(3,0xfc000002);
 addr = 0x02a706fd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0100000002020202);
 data_in_bv.set32(0,0x01020002);
 data_in_bv.set32(1,0x01000101);
 data_in_bv.set32(2,0x00030102);
 data_in_bv.set32(3,0xfc000001);
 addr = 0x02a7e90e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0102ff02,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0102000201010202);
 data_in_bv.set32(0,0x00000300);
 data_in_bv.set32(1,0x01000200);
 data_in_bv.set32(2,0x02000100);
 data_in_bv.set32(3,0xfd010201);
 addr = 0x03cea0b1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003010303010001);
 data_in_bv.set32(0,0x01010202);
 data_in_bv.set32(1,0x01010202);
 data_in_bv.set32(2,0x00010201);
 data_in_bv.set32(3,0x01020300);
 addr = 0x00b188ad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0101ff02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03000003000202);
 data_in_bv.set32(0,0x00000302);
 data_in_bv.set32(1,0x03000103);
 data_in_bv.set32(2,0x02030101);
 data_in_bv.set32(3,0xfe010003);
 addr = 0x008c4877;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00010000020203);
 data_in_bv.set32(0,0x02010202);
 data_in_bv.set32(1,0x02020303);
 data_in_bv.set32(2,0x03000201);
 data_in_bv.set32(3,0x03010101);
 addr = 0x03dea95e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300010000010001);
 data_in_bv.set32(0,0x02020002);
 data_in_bv.set32(1,0x02030203);
 data_in_bv.set32(2,0x00000101);
 data_in_bv.set32(3,0x02010002);
 addr = 0x03ef589a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02000003010002);
 data_in_bv.set32(0,0x02030003);
 data_in_bv.set32(1,0x03000200);
 data_in_bv.set32(2,0x03030201);
 data_in_bv.set32(3,0xfe010301);
 addr = 0x00c8fabf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfd000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01030302000203);
 data_in_bv.set32(0,0x01000300);
 data_in_bv.set32(1,0x01000201);
 data_in_bv.set32(2,0x03020203);
 data_in_bv.set32(3,0x00020201);
 addr = 0x00bc254e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0302fd03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000030302020303);
 data_in_bv.set32(0,0x01020103);
 data_in_bv.set32(1,0x03010300);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfd010003);
 addr = 0x00fad153;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000020103000002);
 data_in_bv.set32(0,0x01000203);
 data_in_bv.set32(1,0x03020202);
 data_in_bv.set32(2,0x00010300);
 data_in_bv.set32(3,0xff020201);
 addr = 0x01cdfb85;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0300000301020202);
 data_in_bv.set32(0,0x00010203);
 data_in_bv.set32(1,0x02010003);
 data_in_bv.set32(2,0x03000101);
 data_in_bv.set32(3,0xfd000203);
 addr = 0x039e9367;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203000200030303);
 data_in_bv.set32(0,0x03030003);
 data_in_bv.set32(1,0x02030301);
 data_in_bv.set32(2,0x02030003);
 data_in_bv.set32(3,0x01000001);
 addr = 0x03e35cbd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000010000020200);
 data_in_bv.set32(0,0x01000301);
 data_in_bv.set32(1,0x03010200);
 data_in_bv.set32(2,0x03000200);
 data_in_bv.set32(3,0xfe020202);
 addr = 0x038bdba6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200030001000001);
 data_in_bv.set32(0,0x02000103);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x02000302);
 data_in_bv.set32(3,0xfd030201);
 addr = 0x03f73a0c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301030200030201);
 data_in_bv.set32(0,0x02010300);
 data_in_bv.set32(1,0x01020100);
 data_in_bv.set32(2,0x01000002);
 data_in_bv.set32(3,0xfe030101);
 addr = 0x03d7a5ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000000000003);
 data_in_bv.set32(0,0x01030101);
 data_in_bv.set32(1,0x03000300);
 data_in_bv.set32(2,0x02000100);
 data_in_bv.set32(3,0xff000202);
 addr = 0x03f2cfab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000010103030001);
 data_in_bv.set32(0,0x00000103);
 data_in_bv.set32(1,0x02000201);
 data_in_bv.set32(2,0x02030301);
 data_in_bv.set32(3,0xfc010100);
 addr = 0x02a1a0d4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02fe0301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfffd020200000100);
 data_in_bv.set32(0,0x02020301);
 data_in_bv.set32(1,0x03030003);
 data_in_bv.set32(2,0x00000100);
 data_in_bv.set32(3,0x02020102);
 addr = 0x02afb1d6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00ff0100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0300030103010102);
 data_in_bv.set32(0,0x02010003);
 data_in_bv.set32(1,0x02000100);
 data_in_bv.set32(2,0x03010002);
 data_in_bv.set32(3,0x01020202);
 addr = 0x00fb90b5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfd000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102000003000201);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x01030301);
 data_in_bv.set32(2,0x01030100);
 data_in_bv.set32(3,0xfe000101);
 addr = 0x00854357;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000010102030200);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x01010300);
 data_in_bv.set32(2,0x03020200);
 data_in_bv.set32(3,0xfe000101);
 addr = 0x02c40095;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fe0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0102030001010203);
 data_in_bv.set32(0,0x01030002);
 data_in_bv.set32(1,0x00020203);
 data_in_bv.set32(2,0x01010300);
 data_in_bv.set32(3,0x01000000);
 addr = 0x01cc8724;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc00010001000002);
 data_in_bv.set32(0,0x03020201);
 data_in_bv.set32(1,0x03030202);
 data_in_bv.set32(2,0x02000200);
 data_in_bv.set32(3,0x01020100);
 addr = 0x03bac67c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100000302000302);
 data_in_bv.set32(0,0x01000001);
 data_in_bv.set32(1,0x03000001);
 data_in_bv.set32(2,0x02000202);
 data_in_bv.set32(3,0xfe020302);
 addr = 0x03dfc353;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03000101000302);
 data_in_bv.set32(0,0x02020103);
 data_in_bv.set32(1,0x02030202);
 data_in_bv.set32(2,0x03020001);
 data_in_bv.set32(3,0x03010100);
 addr = 0x03d9b293;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101020201000202);
 data_in_bv.set32(0,0x02000203);
 data_in_bv.set32(1,0x01000201);
 data_in_bv.set32(2,0x02000203);
 data_in_bv.set32(3,0x02010300);
 addr = 0x01e0a1d0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe02020001000103);
 data_in_bv.set32(0,0x02030102);
 data_in_bv.set32(1,0x00020203);
 data_in_bv.set32(2,0x02020303);
 data_in_bv.set32(3,0x00020001);
 addr = 0x00a72573;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00000002020102);
 data_in_bv.set32(0,0x03000302);
 data_in_bv.set32(1,0x03020002);
 data_in_bv.set32(2,0x00030201);
 data_in_bv.set32(3,0xff000303);
 addr = 0x03e20d78;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01020000030200);
 data_in_bv.set32(0,0x02020002);
 data_in_bv.set32(1,0x02010003);
 data_in_bv.set32(2,0x00010201);
 data_in_bv.set32(3,0x03000101);
 addr = 0x009628de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02030001020201);
 data_in_bv.set32(0,0x01010002);
 data_in_bv.set32(1,0x03000101);
 data_in_bv.set32(2,0x00030202);
 data_in_bv.set32(3,0xfd010100);
 addr = 0x039ab291;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302020100010002);
 data_in_bv.set32(0,0x02000103);
 data_in_bv.set32(1,0x02000002);
 data_in_bv.set32(2,0x01020301);
 data_in_bv.set32(3,0x01010003);
 addr = 0x018aa265;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0302020002020102);
 data_in_bv.set32(0,0x01010102);
 data_in_bv.set32(1,0x02000100);
 data_in_bv.set32(2,0x02020102);
 data_in_bv.set32(3,0xff010002);
 addr = 0x00bb2ed8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfd020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02030000020002);
 data_in_bv.set32(0,0x03000201);
 data_in_bv.set32(1,0x00010101);
 data_in_bv.set32(2,0x01020203);
 data_in_bv.set32(3,0xfc030001);
 addr = 0x02dbd149;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0102ff03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0201000201020302);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x01030202);
 data_in_bv.set32(2,0x00020202);
 data_in_bv.set32(3,0x01010103);
 addr = 0x02b02efc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0002000202030302);
 data_in_bv.set32(0,0x01030103);
 data_in_bv.set32(1,0x03020303);
 data_in_bv.set32(2,0x01020100);
 data_in_bv.set32(3,0x01020102);
 addr = 0x01de3ce4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0203010100020100);
 data_in_bv.set32(0,0x02010003);
 data_in_bv.set32(1,0x02010102);
 data_in_bv.set32(2,0x02010302);
 data_in_bv.set32(3,0x00000301);
 addr = 0x02de08a5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x020101ff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc01000200010200);
 data_in_bv.set32(0,0x01000302);
 data_in_bv.set32(1,0x01010201);
 data_in_bv.set32(2,0x00000102);
 data_in_bv.set32(3,0xff000001);
 addr = 0x02a49675;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0002000300020201);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x01000000);
 data_in_bv.set32(2,0x01030301);
 data_in_bv.set32(3,0x03010001);
 addr = 0x01c23f3b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe00010001010100);
 data_in_bv.set32(0,0x01010203);
 data_in_bv.set32(1,0x03010303);
 data_in_bv.set32(2,0x00010202);
 data_in_bv.set32(3,0xfe010203);
 addr = 0x03a061ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203000303000103);
 data_in_bv.set32(0,0x01030103);
 data_in_bv.set32(1,0x00000100);
 data_in_bv.set32(2,0x03030003);
 data_in_bv.set32(3,0xfe000200);
 addr = 0x01cfd41e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0302010001010102);
 data_in_bv.set32(0,0x00030201);
 data_in_bv.set32(1,0x01010303);
 data_in_bv.set32(2,0x02020203);
 data_in_bv.set32(3,0x01030303);
 addr = 0x00e385aa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0101fd03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100020203000201);
 data_in_bv.set32(0,0x03000001);
 data_in_bv.set32(1,0x00010100);
 data_in_bv.set32(2,0x02010200);
 data_in_bv.set32(3,0x01000001);
 addr = 0x01937b14;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0203000200000303);
 data_in_bv.set32(0,0x03020202);
 data_in_bv.set32(1,0x00000100);
 data_in_bv.set32(2,0x01020301);
 data_in_bv.set32(3,0x01020200);
 addr = 0x01b4c245;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff03020103030301);
 data_in_bv.set32(0,0x03010300);
 data_in_bv.set32(1,0x00000102);
 data_in_bv.set32(2,0x00010300);
 data_in_bv.set32(3,0xff030300);
 addr = 0x019d21d4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc03030202020201);
 data_in_bv.set32(0,0x03010300);
 data_in_bv.set32(1,0x00000102);
 data_in_bv.set32(2,0x00010300);
 data_in_bv.set32(3,0xff030300);
 addr = 0x029d21ec;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff03fe00,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff01030001020201);
 data_in_bv.set32(0,0x02000002);
 data_in_bv.set32(1,0x03020202);
 data_in_bv.set32(2,0x00020303);
 data_in_bv.set32(3,0x02010102);
 addr = 0x02e1bf22;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x030202ff,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe01010001000200);
 data_in_bv.set32(0,0x00030102);
 data_in_bv.set32(1,0x03010100);
 data_in_bv.set32(2,0x03000203);
 data_in_bv.set32(3,0xfc030300);
 addr = 0x01b3048d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd02010000020302);
 data_in_bv.set32(0,0x03000102);
 data_in_bv.set32(1,0x02030203);
 data_in_bv.set32(2,0x00020202);
 data_in_bv.set32(3,0x03010300);
 addr = 0x0393472a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000010202030300);
 data_in_bv.set32(0,0x00010103);
 data_in_bv.set32(1,0x02020102);
 data_in_bv.set32(2,0x00000100);
 data_in_bv.set32(3,0x00010300);
 addr = 0x03933d2d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03000302030303);
 data_in_bv.set32(0,0x03000103);
 data_in_bv.set32(1,0x03010002);
 data_in_bv.set32(2,0x01010300);
 data_in_bv.set32(3,0x03000201);
 addr = 0x00bc9677;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00030302020303);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x02030303);
 data_in_bv.set32(2,0x03030303);
 data_in_bv.set32(3,0x01020102);
 addr = 0x03c35cfa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01000002020000);
 data_in_bv.set32(0,0x01010300);
 data_in_bv.set32(1,0x03030103);
 data_in_bv.set32(2,0x01000100);
 data_in_bv.set32(3,0xfe000103);
 addr = 0x03d21ffc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01010102030003);
 data_in_bv.set32(0,0x03020300);
 data_in_bv.set32(1,0x02000102);
 data_in_bv.set32(2,0x03000000);
 data_in_bv.set32(3,0xff020302);
 addr = 0x03e4b4c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03020203010000);
 data_in_bv.set32(0,0x02020003);
 data_in_bv.set32(1,0x03030101);
 data_in_bv.set32(2,0x03010301);
 data_in_bv.set32(3,0x02000202);
 addr = 0x02b541d3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03fe0301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02020003010000);
 data_in_bv.set32(0,0x02000300);
 data_in_bv.set32(1,0x02020001);
 data_in_bv.set32(2,0x02010001);
 data_in_bv.set32(3,0x02030100);
 addr = 0x00f67eb7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003030000020201);
 data_in_bv.set32(0,0x03030300);
 data_in_bv.set32(1,0x00020202);
 data_in_bv.set32(2,0x02030201);
 data_in_bv.set32(3,0xff000001);
 addr = 0x008e42f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02030201020203);
 data_in_bv.set32(0,0x03030301);
 data_in_bv.set32(1,0x01000300);
 data_in_bv.set32(2,0x02020101);
 data_in_bv.set32(3,0x03020303);
 addr = 0x01e96fdc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc03010002010100);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00000303);
 data_in_bv.set32(2,0x02020000);
 data_in_bv.set32(3,0xff030202);
 addr = 0x03d7f053;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001010303030102);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030200);
 data_in_bv.set32(2,0x00030103);
 data_in_bv.set32(3,0xfe010003);
 addr = 0x029a54b2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fe0200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff03020000020200);
 data_in_bv.set32(0,0x02010303);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x03010000);
 data_in_bv.set32(3,0x02030100);
 addr = 0x0192395c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd00030001020200);
 data_in_bv.set32(0,0x00000103);
 data_in_bv.set32(1,0x02020102);
 data_in_bv.set32(2,0x02010202);
 data_in_bv.set32(3,0x00020301);
 addr = 0x029b72ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0002fe01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe02000100020302);
 data_in_bv.set32(0,0x01010202);
 data_in_bv.set32(1,0x03000303);
 data_in_bv.set32(2,0x01020202);
 data_in_bv.set32(3,0x02030001);
 addr = 0x02e6b40a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0101ff02,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc00010203020100);
 data_in_bv.set32(0,0x00020301);
 data_in_bv.set32(1,0x02010001);
 data_in_bv.set32(2,0x03010201);
 data_in_bv.set32(3,0x01010002);
 addr = 0x01b68270;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0001010003000100);
 data_in_bv.set32(0,0x01000303);
 data_in_bv.set32(1,0x03030001);
 data_in_bv.set32(2,0x03000200);
 data_in_bv.set32(3,0x03000202);
 addr = 0x0392a2f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01020201030002);
 data_in_bv.set32(0,0x02030103);
 data_in_bv.set32(1,0x02020101);
 data_in_bv.set32(2,0x02010301);
 data_in_bv.set32(3,0xfc030201);
 addr = 0x02e6d144;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x020103fe,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe03030101020003);
 data_in_bv.set32(0,0x00020203);
 data_in_bv.set32(1,0x03020303);
 data_in_bv.set32(2,0x03000201);
 data_in_bv.set32(3,0xfd010200);
 addr = 0x00da8014;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03010202030303);
 data_in_bv.set32(0,0x01020303);
 data_in_bv.set32(1,0x02030001);
 data_in_bv.set32(2,0x03000001);
 data_in_bv.set32(3,0xfe000002);
 addr = 0x01c4d3ad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0103020303010302);
 data_in_bv.set32(0,0x02030001);
 data_in_bv.set32(1,0x03020000);
 data_in_bv.set32(2,0x01030000);
 data_in_bv.set32(3,0x03030100);
 addr = 0x009f23ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0303ff00,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01010303010100);
 data_in_bv.set32(0,0x02020000);
 data_in_bv.set32(1,0x00010300);
 data_in_bv.set32(2,0x03010102);
 data_in_bv.set32(3,0xfc000000);
 addr = 0x03c7bb13;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00020300030103);
 data_in_bv.set32(0,0x02030203);
 data_in_bv.set32(1,0x02030000);
 data_in_bv.set32(2,0x03020302);
 data_in_bv.set32(3,0xfd000303);
 addr = 0x03902330;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102010302030300);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x02020000);
 data_in_bv.set32(2,0x01030001);
 data_in_bv.set32(3,0xfd020302);
 addr = 0x02aafb5d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0300010201000300);
 data_in_bv.set32(0,0x01020200);
 data_in_bv.set32(1,0x01030001);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfd030200);
 addr = 0x02cf7504;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x010202ff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0102030202020101);
 data_in_bv.set32(0,0x03030003);
 data_in_bv.set32(1,0x01020102);
 data_in_bv.set32(2,0x02020001);
 data_in_bv.set32(3,0xfc030002);
 addr = 0x019b37f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0202010101030302);
 data_in_bv.set32(0,0x02020000);
 data_in_bv.set32(1,0x01010202);
 data_in_bv.set32(2,0x00020203);
 data_in_bv.set32(3,0x03010301);
 addr = 0x03d5fcc4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03000103020200);
 data_in_bv.set32(0,0x00020203);
 data_in_bv.set32(1,0x02020002);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0x01030303);
 addr = 0x01ed1252;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0100030100000200);
 data_in_bv.set32(0,0x02020003);
 data_in_bv.set32(1,0x03000001);
 data_in_bv.set32(2,0x03020102);
 data_in_bv.set32(3,0x03010300);
 addr = 0x02e2a27f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe00000203020201);
 data_in_bv.set32(0,0x01010000);
 data_in_bv.set32(1,0x02020102);
 data_in_bv.set32(2,0x02030301);
 data_in_bv.set32(3,0x03010102);
 addr = 0x019bc9e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc03000203010201);
 data_in_bv.set32(0,0x02030103);
 data_in_bv.set32(1,0x02030202);
 data_in_bv.set32(2,0x03020300);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00bab8a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0203ff02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301020103020303);
 data_in_bv.set32(0,0x00000300);
 data_in_bv.set32(1,0x02020103);
 data_in_bv.set32(2,0x01000200);
 data_in_bv.set32(3,0xfe010101);
 addr = 0x00ef3efe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101010303000003);
 data_in_bv.set32(0,0x02000202);
 data_in_bv.set32(1,0x00000203);
 data_in_bv.set32(2,0x02030303);
 data_in_bv.set32(3,0xff000203);
 addr = 0x00e8d915;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfd000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00030000030303);
 data_in_bv.set32(0,0x03000201);
 data_in_bv.set32(1,0x03010202);
 data_in_bv.set32(2,0x01030000);
 data_in_bv.set32(3,0x00010102);
 addr = 0x03eaf3f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102000202010003);
 data_in_bv.set32(0,0x02030202);
 data_in_bv.set32(1,0x00000100);
 data_in_bv.set32(2,0x03020001);
 data_in_bv.set32(3,0xfd010301);
 addr = 0x02fb6a9b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x7f030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0300010202000200);
 data_in_bv.set32(0,0x02010200);
 data_in_bv.set32(1,0x01020203);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfd000303);
 addr = 0x00e671c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000ff00,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00020300000302);
 data_in_bv.set32(0,0x03020102);
 data_in_bv.set32(1,0x01000100);
 data_in_bv.set32(2,0x03000003);
 data_in_bv.set32(3,0xff000003);
 addr = 0x00ad5c6e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff00ff03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02020201030001);
 data_in_bv.set32(0,0x00030301);
 data_in_bv.set32(1,0x03010002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x01000300);
 addr = 0x008804f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003030002020103);
 data_in_bv.set32(0,0x03000201);
 data_in_bv.set32(1,0x01000100);
 data_in_bv.set32(2,0x02030103);
 data_in_bv.set32(3,0xff020102);
 addr = 0x02e32e33;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x017d0100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0203000000030001);
 data_in_bv.set32(0,0x03020202);
 data_in_bv.set32(1,0x02010300);
 data_in_bv.set32(2,0x02010100);
 data_in_bv.set32(3,0x01020100);
 addr = 0x0186fd56;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0203030101010003);
 data_in_bv.set32(0,0x00010102);
 data_in_bv.set32(1,0x02000100);
 data_in_bv.set32(2,0x01020203);
 data_in_bv.set32(3,0x02020203);
 addr = 0x00a2f585;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fe02,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02030200010003);
 data_in_bv.set32(0,0x02030100);
 data_in_bv.set32(1,0x01010002);
 data_in_bv.set32(2,0x01010301);
 data_in_bv.set32(3,0xfd020002);
 addr = 0x03ab5f6c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000003000002);
 data_in_bv.set32(0,0x02030100);
 data_in_bv.set32(1,0x01010002);
 data_in_bv.set32(2,0x01010301);
 data_in_bv.set32(3,0xfd020002);
 addr = 0x02ab5f4a;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0101fe01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02000103030000);
 data_in_bv.set32(0,0x03020201);
 data_in_bv.set32(1,0x03030302);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xff030003);
 addr = 0x00ddfb19;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000030300010103);
 data_in_bv.set32(0,0x03010003);
 data_in_bv.set32(1,0x03000303);
 data_in_bv.set32(2,0x00010301);
 data_in_bv.set32(3,0xfc020203);
 addr = 0x02c486d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x7d010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02020303020201);
 data_in_bv.set32(0,0x01000200);
 data_in_bv.set32(1,0x03030102);
 data_in_bv.set32(2,0x02000301);
 data_in_bv.set32(3,0x01030001);
 addr = 0x0396ac5d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302010200000200);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x03010002);
 data_in_bv.set32(3,0xfd030002);
 addr = 0x03d6fea8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02030203000301);
 data_in_bv.set32(0,0x02010001);
 data_in_bv.set32(1,0x01020303);
 data_in_bv.set32(2,0x00010200);
 data_in_bv.set32(3,0xfd030100);
 addr = 0x038765f8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03020001000101);
 data_in_bv.set32(0,0x02010001);
 data_in_bv.set32(1,0x03030201);
 data_in_bv.set32(2,0x01000002);
 data_in_bv.set32(3,0xff010303);
 addr = 0x0297b418;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd00000201010302);
 data_in_bv.set32(0,0x02020202);
 data_in_bv.set32(1,0x01020003);
 data_in_bv.set32(2,0x01030203);
 data_in_bv.set32(3,0xfe010201);
 addr = 0x01d90308;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0300010000000303);
 data_in_bv.set32(0,0x02000002);
 data_in_bv.set32(1,0x01010003);
 data_in_bv.set32(2,0x01030002);
 data_in_bv.set32(3,0xfe010300);
 addr = 0x01990c11;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff03020202010101);
 data_in_bv.set32(0,0x03010300);
 data_in_bv.set32(1,0x02020002);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000101);
 addr = 0x03c1b781;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01020003010301);
 data_in_bv.set32(0,0x01000003);
 data_in_bv.set32(1,0x01000103);
 data_in_bv.set32(2,0x02030202);
 data_in_bv.set32(3,0xfe020201);
 addr = 0x01ca5af9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc02000101000202);
 data_in_bv.set32(0,0x01010303);
 data_in_bv.set32(1,0x03010003);
 data_in_bv.set32(2,0x00030300);
 data_in_bv.set32(3,0x02020202);
 addr = 0x02b1b340;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000303ff,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0202030100030001);
 data_in_bv.set32(0,0x03030100);
 data_in_bv.set32(1,0x00000303);
 data_in_bv.set32(2,0x03020101);
 data_in_bv.set32(3,0xfc030201);
 addr = 0x01dd25cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe00020102010003);
 data_in_bv.set32(0,0x02010000);
 data_in_bv.set32(1,0x02020201);
 data_in_bv.set32(2,0x03030200);
 data_in_bv.set32(3,0x00000202);
 addr = 0x00fc8a01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0201ff00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02010100010303);
 data_in_bv.set32(0,0x03030003);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x02020203);
 data_in_bv.set32(3,0x02030302);
 addr = 0x019a04fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc01020302030303);
 data_in_bv.set32(0,0x00030301);
 data_in_bv.set32(1,0x03000100);
 data_in_bv.set32(2,0x01020001);
 data_in_bv.set32(3,0x02020100);
 addr = 0x0393fb90;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000201010201);
 data_in_bv.set32(0,0x02020102);
 data_in_bv.set32(1,0x00020300);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x02030001);
 addr = 0x03b9c3b8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300000201020001);
 data_in_bv.set32(0,0x01030301);
 data_in_bv.set32(1,0x00030102);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfe010302);
 addr = 0x03d32a43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302000003020300);
 data_in_bv.set32(0,0x02010301);
 data_in_bv.set32(1,0x02010202);
 data_in_bv.set32(2,0x01020101);
 data_in_bv.set32(3,0xfc030301);
 addr = 0x03ed2292;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03010303030202);
 data_in_bv.set32(0,0x03030101);
 data_in_bv.set32(1,0x01030203);
 data_in_bv.set32(2,0x00030101);
 data_in_bv.set32(3,0x02020100);
 addr = 0x01e9917b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd00010002020301);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x03010202);
 data_in_bv.set32(2,0x00010200);
 data_in_bv.set32(3,0x01020003);
 addr = 0x03cafed5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202020100000300);
 data_in_bv.set32(0,0x03010103);
 data_in_bv.set32(1,0x01010301);
 data_in_bv.set32(2,0x01010301);
 data_in_bv.set32(3,0xfd030001);
 addr = 0x03f52eac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03020000000201);
 data_in_bv.set32(0,0x03010300);
 data_in_bv.set32(1,0x01030100);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xff010203);
 addr = 0x01d2bc43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xff00020003020003);
 data_in_bv.set32(0,0x03000203);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x02030103);
 data_in_bv.set32(3,0xff000300);
 addr = 0x01a5c41e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0303030300010200);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x01010200);
 data_in_bv.set32(2,0x02010300);
 data_in_bv.set32(3,0xfd020103);
 addr = 0x03f76bb0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01020200010202);
 data_in_bv.set32(0,0x01000203);
 data_in_bv.set32(1,0x02010103);
 data_in_bv.set32(2,0x01030000);
 data_in_bv.set32(3,0xfc020102);
 addr = 0x03b05d2e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01010000020002);
 data_in_bv.set32(0,0x01020203);
 data_in_bv.set32(1,0x01020303);
 data_in_bv.set32(2,0x03010200);
 data_in_bv.set32(3,0x00030101);
 addr = 0x01b40082;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe01030000020303);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x02030102);
 data_in_bv.set32(2,0x03010102);
 data_in_bv.set32(3,0x00020103);
 addr = 0x00d33920;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0203fe02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02030202000003);
 data_in_bv.set32(0,0x01020301);
 data_in_bv.set32(1,0x02000303);
 data_in_bv.set32(2,0x03010103);
 data_in_bv.set32(3,0xff000103);
 addr = 0x02cfdbe4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff00017f,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0003020300030200);
 data_in_bv.set32(0,0x00000300);
 data_in_bv.set32(1,0x03010101);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfd030100);
 addr = 0x01b36d32;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0300010201010001);
 data_in_bv.set32(0,0x03000203);
 data_in_bv.set32(1,0x00030303);
 data_in_bv.set32(2,0x02010101);
 data_in_bv.set32(3,0xfe010300);
 addr = 0x03a234c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00030002000003);
 data_in_bv.set32(0,0x00010102);
 data_in_bv.set32(1,0x03020303);
 data_in_bv.set32(2,0x03000000);
 data_in_bv.set32(3,0xfe000200);
 addr = 0x0189dca3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0303000102030302);
 data_in_bv.set32(0,0x03010303);
 data_in_bv.set32(1,0x01000102);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0x00030201);
 addr = 0x0087ac5e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200000103000200);
 data_in_bv.set32(0,0x01020202);
 data_in_bv.set32(1,0x00020102);
 data_in_bv.set32(2,0x01000000);
 data_in_bv.set32(3,0xfe010203);
 addr = 0x03fc9368;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01020201010003);
 data_in_bv.set32(0,0x00000203);
 data_in_bv.set32(1,0x02020003);
 data_in_bv.set32(2,0x01030001);
 data_in_bv.set32(3,0x00020103);
 addr = 0x029b0696;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x007d0203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc02010101010302);
 data_in_bv.set32(0,0x02020102);
 data_in_bv.set32(1,0x01020001);
 data_in_bv.set32(2,0x01000300);
 data_in_bv.set32(3,0x03010200);
 addr = 0x02b18e6a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0301ff00,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0200020001010102);
 data_in_bv.set32(0,0x00030100);
 data_in_bv.set32(1,0x01010202);
 data_in_bv.set32(2,0x03010103);
 data_in_bv.set32(3,0xfc020301);
 addr = 0x00d38498;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02020103030101);
 data_in_bv.set32(0,0x03020103);
 data_in_bv.set32(1,0x01030100);
 data_in_bv.set32(2,0x01010302);
 data_in_bv.set32(3,0x00030102);
 addr = 0x01da1492;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0300000001010102);
 data_in_bv.set32(0,0x00020302);
 data_in_bv.set32(1,0x03030100);
 data_in_bv.set32(2,0x03020300);
 data_in_bv.set32(3,0xfc030202);
 addr = 0x019aa31f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0200000202000203);
 data_in_bv.set32(0,0x03000202);
 data_in_bv.set32(1,0x01000000);
 data_in_bv.set32(2,0x00010203);
 data_in_bv.set32(3,0x02010000);
 addr = 0x03eb2480;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102000301030201);
 data_in_bv.set32(0,0x02000103);
 data_in_bv.set32(1,0x03030000);
 data_in_bv.set32(2,0x00020202);
 data_in_bv.set32(3,0x01010001);
 addr = 0x01c7f019;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0202000001020202);
 data_in_bv.set32(0,0x02000200);
 data_in_bv.set32(1,0x01000201);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0x02000302);
 addr = 0x02a33052;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00fe0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd01020000000302);
 data_in_bv.set32(0,0x01030301);
 data_in_bv.set32(1,0x03000300);
 data_in_bv.set32(2,0x03010203);
 data_in_bv.set32(3,0xfd020101);
 addr = 0x02af254b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0301ff03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0002020101030003);
 data_in_bv.set32(0,0x01000202);
 data_in_bv.set32(1,0x00010303);
 data_in_bv.set32(2,0x00010100);
 data_in_bv.set32(3,0x02000302);
 addr = 0x03b1f3d4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103030302010201);
 data_in_bv.set32(0,0x00010200);
 data_in_bv.set32(1,0x03030102);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0xff010302);
 addr = 0x01f203fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfd01000201030000);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x01020100);
 data_in_bv.set32(2,0x02000202);
 data_in_bv.set32(3,0xfe030003);
 addr = 0x0095f8da;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01010103010103);
 data_in_bv.set32(0,0x00000301);
 data_in_bv.set32(1,0x03020203);
 data_in_bv.set32(2,0x01000202);
 data_in_bv.set32(3,0xff020101);
 addr = 0x03b2eac9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01000300020301);
 data_in_bv.set32(0,0x02010101);
 data_in_bv.set32(1,0x00020301);
 data_in_bv.set32(2,0x03020300);
 data_in_bv.set32(3,0x02030103);
 addr = 0x02b4f074;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02fe0103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0100000001020203);
 data_in_bv.set32(0,0x03010302);
 data_in_bv.set32(1,0x00030101);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x01000302);
 addr = 0x01b77fe0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0101030003010303);
 data_in_bv.set32(0,0x03000000);
 data_in_bv.set32(1,0x03000203);
 data_in_bv.set32(2,0x02010000);
 data_in_bv.set32(3,0xfc010103);
 addr = 0x03a9c20d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02020002010203);
 data_in_bv.set32(0,0x01030000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x01020003);
 data_in_bv.set32(3,0x02020101);
 addr = 0x00dc425d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202000100010202);
 data_in_bv.set32(0,0x01020301);
 data_in_bv.set32(1,0x02030100);
 data_in_bv.set32(2,0x01000201);
 data_in_bv.set32(3,0x03000203);
 addr = 0x00d7d268;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0300fd03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101010202020103);
 data_in_bv.set32(0,0x02030202);
 data_in_bv.set32(1,0x02030000);
 data_in_bv.set32(2,0x02020001);
 data_in_bv.set32(3,0xfe020002);
 addr = 0x01d4af43;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0002030003010001);
 data_in_bv.set32(0,0x02000100);
 data_in_bv.set32(1,0x00030202);
 data_in_bv.set32(2,0x03000100);
 data_in_bv.set32(3,0xff020100);
 addr = 0x03e21fc6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000101010101);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x03000003);
 data_in_bv.set32(2,0x02000300);
 data_in_bv.set32(3,0x02020300);
 addr = 0x00eacae8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0202fe00,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000201010003);
 data_in_bv.set32(0,0x01020003);
 data_in_bv.set32(1,0x02030103);
 data_in_bv.set32(2,0x02010003);
 data_in_bv.set32(3,0x03030303);
 addr = 0x018bfc75;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0301000003020000);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x01020100);
 data_in_bv.set32(2,0x01020300);
 data_in_bv.set32(3,0x02030002);
 addr = 0x02b10f1e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd01000302030003);
 data_in_bv.set32(0,0x03030303);
 data_in_bv.set32(1,0x03010100);
 data_in_bv.set32(2,0x03030100);
 data_in_bv.set32(3,0x02030101);
 addr = 0x02aa5592;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x037f0303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0100010203000201);
 data_in_bv.set32(0,0x00000303);
 data_in_bv.set32(1,0x01000300);
 data_in_bv.set32(2,0x02030301);
 data_in_bv.set32(3,0x02000103);
 addr = 0x03d1dcc9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01030100010002);
 data_in_bv.set32(0,0x01030003);
 data_in_bv.set32(1,0x02020201);
 data_in_bv.set32(2,0x02010301);
 data_in_bv.set32(3,0xff030000);
 addr = 0x038ef1fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203020302000000);
 data_in_bv.set32(0,0x01030002);
 data_in_bv.set32(1,0x03000003);
 data_in_bv.set32(2,0x03020001);
 data_in_bv.set32(3,0xfc000101);
 addr = 0x00d76e25;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0300ff03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00020202030302);
 data_in_bv.set32(0,0x03020302);
 data_in_bv.set32(1,0x01020003);
 data_in_bv.set32(2,0x00010201);
 data_in_bv.set32(3,0xfc030201);
 addr = 0x02bbedb6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01ff0003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe01030102010200);
 data_in_bv.set32(0,0x03000200);
 data_in_bv.set32(1,0x01000100);
 data_in_bv.set32(2,0x01000203);
 data_in_bv.set32(3,0x03030201);
 addr = 0x0280257e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe01020102010301);
 data_in_bv.set32(0,0x00020300);
 data_in_bv.set32(1,0x01010001);
 data_in_bv.set32(2,0x01010303);
 data_in_bv.set32(3,0x01030103);
 addr = 0x0297c812;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00ff0300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff00030203010103);
 data_in_bv.set32(0,0x01000200);
 data_in_bv.set32(1,0x01010101);
 data_in_bv.set32(2,0x01000303);
 data_in_bv.set32(3,0xfd000202);
 addr = 0x00b05d4e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0100fc03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002030101030002);
 data_in_bv.set32(0,0x01020100);
 data_in_bv.set32(1,0x01010002);
 data_in_bv.set32(2,0x01030302);
 data_in_bv.set32(3,0x00020102);
 addr = 0x02b5bd4a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0103fe02,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0000000201000201);
 data_in_bv.set32(0,0x03010100);
 data_in_bv.set32(1,0x03000001);
 data_in_bv.set32(2,0x02020303);
 data_in_bv.set32(3,0x00000100);
 addr = 0x0288406d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000fe00,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff03030100000200);
 data_in_bv.set32(0,0x00020302);
 data_in_bv.set32(1,0x01000303);
 data_in_bv.set32(2,0x03030003);
 data_in_bv.set32(3,0x02010203);
 addr = 0x02bb6081;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000203ff,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0002010101000200);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x01000001);
 data_in_bv.set32(3,0xff030103);
 addr = 0x02a89ae5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff0301fe,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff03010300010001);
 data_in_bv.set32(0,0x00020202);
 data_in_bv.set32(1,0x00010301);
 data_in_bv.set32(2,0x02010000);
 data_in_bv.set32(3,0x01010001);
 addr = 0x00bd9547;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0201ff00,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01020003000101);
 data_in_bv.set32(0,0x02020303);
 data_in_bv.set32(1,0x03020203);
 data_in_bv.set32(2,0x01000203);
 data_in_bv.set32(3,0x02020203);
 addr = 0x01cdfcaf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0200010300010002);
 data_in_bv.set32(0,0x01010302);
 data_in_bv.set32(1,0x02020201);
 data_in_bv.set32(2,0x01030102);
 data_in_bv.set32(3,0x03020102);
 addr = 0x02febfd4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fe0102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd01010100030302);
 data_in_bv.set32(0,0x01020201);
 data_in_bv.set32(1,0x01020200);
 data_in_bv.set32(2,0x02000202);
 data_in_bv.set32(3,0x02030301);
 addr = 0x02d28b32;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01ff0200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfe03020300000003);
 data_in_bv.set32(0,0x00010301);
 data_in_bv.set32(1,0x01020200);
 data_in_bv.set32(2,0x03010002);
 data_in_bv.set32(3,0x00020103);
 addr = 0x01e3d11f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfe03020203020301);
 data_in_bv.set32(0,0x03010201);
 data_in_bv.set32(1,0x01010000);
 data_in_bv.set32(2,0x03000303);
 data_in_bv.set32(3,0xfc030101);
 addr = 0x01cbb713;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0000000003000302);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x03030201);
 data_in_bv.set32(2,0x01030101);
 data_in_bv.set32(3,0xfc030200);
 addr = 0x03dd7c85;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01000202030101);
 data_in_bv.set32(0,0x01030002);
 data_in_bv.set32(1,0x03020101);
 data_in_bv.set32(2,0x02030201);
 data_in_bv.set32(3,0x03010002);
 addr = 0x02e7f55b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0001010101010000);
 data_in_bv.set32(0,0x03000202);
 data_in_bv.set32(1,0x00030202);
 data_in_bv.set32(2,0x00020300);
 data_in_bv.set32(3,0xfd010001);
 addr = 0x039be7bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202010003030202);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x01030203);
 data_in_bv.set32(2,0x03020202);
 data_in_bv.set32(3,0x00020000);
 addr = 0x01b9f0b7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0001000000000200);
 data_in_bv.set32(0,0x01030000);
 data_in_bv.set32(1,0x00010202);
 data_in_bv.set32(2,0x00020203);
 data_in_bv.set32(3,0xfffc0003);
 addr = 0x00f82792;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffc0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102020102030102);
 data_in_bv.set32(0,0x01020203);
 data_in_bv.set32(1,0x02030003);
 data_in_bv.set32(2,0x00000102);
 data_in_bv.set32(3,0x03010301);
 addr = 0x039a097d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02020101000103);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00020300);
 data_in_bv.set32(2,0x03000202);
 data_in_bv.set32(3,0xff010101);
 addr = 0x02b23b86;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002007d,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0302030000000300);
 data_in_bv.set32(0,0x03000000);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x03020300);
 data_in_bv.set32(3,0x02030201);
 addr = 0x02c862e9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0203ff01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd02020103010100);
 data_in_bv.set32(0,0x02000301);
 data_in_bv.set32(1,0x02030002);
 data_in_bv.set32(2,0x03000001);
 data_in_bv.set32(3,0x01030301);
 addr = 0x03fdb26b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03030303010003);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x02020102);
 data_in_bv.set32(2,0x03010100);
 data_in_bv.set32(3,0x00010002);
 addr = 0x02db24b3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x027f0102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfd01030302010002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x02000301);
 data_in_bv.set32(2,0x02010300);
 data_in_bv.set32(3,0x03030103);
 addr = 0x00efeda7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0200fd01,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00020303030002);
 data_in_bv.set32(0,0x02000302);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x03020201);
 data_in_bv.set32(3,0xff030301);
 addr = 0x01e349a8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc00020103000200);
 data_in_bv.set32(0,0x01030303);
 data_in_bv.set32(1,0x03020201);
 data_in_bv.set32(2,0x03030000);
 data_in_bv.set32(3,0xff020301);
 addr = 0x01ed4214;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0302000003030100);
 data_in_bv.set32(0,0x03030200);
 data_in_bv.set32(1,0x02030002);
 data_in_bv.set32(2,0x02020303);
 data_in_bv.set32(3,0x01000201);
 addr = 0x02a8040d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0303ff00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0000020101030101);
 data_in_bv.set32(0,0x01030201);
 data_in_bv.set32(1,0x00020301);
 data_in_bv.set32(2,0x02030300);
 data_in_bv.set32(3,0x03010200);
 addr = 0x01e32bdd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0303030002010100);
 data_in_bv.set32(0,0x01030003);
 data_in_bv.set32(1,0x03020101);
 data_in_bv.set32(2,0x01010200);
 data_in_bv.set32(3,0x03030003);
 addr = 0x00b723f2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00030103020300);
 data_in_bv.set32(0,0x03030303);
 data_in_bv.set32(1,0x01010202);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x03000300);
 addr = 0x03b51ed4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02000002020200);
 data_in_bv.set32(0,0x03030302);
 data_in_bv.set32(1,0x01010000);
 data_in_bv.set32(2,0x01000100);
 data_in_bv.set32(3,0xfe010200);
 addr = 0x02d4f553;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01ff0100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0001000202030203);
 data_in_bv.set32(0,0x02000003);
 data_in_bv.set32(1,0x00020203);
 data_in_bv.set32(2,0x01020103);
 data_in_bv.set32(3,0x00030103);
 addr = 0x03e1e86e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000103010001);
 data_in_bv.set32(0,0x01010300);
 data_in_bv.set32(1,0x02010203);
 data_in_bv.set32(2,0x03020203);
 data_in_bv.set32(3,0xfc030003);
 addr = 0x03a33388;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003020303030102);
 data_in_bv.set32(0,0x03000203);
 data_in_bv.set32(1,0x00000301);
 data_in_bv.set32(2,0x03010300);
 data_in_bv.set32(3,0x02010301);
 addr = 0x01f065b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0103030201010202);
 data_in_bv.set32(0,0x01010300);
 data_in_bv.set32(1,0x02020301);
 data_in_bv.set32(2,0x02000202);
 data_in_bv.set32(3,0xfc030300);
 addr = 0x02ca4f8b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0101fe00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0100000203020303);
 data_in_bv.set32(0,0x00000201);
 data_in_bv.set32(1,0x00020200);
 data_in_bv.set32(2,0x02020303);
 data_in_bv.set32(3,0xfe010100);
 addr = 0x0281d11b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x7d000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0202000003000203);
 data_in_bv.set32(0,0x02000303);
 data_in_bv.set32(1,0x03010302);
 data_in_bv.set32(2,0x00030301);
 data_in_bv.set32(3,0xfe010103);
 addr = 0x028fb92c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03017f02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff00000003000002);
 data_in_bv.set32(0,0x01010300);
 data_in_bv.set32(1,0x00020200);
 data_in_bv.set32(2,0x02030203);
 data_in_bv.set32(3,0x03030002);
 addr = 0x03e8c32c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300030303000101);
 data_in_bv.set32(0,0x00020103);
 data_in_bv.set32(1,0x01010000);
 data_in_bv.set32(2,0x03020303);
 data_in_bv.set32(3,0x01020000);
 addr = 0x00903874;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202020001030001);
 data_in_bv.set32(0,0x01010303);
 data_in_bv.set32(1,0x01030002);
 data_in_bv.set32(2,0x03010303);
 data_in_bv.set32(3,0x01020302);
 addr = 0x02d3dc86;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x010103fe,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0002020101030203);
 data_in_bv.set32(0,0x01000202);
 data_in_bv.set32(1,0x00010202);
 data_in_bv.set32(2,0x02000303);
 data_in_bv.set32(3,0x01020300);
 addr = 0x008dfcff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02010302030002);
 data_in_bv.set32(0,0x02000203);
 data_in_bv.set32(1,0x03020300);
 data_in_bv.set32(2,0x01030103);
 data_in_bv.set32(3,0x01000300);
 addr = 0x03e4901f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03030000020203);
 data_in_bv.set32(0,0x02000203);
 data_in_bv.set32(1,0x03020300);
 data_in_bv.set32(2,0x01030103);
 data_in_bv.set32(3,0x01000300);
 addr = 0x00e49043;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0103fe03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100000101030302);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x01020201);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00010303);
 addr = 0x038572f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302010000000201);
 data_in_bv.set32(0,0x00000201);
 data_in_bv.set32(1,0x03020200);
 data_in_bv.set32(2,0x03020100);
 data_in_bv.set32(3,0x02010300);
 addr = 0x03f3d0d1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00020202000300);
 data_in_bv.set32(0,0x02020000);
 data_in_bv.set32(1,0x01030303);
 data_in_bv.set32(2,0x03000200);
 data_in_bv.set32(3,0xfffe0001);
 addr = 0x02b149d1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03ff0200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfffe0001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xfc00000002030103);
 data_in_bv.set32(0,0x00020300);
 data_in_bv.set32(1,0x03030103);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x02030100);
 addr = 0x01989316;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0102010303000200);
 data_in_bv.set32(0,0x03000203);
 data_in_bv.set32(1,0x01020200);
 data_in_bv.set32(2,0x01020003);
 data_in_bv.set32(3,0x02030003);
 addr = 0x0385d6c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01030202030100);
 data_in_bv.set32(0,0x03000203);
 data_in_bv.set32(1,0x03000300);
 data_in_bv.set32(2,0x03030102);
 data_in_bv.set32(3,0x01010102);
 addr = 0x009f6736;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001020201000201);
 data_in_bv.set32(0,0x00000302);
 data_in_bv.set32(1,0x02020103);
 data_in_bv.set32(2,0x02010200);
 data_in_bv.set32(3,0xff000000);
 addr = 0x029efb6a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff00ff00,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0100030302000102);
 data_in_bv.set32(0,0x01000003);
 data_in_bv.set32(1,0x02000200);
 data_in_bv.set32(2,0x01030300);
 data_in_bv.set32(3,0x03010100);
 addr = 0x02ddc207;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x010000fe,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0200010201020002);
 data_in_bv.set32(0,0x02030100);
 data_in_bv.set32(1,0x03010102);
 data_in_bv.set32(2,0x03020001);
 data_in_bv.set32(3,0xfc010203);
 addr = 0x0090f1ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc01fd03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301010201000002);
 data_in_bv.set32(0,0x03000002);
 data_in_bv.set32(1,0x00000302);
 data_in_bv.set32(2,0x03010002);
 data_in_bv.set32(3,0x00030201);
 addr = 0x03d4f45b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000101020102);
 data_in_bv.set32(0,0x03010001);
 data_in_bv.set32(1,0x02030302);
 data_in_bv.set32(2,0x02030000);
 data_in_bv.set32(3,0x00000302);
 addr = 0x01bc6136;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0xfc03000203000300);
 data_in_bv.set32(0,0x02010101);
 data_in_bv.set32(1,0x00010202);
 data_in_bv.set32(2,0x00000103);
 data_in_bv.set32(3,0xfc020100);
 addr = 0x019f7ff7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
 phv_data_word = UINT64_C(0x0203030100000301);
 data_in_bv.set32(0,0x02010301);
 data_in_bv.set32(1,0x00000302);
 data_in_bv.set32(2,0x02000000);
 data_in_bv.set32(3,0x03030301);
 addr = 0x039d5ac9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202030101020202);
 data_in_bv.set32(0,0x01000301);
 data_in_bv.set32(1,0x02010302);
 data_in_bv.set32(2,0x03030003);
 data_in_bv.set32(3,0x00020303);
 addr = 0x03bdfd0f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03010000000002);
 data_in_bv.set32(0,0x00020202);
 data_in_bv.set32(1,0x03010301);
 data_in_bv.set32(2,0x02000202);
 data_in_bv.set32(3,0xff010000);
 addr = 0x0097ec58;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfd000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103030101020303);
 data_in_bv.set32(0,0x00010302);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x00030202);
 data_in_bv.set32(3,0x03000200);
 addr = 0x00f53fc8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fd02,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01020200020003);
 data_in_bv.set32(0,0x00010302);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x0003fd02);
 data_in_bv.set32(3,0x03000200);
 addr = 0x03f53ff2;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fd02,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203030201020202);
 data_in_bv.set32(0,0x01020301);
 data_in_bv.set32(1,0x00030101);
 data_in_bv.set32(2,0x02000203);
 data_in_bv.set32(3,0xfe020302);
 addr = 0x02e33f23;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x000301fe,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0203010000030201);
 data_in_bv.set32(0,0x01020100);
 data_in_bv.set32(1,0x03020001);
 data_in_bv.set32(2,0x02030201);
 data_in_bv.set32(3,0xff020100);
 addr = 0x02f89c4a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0203ff01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0300010102030303);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x02000002);
 data_in_bv.set32(2,0x00010202);
 data_in_bv.set32(3,0x02020103);
 addr = 0x02e317e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0202017f,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0xff00000001000203);
 data_in_bv.set32(0,0x02010301);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x03000203);
 data_in_bv.set32(3,0xfd020302);
 addr = 0x03e86a02;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00030102000002);
 data_in_bv.set32(0,0x00020203);
 data_in_bv.set32(1,0x02010103);
 data_in_bv.set32(2,0x02000000);
 data_in_bv.set32(3,0x00030002);
 addr = 0x02f8b670;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fe0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000840,action_out);
 phv_data_word = UINT64_C(0x0003010003000000);
 data_in_bv.set32(0,0x01020201);
 data_in_bv.set32(1,0x01030201);
 data_in_bv.set32(2,0x00020202);
 data_in_bv.set32(3,0x02030101);
 addr = 0x008d686e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0203ff01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03000203010301);
 data_in_bv.set32(0,0x02030103);
 data_in_bv.set32(1,0x01030103);
 data_in_bv.set32(2,0x01030202);
 data_in_bv.set32(3,0xfc030002);
 addr = 0x00d322ff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03010303020002);
 data_in_bv.set32(0,0x03000101);
 data_in_bv.set32(1,0x03020302);
 data_in_bv.set32(2,0x02000203);
 data_in_bv.set32(3,0x01020102);
 addr = 0x00ff585d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfd000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102020203000103);
 data_in_bv.set32(0,0x01010200);
 data_in_bv.set32(1,0x01020300);
 data_in_bv.set32(2,0x00010300);
 data_in_bv.set32(3,0xfc030001);
 addr = 0x01fd4741;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000240,action_out);
// ********** end extracted from log
