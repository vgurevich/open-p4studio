// ********** begin extracted from log
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[0], 0x8b275fdf); /* a=0x2010900   <<salu_const_regfile[31:0]=32'h8b275fdf>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[1], 0xacc1c3a4); /* a=0x2010904   <<salu_const_regfile[31:0]=32'hacc1c3a4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[2], 0x61ef49b7); /* a=0x2010908   <<salu_const_regfile[31:0]=32'h61ef49b7>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_const_regfile[3], 0x72804b82); /* a=0x201090c   <<salu_const_regfile[31:0]=32'h72804b82>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[0], 0x1560bf05); /* a=0x2010910   <<salu_mathtable[31:0]=32'h1560bf05>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[1], 0xe645768b); /* a=0x2010914   <<salu_mathtable[31:0]=32'he645768b>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[2], 0x55242156); /* a=0x2010918   <<salu_mathtable[31:0]=32'h55242156>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathtable[3], 0x458a6c44); /* a=0x201091c   <<salu_mathtable[31:0]=32'h458a6c44>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_mathunit_ctl, 0x39); /* a=0x20109c8   <<salu_mathunit_output_scale[5:0]=6'h39>> <<salu_mathunit_exponent_invert[6:6]=1'h0>> <<salu_mathunit_exponent_shift[8:7]=2'h0>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.stateful_ctl, 0xa3); /* a=0x20109cc   <<salu_enable[0:0]=1'h1>> <<salu_output_pred_comb_shift[5:1]=5'h11>> <<salu_output_pred_shift[8:6]=3'h2>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][0], 0xbc79); /* a=0x2010980   <<salu_const_src[3:0]=4'h9>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'he>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h2>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][1], 0x114f7); /* a=0x2010984   <<salu_const_src[3:0]=4'h7>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'ha>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][2], 0x12c06); /* a=0x2010988   <<salu_const_src[3:0]=4'h6>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h6>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[0][3], 0x150ec); /* a=0x201098c   <<salu_const_src[3:0]=4'hc>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h8>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][0], 0x3a9cf); /* a=0x2010990   <<salu_const_src[3:0]=4'hf>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h4>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'he>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][1], 0x3e35c); /* a=0x2010994   <<salu_const_src[3:0]=4'hc>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h1>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'hf>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][2], 0x36927); /* a=0x2010998   <<salu_const_src[3:0]=4'h7>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h4>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'hd>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[1][3], 0x18621); /* a=0x201099c   <<salu_const_src[3:0]=4'h1>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h3>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][0], 0x23c73); /* a=0x20109a0   <<salu_const_src[3:0]=4'h3>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'he>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h8>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][1], 0xfc7c); /* a=0x20109a4   <<salu_const_src[3:0]=4'hc>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'he>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h3>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][2], 0x12b32); /* a=0x20109a8   <<salu_const_src[3:0]=4'h2>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h5>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h4>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[2][3], 0x229fd); /* a=0x20109ac   <<salu_const_src[3:0]=4'hd>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'h4>> <<salu_arith[13:13]=1'h1>> <<salu_pred[17:14]=4'h8>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][0], 0x25ccb); /* a=0x20109b0   <<salu_const_src[3:0]=4'hb>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'he>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h9>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][1], 0x18039); /* a=0x20109b4   <<salu_const_src[3:0]=4'h9>> <<salu_regfile_const[4:4]=1'h1>> <<salu_bsrc_phv_index[5:5]=1'h1>> <<salu_bsrc_phv[6:6]=1'h0>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h0>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][2], 0x19fc4); /* a=0x20109b8   <<salu_const_src[3:0]=4'h4>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h1>> <<salu_asrc_memory[8:8]=1'h1>> <<salu_op[12:9]=4'hf>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_state_alu[3][3], 0x21049); /* a=0x20109bc   <<salu_const_src[3:0]=4'h9>> <<salu_regfile_const[4:4]=1'h0>> <<salu_bsrc_phv_index[5:5]=1'h0>> <<salu_bsrc_phv[6:6]=1'h1>> <<salu_asrc_memory_index[7:7]=1'h0>> <<salu_asrc_memory[8:8]=1'h0>> <<salu_op[12:9]=4'h8>> <<salu_arith[13:13]=1'h0>> <<salu_pred[17:14]=4'h8>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[0][0], 0x3cb2); /* a=0x20109e0   <<salu_cmp_const_src[3:0]=4'h2>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'h7>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[0][1], 0x4fb3); /* a=0x20109e4   <<salu_cmp_const_src[3:0]=4'h3>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h1>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'h9>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[1][0], 0x511c); /* a=0x20109e8   <<salu_cmp_const_src[3:0]=4'hc>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h1>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'ha>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[1][1], 0x3913); /* a=0x20109ec   <<salu_cmp_const_src[3:0]=4'h3>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h1>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'h7>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[2][0], 0x2f66); /* a=0x20109f0   <<salu_cmp_const_src[3:0]=4'h6>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h1>> <<salu_cmp_bsrc_sign[6:6]=1'h1>> <<salu_cmp_bsrc_enable[7:7]=1'h0>> <<salu_cmp_asrc_input[8:8]=1'h1>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'h5>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[2][1], 0x7f99); /* a=0x20109f4   <<salu_cmp_const_src[3:0]=4'h9>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h1>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h1>> <<salu_cmp_opcode[14:11]=4'hf>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[3][0], 0x7b9b); /* a=0x20109f8   <<salu_cmp_const_src[3:0]=4'hb>> <<salu_cmp_regfile_const[4:4]=1'h1>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h1>> <<salu_cmp_asrc_sign[9:9]=1'h1>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'hf>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_cmp_alu[3][1], 0x5084); /* a=0x20109fc   <<salu_cmp_const_src[3:0]=4'h4>> <<salu_cmp_regfile_const[4:4]=1'h0>> <<salu_cmp_bsrc_input[5:5]=1'h0>> <<salu_cmp_bsrc_sign[6:6]=1'h0>> <<salu_cmp_bsrc_enable[7:7]=1'h1>> <<salu_cmp_asrc_input[8:8]=1'h0>> <<salu_cmp_asrc_sign[9:9]=1'h0>> <<salu_cmp_asrc_enable[10:10]=1'h0>> <<salu_cmp_opcode[14:11]=4'ha>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[0], 0x6d); /* a=0x2010920   <<salu_output_cmpfn[3:0]=4'hd>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[1], 0x69); /* a=0x2010924   <<salu_output_cmpfn[3:0]=4'h9>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[2], 0x66); /* a=0x2010928   <<salu_output_cmpfn[3:0]=4'h6>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_output_alu[3], 0x67); /* a=0x201092c   <<salu_output_cmpfn[3:0]=4'h7>> <<salu_output_asrc[6:4]=3'h6>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[0], 0x5c); /* a=0x2010930   <<salu_alu2_lo_bsrc_math[0:0]=1'h0>> <<salu_alu2_lo_math_src[2:1]=2'h2>> <<salu_datasize[5:3]=3'h3>> <<salu_op_dual[6:6]=1'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[1], 0x5b); /* a=0x2010934   <<salu_alu2_lo_bsrc_math[0:0]=1'h1>> <<salu_alu2_lo_math_src[2:1]=2'h1>> <<salu_datasize[5:3]=3'h3>> <<salu_op_dual[6:6]=1'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[2], 0x59); /* a=0x2010938   <<salu_alu2_lo_bsrc_math[0:0]=1'h1>> <<salu_alu2_lo_math_src[2:1]=2'h0>> <<salu_datasize[5:3]=3'h3>> <<salu_op_dual[6:6]=1'h1>> */
 tu.OutWord(&mau_reg_map.rams.map_alu.meter_group[0].stateful.salu_instr_common[3], 0x5a); /* a=0x201093c   <<salu_alu2_lo_bsrc_math[0:0]=1'h0>> <<salu_alu2_lo_math_src[2:1]=2'h1>> <<salu_datasize[5:3]=3'h3>> <<salu_op_dual[6:6]=1'h1>> */
 phv_data_word = UINT64_C(0xfe02030102020002);
 data_in_bv.set32(0,0x02010300);
 data_in_bv.set32(1,0x03030101);
 data_in_bv.set32(2,0x03020001);
 data_in_bv.set32(3,0x03030200);
 addr = 0x03f3e930;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01030303030201);
 data_in_bv.set32(0,0x02000301);
 data_in_bv.set32(1,0x01030201);
 data_in_bv.set32(2,0x03000103);
 data_in_bv.set32(3,0xff000003);
 addr = 0x018c6f79;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000030003030201);
 data_in_bv.set32(0,0x00010203);
 data_in_bv.set32(1,0x01010101);
 data_in_bv.set32(2,0x02000001);
 data_in_bv.set32(3,0xfc020101);
 addr = 0x00c1157d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0203020003000303);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x01000002);
 data_in_bv.set32(2,0x01030201);
 data_in_bv.set32(3,0xff010302);
 addr = 0x03b729a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x010001fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03010200030002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x02000100);
 data_in_bv.set32(2,0x02000002);
 data_in_bv.set32(3,0xfd010100);
 addr = 0x01cac570;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01030000030201);
 data_in_bv.set32(0,0x01020001);
 data_in_bv.set32(1,0x00020203);
 data_in_bv.set32(2,0x03020301);
 data_in_bv.set32(3,0xfd020100);
 addr = 0x03817a1c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00010301030001);
 data_in_bv.set32(0,0x03000100);
 data_in_bv.set32(1,0x01010300);
 data_in_bv.set32(2,0x03020100);
 data_in_bv.set32(3,0xfc020301);
 addr = 0x02e631e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc02b701,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe01030201010002);
 data_in_bv.set32(0,0x03010001);
 data_in_bv.set32(1,0x02000301);
 data_in_bv.set32(2,0x01010001);
 data_in_bv.set32(3,0x00000000);
 addr = 0x03850948;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x010100fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300000002030103);
 data_in_bv.set32(0,0x03010001);
 data_in_bv.set32(1,0x02000301);
 data_in_bv.set32(2,0x010100fb);
 data_in_bv.set32(3,0x00000000);
 addr = 0x0285090a;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0301b701,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x010100fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe03020102010302);
 data_in_bv.set32(0,0x02000103);
 data_in_bv.set32(1,0x03030100);
 data_in_bv.set32(2,0x02020301);
 data_in_bv.set32(3,0xfc010100);
 addr = 0x00936a66;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc02000300000303);
 data_in_bv.set32(0,0x03020201);
 data_in_bv.set32(1,0x01020201);
 data_in_bv.set32(2,0x02000003);
 data_in_bv.set32(3,0x02010201);
 addr = 0x01ea9e0f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0302ff05,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03030201030002);
 data_in_bv.set32(0,0x03030201);
 data_in_bv.set32(1,0x03010303);
 data_in_bv.set32(2,0x03010300);
 data_in_bv.set32(3,0xfd020000);
 addr = 0x03b6d0cb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x030100fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101000201010201);
 data_in_bv.set32(0,0x02020201);
 data_in_bv.set32(1,0x02010200);
 data_in_bv.set32(2,0x01020203);
 data_in_bv.set32(3,0x00030103);
 addr = 0x028f715b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0002010303010300);
 data_in_bv.set32(0,0x00020200);
 data_in_bv.set32(1,0x03020101);
 data_in_bv.set32(2,0x03000201);
 data_in_bv.set32(3,0x02010300);
 addr = 0x019e5321;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0302ff01,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200030201000100);
 data_in_bv.set32(0,0x03000102);
 data_in_bv.set32(1,0x00010101);
 data_in_bv.set32(2,0x00010301);
 data_in_bv.set32(3,0x01020100);
 addr = 0x019664de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02000302000301);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x02020301);
 data_in_bv.set32(2,0x03020100);
 data_in_bv.set32(3,0x01000302);
 addr = 0x0090d04c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0000000101030202);
 data_in_bv.set32(0,0x02000201);
 data_in_bv.set32(1,0x00030201);
 data_in_bv.set32(2,0x03030203);
 data_in_bv.set32(3,0x00000002);
 addr = 0x00ea76ad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0101030301000202);
 data_in_bv.set32(0,0x03030102);
 data_in_bv.set32(1,0x02020103);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0x02020102);
 addr = 0x02d5ae62;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0202b702,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0101010003020100);
 data_in_bv.set32(0,0x03030103);
 data_in_bv.set32(1,0x03000302);
 data_in_bv.set32(2,0x02010103);
 data_in_bv.set32(3,0xfe000101);
 addr = 0x02d5f3de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd00000202010103);
 data_in_bv.set32(0,0x03000300);
 data_in_bv.set32(1,0x03000101);
 data_in_bv.set32(2,0x02020002);
 data_in_bv.set32(3,0xfc010101);
 addr = 0x00c4e22c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0002020003030200);
 data_in_bv.set32(0,0x02020301);
 data_in_bv.set32(1,0x02020200);
 data_in_bv.set32(2,0x01030301);
 data_in_bv.set32(3,0xfc030300);
 addr = 0x02ca300c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0202b701,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff02000000010103);
 data_in_bv.set32(0,0x03000300);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x02030103);
 data_in_bv.set32(3,0xfd020000);
 addr = 0x00affa6b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc01000102010001);
 data_in_bv.set32(0,0x03010101);
 data_in_bv.set32(1,0x00000300);
 data_in_bv.set32(2,0x03020200);
 data_in_bv.set32(3,0xfd000003);
 addr = 0x02f8dfab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000b700,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0203010301030301);
 data_in_bv.set32(0,0x01010102);
 data_in_bv.set32(1,0x01030202);
 data_in_bv.set32(2,0x01030100);
 data_in_bv.set32(3,0xfc000301);
 addr = 0x00a19c3e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd01000000010002);
 data_in_bv.set32(0,0x00030200);
 data_in_bv.set32(1,0x00000203);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0xfc030103);
 addr = 0x009336be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0302000203030301);
 data_in_bv.set32(0,0x00010300);
 data_in_bv.set32(1,0x00020302);
 data_in_bv.set32(2,0x02030303);
 data_in_bv.set32(3,0xfc010302);
 addr = 0x01bf6715;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001010203000301);
 data_in_bv.set32(0,0x01010103);
 data_in_bv.set32(1,0x00000201);
 data_in_bv.set32(2,0x03000101);
 data_in_bv.set32(3,0x03010001);
 addr = 0x00c3720e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe02010300010001);
 data_in_bv.set32(0,0x01010101);
 data_in_bv.set32(1,0x03030301);
 data_in_bv.set32(2,0x01020103);
 data_in_bv.set32(3,0x01020002);
 addr = 0x02e0a8c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0102b703,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd01020003030101);
 data_in_bv.set32(0,0x03030202);
 data_in_bv.set32(1,0x02020200);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfd000203);
 addr = 0x0189577a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00010103030301);
 data_in_bv.set32(0,0x01000201);
 data_in_bv.set32(1,0x02030203);
 data_in_bv.set32(2,0x03000303);
 data_in_bv.set32(3,0xfe010100);
 addr = 0x00c7756d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0201030202000002);
 data_in_bv.set32(0,0x00010303);
 data_in_bv.set32(1,0x02020303);
 data_in_bv.set32(2,0x03000301);
 data_in_bv.set32(3,0xfd000002);
 addr = 0x02abd730;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc02010003010102);
 data_in_bv.set32(0,0x02000101);
 data_in_bv.set32(1,0x02010000);
 data_in_bv.set32(2,0x01030303);
 data_in_bv.set32(3,0x00000302);
 addr = 0x03c00dfb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01030002000001);
 data_in_bv.set32(0,0x02010002);
 data_in_bv.set32(1,0x01000002);
 data_in_bv.set32(2,0x02010201);
 data_in_bv.set32(3,0x00010001);
 addr = 0x01928e76;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000000000101);
 data_in_bv.set32(0,0x00010203);
 data_in_bv.set32(1,0x00020300);
 data_in_bv.set32(2,0x02020000);
 data_in_bv.set32(3,0x02010202);
 addr = 0x039b17bf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003030200010301);
 data_in_bv.set32(0,0x03030203);
 data_in_bv.set32(1,0x01000202);
 data_in_bv.set32(2,0x00020301);
 data_in_bv.set32(3,0x01010101);
 addr = 0x01f64c9b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff050203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01010101030202);
 data_in_bv.set32(0,0x03000002);
 data_in_bv.set32(1,0x00020202);
 data_in_bv.set32(2,0x02000103);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00d2565f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0301020103010202);
 data_in_bv.set32(0,0x03000303);
 data_in_bv.set32(1,0x02010102);
 data_in_bv.set32(2,0x02030302);
 data_in_bv.set32(3,0xff020303);
 addr = 0x03ceb83b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02010101030202);
 data_in_bv.set32(0,0x02000302);
 data_in_bv.set32(1,0x03020201);
 data_in_bv.set32(2,0x01030000);
 data_in_bv.set32(3,0x03010103);
 addr = 0x00bb6d42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0101030002000200);
 data_in_bv.set32(0,0x02000001);
 data_in_bv.set32(1,0x01020100);
 data_in_bv.set32(2,0x00020103);
 data_in_bv.set32(3,0x00030100);
 addr = 0x00db7b60;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe01010202020100);
 data_in_bv.set32(0,0x02000102);
 data_in_bv.set32(1,0x01020203);
 data_in_bv.set32(2,0x03000200);
 data_in_bv.set32(3,0x03000100);
 addr = 0x009be01a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff03030302030203);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x02000102);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0x01020103);
 addr = 0x03dd447d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201030100000201);
 data_in_bv.set32(0,0x01010001);
 data_in_bv.set32(1,0x03030301);
 data_in_bv.set32(2,0x01000203);
 data_in_bv.set32(3,0x03030002);
 addr = 0x02e01775;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0303000302010003);
 data_in_bv.set32(0,0x03030302);
 data_in_bv.set32(1,0x01020003);
 data_in_bv.set32(2,0x01000300);
 data_in_bv.set32(3,0xfc020202);
 addr = 0x03cd84f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01000001010300);
 data_in_bv.set32(0,0x00030100);
 data_in_bv.set32(1,0x01010203);
 data_in_bv.set32(2,0x03030303);
 data_in_bv.set32(3,0xfd000100);
 addr = 0x00929926;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe00030303000201);
 data_in_bv.set32(0,0x02020300);
 data_in_bv.set32(1,0x01010001);
 data_in_bv.set32(2,0x01020003);
 data_in_bv.set32(3,0x02020202);
 addr = 0x02e41fa6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0101b701,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0202030200010100);
 data_in_bv.set32(0,0x02000301);
 data_in_bv.set32(1,0x02020003);
 data_in_bv.set32(2,0x02010100);
 data_in_bv.set32(3,0x01000103);
 addr = 0x03943df6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100020301020100);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x02030203);
 data_in_bv.set32(2,0x00010303);
 data_in_bv.set32(3,0xfc000100);
 addr = 0x01dc1983;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001ff01,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001010303000102);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x00000102);
 data_in_bv.set32(2,0x02010201);
 data_in_bv.set32(3,0xfe020100);
 addr = 0x01b5e195;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01000200000201);
 data_in_bv.set32(0,0x02010101);
 data_in_bv.set32(1,0x02030000);
 data_in_bv.set32(2,0x00000302);
 data_in_bv.set32(3,0xff010202);
 addr = 0x01b5a1ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff01fe03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03030303010002);
 data_in_bv.set32(0,0x00000200);
 data_in_bv.set32(1,0x01030001);
 data_in_bv.set32(2,0x03020200);
 data_in_bv.set32(3,0x00030103);
 addr = 0x00dcd496;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd01020300010202);
 data_in_bv.set32(0,0x02000103);
 data_in_bv.set32(1,0x02010100);
 data_in_bv.set32(2,0x02010200);
 data_in_bv.set32(3,0xff000001);
 addr = 0x02e5ce2f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0201b700,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0002030103010203);
 data_in_bv.set32(0,0x01010001);
 data_in_bv.set32(1,0x03010301);
 data_in_bv.set32(2,0x01020103);
 data_in_bv.set32(3,0xfe020102);
 addr = 0x00f06f39;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0303000001030100);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x02020100);
 data_in_bv.set32(2,0x00030301);
 data_in_bv.set32(3,0x01030102);
 addr = 0x0189fa10;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00030200030003);
 data_in_bv.set32(0,0x01020101);
 data_in_bv.set32(1,0x01020102);
 data_in_bv.set32(2,0x03010000);
 data_in_bv.set32(3,0x01000201);
 addr = 0x03a9efe7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x010001fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02020001020003);
 data_in_bv.set32(0,0x03030000);
 data_in_bv.set32(1,0x01030302);
 data_in_bv.set32(2,0x00020101);
 data_in_bv.set32(3,0xfc010201);
 addr = 0x03d90648;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000201fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02010102020203);
 data_in_bv.set32(0,0x00010101);
 data_in_bv.set32(1,0x03020000);
 data_in_bv.set32(2,0x00010101);
 data_in_bv.set32(3,0x00010003);
 addr = 0x02ef30b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0202010000020103);
 data_in_bv.set32(0,0x01010000);
 data_in_bv.set32(1,0x01020201);
 data_in_bv.set32(2,0x03030302);
 data_in_bv.set32(3,0x02010301);
 addr = 0x02b60d87;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0101b700,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd03010303000201);
 data_in_bv.set32(0,0x02030300);
 data_in_bv.set32(1,0x03030000);
 data_in_bv.set32(2,0x01020301);
 data_in_bv.set32(3,0xfc030100);
 addr = 0x02f248cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0102b701,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff03020101030103);
 data_in_bv.set32(0,0x03020101);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x01030200);
 data_in_bv.set32(3,0x03000003);
 addr = 0x02a5688f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0302b701,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff01020201000202);
 data_in_bv.set32(0,0x03000001);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x02030200);
 data_in_bv.set32(3,0x00020103);
 addr = 0x00af61da;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0001030001020001);
 data_in_bv.set32(0,0x02010003);
 data_in_bv.set32(1,0x01000300);
 data_in_bv.set32(2,0x03020100);
 data_in_bv.set32(3,0xff030201);
 addr = 0x02f7c1ac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0100b700,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe02000303010201);
 data_in_bv.set32(0,0x01020101);
 data_in_bv.set32(1,0x02000001);
 data_in_bv.set32(2,0x01010303);
 data_in_bv.set32(3,0xfd000103);
 addr = 0x03b34c62;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd0001fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01010201020102);
 data_in_bv.set32(0,0x03020200);
 data_in_bv.set32(1,0x01020100);
 data_in_bv.set32(2,0x02030302);
 data_in_bv.set32(3,0xfd030001);
 addr = 0x02fe6fb6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff00000300020300);
 data_in_bv.set32(0,0x00030102);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x01020101);
 data_in_bv.set32(3,0xfd030102);
 addr = 0x00f4954c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe03000200000201);
 data_in_bv.set32(0,0x02000203);
 data_in_bv.set32(1,0x01030100);
 data_in_bv.set32(2,0x01020103);
 data_in_bv.set32(3,0xfd030303);
 addr = 0x03c03283;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x020001fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02010201000002);
 data_in_bv.set32(0,0x03030303);
 data_in_bv.set32(1,0x03010001);
 data_in_bv.set32(2,0x01030203);
 data_in_bv.set32(3,0x01000302);
 addr = 0x02cd8652;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0200020101010100);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x01000101);
 data_in_bv.set32(2,0x01020000);
 data_in_bv.set32(3,0x01000103);
 addr = 0x02a3e34c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0102b700,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd01010000030002);
 data_in_bv.set32(0,0x01030203);
 data_in_bv.set32(1,0x00020302);
 data_in_bv.set32(2,0x01030200);
 data_in_bv.set32(3,0xfd020100);
 addr = 0x00953e21;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0102030103010001);
 data_in_bv.set32(0,0x00030100);
 data_in_bv.set32(1,0x01030001);
 data_in_bv.set32(2,0x02030001);
 data_in_bv.set32(3,0x01010302);
 addr = 0x02e7dc5a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc03030100030100);
 data_in_bv.set32(0,0x03020003);
 data_in_bv.set32(1,0x00030200);
 data_in_bv.set32(2,0x02020001);
 data_in_bv.set32(3,0xfd010103);
 addr = 0x01dca24d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0202ff01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01020002030301);
 data_in_bv.set32(0,0x00020102);
 data_in_bv.set32(1,0x01010100);
 data_in_bv.set32(2,0x02000301);
 data_in_bv.set32(3,0x01020203);
 addr = 0x03c635ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x020001fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302010200030301);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x03030200);
 data_in_bv.set32(2,0x00020201);
 data_in_bv.set32(3,0x02000101);
 addr = 0x019c89e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0200ff03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03030300000000);
 data_in_bv.set32(0,0x03000003);
 data_in_bv.set32(1,0x00020103);
 data_in_bv.set32(2,0x00030201);
 data_in_bv.set32(3,0xfd010201);
 addr = 0x03faf788;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x030000fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001030303030102);
 data_in_bv.set32(0,0x01000203);
 data_in_bv.set32(1,0x01030203);
 data_in_bv.set32(2,0x00000102);
 data_in_bv.set32(3,0x00000201);
 addr = 0x0283b1b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0100000101030102);
 data_in_bv.set32(0,0x03030302);
 data_in_bv.set32(1,0x03010002);
 data_in_bv.set32(2,0x00010303);
 data_in_bv.set32(3,0x03030203);
 addr = 0x01b7f716;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff050302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00030002020301);
 data_in_bv.set32(0,0x02020002);
 data_in_bv.set32(1,0x01020202);
 data_in_bv.set32(2,0x01020200);
 data_in_bv.set32(3,0xff010300);
 addr = 0x03a34ac8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x010201fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100020303030002);
 data_in_bv.set32(0,0x03020201);
 data_in_bv.set32(1,0x01030203);
 data_in_bv.set32(2,0x03000301);
 data_in_bv.set32(3,0x01020102);
 addr = 0x01ef42e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0102fe04,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00020101030201);
 data_in_bv.set32(0,0x01010201);
 data_in_bv.set32(1,0x01010300);
 data_in_bv.set32(2,0x01020301);
 data_in_bv.set32(3,0xfe010001);
 addr = 0x03d7e15c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01020302000001);
 data_in_bv.set32(0,0x00000300);
 data_in_bv.set32(1,0x03010001);
 data_in_bv.set32(2,0x01010003);
 data_in_bv.set32(3,0xfe000303);
 addr = 0x02a97427;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0301b701,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0003030302020300);
 data_in_bv.set32(0,0x01020200);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x02000302);
 data_in_bv.set32(3,0x03030002);
 addr = 0x029422bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc01020303010102);
 data_in_bv.set32(0,0x01000102);
 data_in_bv.set32(1,0x02030102);
 data_in_bv.set32(2,0x01000002);
 data_in_bv.set32(3,0x00030000);
 addr = 0x03961d76;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00020202020201);
 data_in_bv.set32(0,0x02000302);
 data_in_bv.set32(1,0x01020000);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0x01030001);
 addr = 0x00fb74b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0100030302010002);
 data_in_bv.set32(0,0x00020301);
 data_in_bv.set32(1,0x02030200);
 data_in_bv.set32(2,0x02020001);
 data_in_bv.set32(3,0xfe000103);
 addr = 0x01d026db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe040001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00010103010101);
 data_in_bv.set32(0,0x02020100);
 data_in_bv.set32(1,0x00030103);
 data_in_bv.set32(2,0x01020302);
 data_in_bv.set32(3,0xfe000200);
 addr = 0x03919805;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x020201fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101020000030201);
 data_in_bv.set32(0,0x00010101);
 data_in_bv.set32(1,0x02010100);
 data_in_bv.set32(2,0x00030101);
 data_in_bv.set32(3,0xfd010302);
 addr = 0x03b55679;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103020200020201);
 data_in_bv.set32(0,0x00010201);
 data_in_bv.set32(1,0x00010201);
 data_in_bv.set32(2,0x03020103);
 data_in_bv.set32(3,0xfd030200);
 addr = 0x01c5b292;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03020002000000);
 data_in_bv.set32(0,0x02020103);
 data_in_bv.set32(1,0x01000301);
 data_in_bv.set32(2,0x01010300);
 data_in_bv.set32(3,0xff000200);
 addr = 0x00c770a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe02030103030201);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x01020002);
 data_in_bv.set32(2,0x03000101);
 data_in_bv.set32(3,0xfe020201);
 addr = 0x03cee651;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00010203020103);
 data_in_bv.set32(0,0x03010002);
 data_in_bv.set32(1,0x00030203);
 data_in_bv.set32(2,0x01030001);
 data_in_bv.set32(3,0xfd010001);
 addr = 0x02ac6f1b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0000030001020203);
 data_in_bv.set32(0,0x01000303);
 data_in_bv.set32(1,0x03030203);
 data_in_bv.set32(2,0x00010100);
 data_in_bv.set32(3,0xff000101);
 addr = 0x01fb3015;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102000002000003);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x02000200);
 data_in_bv.set32(2,0x02030203);
 data_in_bv.set32(3,0xff000103);
 addr = 0x00f392b0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc02010303030200);
 data_in_bv.set32(0,0x01020100);
 data_in_bv.set32(1,0x02020001);
 data_in_bv.set32(2,0x01020202);
 data_in_bv.set32(3,0xff000001);
 addr = 0x02fb7300;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0102b700,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc03020300030300);
 data_in_bv.set32(0,0x01030301);
 data_in_bv.set32(1,0x03000101);
 data_in_bv.set32(2,0x03010103);
 data_in_bv.set32(3,0x03030000);
 addr = 0x00ba542e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0203000102010303);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x03010303);
 data_in_bv.set32(2,0x03010303);
 data_in_bv.set32(3,0x00010302);
 addr = 0x03aa4cd1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03030003020102);
 data_in_bv.set32(0,0x03030002);
 data_in_bv.set32(1,0x00000201);
 data_in_bv.set32(2,0x01020300);
 data_in_bv.set32(3,0x00010103);
 addr = 0x019e7ca6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000ff03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00030003030103);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x02020102);
 data_in_bv.set32(2,0x00010103);
 data_in_bv.set32(3,0x01030001);
 addr = 0x01e6d2ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0103ff04,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103010200030003);
 data_in_bv.set32(0,0x02010200);
 data_in_bv.set32(1,0x02020301);
 data_in_bv.set32(2,0x02010302);
 data_in_bv.set32(3,0x01030302);
 addr = 0x0190b3ba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe050301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202010301000002);
 data_in_bv.set32(0,0x01030303);
 data_in_bv.set32(1,0x00020302);
 data_in_bv.set32(2,0x01030302);
 data_in_bv.set32(3,0x01030201);
 addr = 0x019d5ada;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff050302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00020201010002);
 data_in_bv.set32(0,0x02030002);
 data_in_bv.set32(1,0x02010202);
 data_in_bv.set32(2,0x03000302);
 data_in_bv.set32(3,0x00020100);
 addr = 0x00a57cec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0302020102030101);
 data_in_bv.set32(0,0x03020303);
 data_in_bv.set32(1,0x01000000);
 data_in_bv.set32(2,0x02010001);
 data_in_bv.set32(3,0xfe030201);
 addr = 0x01e7c575;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff040201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202000303010001);
 data_in_bv.set32(0,0x00020200);
 data_in_bv.set32(1,0x00020100);
 data_in_bv.set32(2,0x00000301);
 data_in_bv.set32(3,0xfd000100);
 addr = 0x02b08deb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd00b700,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0300030201000100);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030301);
 data_in_bv.set32(2,0x00030203);
 data_in_bv.set32(3,0xfe030202);
 addr = 0x01b0e9ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003ff01,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302010201030303);
 data_in_bv.set32(0,0x02010200);
 data_in_bv.set32(1,0x03010002);
 data_in_bv.set32(2,0x01020000);
 data_in_bv.set32(3,0xfd010303);
 addr = 0x01817508;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0201fe03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100000303030303);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x02030000);
 data_in_bv.set32(2,0x02000000);
 data_in_bv.set32(3,0xfc030300);
 addr = 0x00ad0b53;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0301030001020001);
 data_in_bv.set32(0,0x01000202);
 data_in_bv.set32(1,0x02020101);
 data_in_bv.set32(2,0x01010202);
 data_in_bv.set32(3,0xff030102);
 addr = 0x00c91a7c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0102010002010200);
 data_in_bv.set32(0,0x03020201);
 data_in_bv.set32(1,0x01030103);
 data_in_bv.set32(2,0x03030202);
 data_in_bv.set32(3,0xfc000303);
 addr = 0x02d65b73;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0202030000020203);
 data_in_bv.set32(0,0x01020101);
 data_in_bv.set32(1,0x03020201);
 data_in_bv.set32(2,0x03000001);
 data_in_bv.set32(3,0x02010001);
 addr = 0x01c01c82;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0102ff05,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203010302010000);
 data_in_bv.set32(0,0x03010202);
 data_in_bv.set32(1,0x01000101);
 data_in_bv.set32(2,0x01030101);
 data_in_bv.set32(3,0x02000202);
 addr = 0x01810bc1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0103ff01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03020301000202);
 data_in_bv.set32(0,0x03010202);
 data_in_bv.set32(1,0x01000101);
 data_in_bv.set32(2,0x0103ff01);
 data_in_bv.set32(3,0x02000202);
 addr = 0x03810ba1;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x010000fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0103ff01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02010203000002);
 data_in_bv.set32(0,0x01010101);
 data_in_bv.set32(1,0x02020003);
 data_in_bv.set32(2,0x02010103);
 data_in_bv.set32(3,0xfc010201);
 addr = 0x01fd7e8f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0101ff03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301020001030302);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x02020302);
 data_in_bv.set32(3,0xfe010103);
 addr = 0x01f6e232;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102010303020101);
 data_in_bv.set32(0,0x02030202);
 data_in_bv.set32(1,0x01000002);
 data_in_bv.set32(2,0x01000000);
 data_in_bv.set32(3,0xfc010000);
 addr = 0x0399747b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03010000010101);
 data_in_bv.set32(0,0x03030300);
 data_in_bv.set32(1,0x01000300);
 data_in_bv.set32(2,0x01000203);
 data_in_bv.set32(3,0xff000302);
 addr = 0x01d6e6ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0100ff04,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300020101020101);
 data_in_bv.set32(0,0x00000300);
 data_in_bv.set32(1,0x02020000);
 data_in_bv.set32(2,0x02010303);
 data_in_bv.set32(3,0x01000303);
 addr = 0x00958e7a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0201010200010200);
 data_in_bv.set32(0,0x02020203);
 data_in_bv.set32(1,0x00020102);
 data_in_bv.set32(2,0x00030203);
 data_in_bv.set32(3,0x01020102);
 addr = 0x01eb6724;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002fe03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03000101030003);
 data_in_bv.set32(0,0x03030302);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x02030103);
 data_in_bv.set32(3,0x03000202);
 addr = 0x018cb7e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0300fe05,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103000302010302);
 data_in_bv.set32(0,0x02000203);
 data_in_bv.set32(1,0x03030202);
 data_in_bv.set32(2,0x00010100);
 data_in_bv.set32(3,0xfc030002);
 addr = 0x02b4cdae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0303b702,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0001030303020203);
 data_in_bv.set32(0,0x00010203);
 data_in_bv.set32(1,0x03030003);
 data_in_bv.set32(2,0x00030202);
 data_in_bv.set32(3,0x03010300);
 addr = 0x019a500e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001ff07,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01010101030302);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x01030103);
 data_in_bv.set32(2,0x00000202);
 data_in_bv.set32(3,0x01010302);
 addr = 0x00ad005a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0000010203010203);
 data_in_bv.set32(0,0x01030300);
 data_in_bv.set32(1,0x03030003);
 data_in_bv.set32(2,0x02020202);
 data_in_bv.set32(3,0xfe000300);
 addr = 0x029cd1bd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd02010003030203);
 data_in_bv.set32(0,0x02000003);
 data_in_bv.set32(1,0x01020001);
 data_in_bv.set32(2,0x01030000);
 data_in_bv.set32(3,0xfd010202);
 addr = 0x02a284bc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe02010203030200);
 data_in_bv.set32(0,0x00000201);
 data_in_bv.set32(1,0x01010202);
 data_in_bv.set32(2,0x03030303);
 data_in_bv.set32(3,0x01030102);
 addr = 0x03b901b2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03010101030001);
 data_in_bv.set32(0,0x02030101);
 data_in_bv.set32(1,0x03020100);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x01020101);
 addr = 0x02fccb97;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc03020102020302);
 data_in_bv.set32(0,0x01010300);
 data_in_bv.set32(1,0x01000302);
 data_in_bv.set32(2,0x02020300);
 data_in_bv.set32(3,0xfe036c03);
 addr = 0x03800078;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb6c03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03020103030001);
 data_in_bv.set32(0,0x01020301);
 data_in_bv.set32(1,0x01030301);
 data_in_bv.set32(2,0x03010202);
 data_in_bv.set32(3,0xfd000301);
 addr = 0x0288e323;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0103b701,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0302010302030203);
 data_in_bv.set32(0,0x03000003);
 data_in_bv.set32(1,0x00020103);
 data_in_bv.set32(2,0x03000102);
 data_in_bv.set32(3,0xff020202);
 addr = 0x01f05bc1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0300fe05,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03010103010003);
 data_in_bv.set32(0,0x03010002);
 data_in_bv.set32(1,0x01020100);
 data_in_bv.set32(2,0x03010201);
 data_in_bv.set32(3,0x02000101);
 addr = 0x01d125ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0200ff04,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000003030301);
 data_in_bv.set32(0,0x01000200);
 data_in_bv.set32(1,0x00030303);
 data_in_bv.set32(2,0x03010000);
 data_in_bv.set32(3,0x03030003);
 addr = 0x00c2b9fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0302010201020202);
 data_in_bv.set32(0,0x03030100);
 data_in_bv.set32(1,0x02010001);
 data_in_bv.set32(2,0x03020200);
 data_in_bv.set32(3,0x00020302);
 addr = 0x03ff223d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02010203020202);
 data_in_bv.set32(0,0x01000301);
 data_in_bv.set32(1,0x02020302);
 data_in_bv.set32(2,0x01020103);
 data_in_bv.set32(3,0x00010100);
 addr = 0x01e24727;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0202fe05,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03030102010301);
 data_in_bv.set32(0,0x02010200);
 data_in_bv.set32(1,0x00020101);
 data_in_bv.set32(2,0x01030002);
 data_in_bv.set32(3,0x01020003);
 addr = 0x01f766c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0103fe03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103010000020101);
 data_in_bv.set32(0,0x00020100);
 data_in_bv.set32(1,0x02000102);
 data_in_bv.set32(2,0x01030303);
 data_in_bv.set32(3,0x02000000);
 addr = 0x02d10318;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0100000302030201);
 data_in_bv.set32(0,0x00000303);
 data_in_bv.set32(1,0x00020302);
 data_in_bv.set32(2,0x00030201);
 data_in_bv.set32(3,0x03010103);
 addr = 0x038fdd0c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000001fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001030203020301);
 data_in_bv.set32(0,0x03020301);
 data_in_bv.set32(1,0x03030003);
 data_in_bv.set32(2,0x02000001);
 data_in_bv.set32(3,0xfc000301);
 addr = 0x038b17cf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x020001fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02030003030303);
 data_in_bv.set32(0,0x02000102);
 data_in_bv.set32(1,0x03020103);
 data_in_bv.set32(2,0x03010101);
 data_in_bv.set32(3,0x00000001);
 addr = 0x02d29619;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0102000200010001);
 data_in_bv.set32(0,0x01000102);
 data_in_bv.set32(1,0x03000003);
 data_in_bv.set32(2,0x02000202);
 data_in_bv.set32(3,0x02000202);
 addr = 0x01c63d70;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003030103020200);
 data_in_bv.set32(0,0x03030002);
 data_in_bv.set32(1,0x03030102);
 data_in_bv.set32(2,0x03020202);
 data_in_bv.set32(3,0x02020302);
 addr = 0x00d460bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc00030302020100);
 data_in_bv.set32(0,0x00030100);
 data_in_bv.set32(1,0x02020000);
 data_in_bv.set32(2,0x01010000);
 data_in_bv.set32(3,0xff020000);
 addr = 0x0396cd51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00fb0000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01010201000102);
 data_in_bv.set32(0,0x01030203);
 data_in_bv.set32(1,0x03030301);
 data_in_bv.set32(2,0x02020103);
 data_in_bv.set32(3,0xff030202);
 addr = 0x02968035;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0003030202030303);
 data_in_bv.set32(0,0x03010200);
 data_in_bv.set32(1,0x01030100);
 data_in_bv.set32(2,0x03010103);
 data_in_bv.set32(3,0xfc020303);
 addr = 0x00e78797;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff00030202020100);
 data_in_bv.set32(0,0x03030300);
 data_in_bv.set32(1,0x00020100);
 data_in_bv.set32(2,0x00020302);
 data_in_bv.set32(3,0xfe010002);
 addr = 0x03819d6f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe0100fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00030101010202);
 data_in_bv.set32(0,0x01010302);
 data_in_bv.set32(1,0x02010202);
 data_in_bv.set32(2,0x00000300);
 data_in_bv.set32(3,0x00030001);
 addr = 0x01a88352;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100020000030301);
 data_in_bv.set32(0,0x01010101);
 data_in_bv.set32(1,0x02020303);
 data_in_bv.set32(2,0x02010101);
 data_in_bv.set32(3,0x02030102);
 addr = 0x028223c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0201b701,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0103000000020101);
 data_in_bv.set32(0,0x03030303);
 data_in_bv.set32(1,0x03020200);
 data_in_bv.set32(2,0x02010302);
 data_in_bv.set32(3,0x01020101);
 addr = 0x03f10cce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x020101fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03030000010203);
 data_in_bv.set32(0,0x00020100);
 data_in_bv.set32(1,0x00010301);
 data_in_bv.set32(2,0x02030002);
 data_in_bv.set32(3,0xff030200);
 addr = 0x009c6e27;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0100000301020100);
 data_in_bv.set32(0,0x00020100);
 data_in_bv.set32(1,0x00010301);
 data_in_bv.set32(2,0x02030002);
 data_in_bv.set32(3,0xff030200);
 addr = 0x009c6e7d;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd02020000010100);
 data_in_bv.set32(0,0x01010100);
 data_in_bv.set32(1,0x01010002);
 data_in_bv.set32(2,0x00030303);
 data_in_bv.set32(3,0x00000300);
 addr = 0x02effbc2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003b703,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0303020101000103);
 data_in_bv.set32(0,0x02010203);
 data_in_bv.set32(1,0x01030102);
 data_in_bv.set32(2,0x01020001);
 data_in_bv.set32(3,0xfd010002);
 addr = 0x01a40384;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0201ff06,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300000002030201);
 data_in_bv.set32(0,0x02000200);
 data_in_bv.set32(1,0x03000001);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xff010202);
 addr = 0x03d9b3ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000301fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300030200020101);
 data_in_bv.set32(0,0x02030001);
 data_in_bv.set32(1,0x02030301);
 data_in_bv.set32(2,0x02010100);
 data_in_bv.set32(3,0x03000201);
 addr = 0x03dc6023;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x020301fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103020003030000);
 data_in_bv.set32(0,0x03030003);
 data_in_bv.set32(1,0x02010002);
 data_in_bv.set32(2,0x02000201);
 data_in_bv.set32(3,0xff010003);
 addr = 0x02eeeeef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff01b703,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0301010301020202);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x02010201);
 data_in_bv.set32(2,0x03010203);
 data_in_bv.set32(3,0xfd000201);
 addr = 0x03c5069b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301020103030000);
 data_in_bv.set32(0,0x03020202);
 data_in_bv.set32(1,0x00000101);
 data_in_bv.set32(2,0x02030201);
 data_in_bv.set32(3,0x02020201);
 addr = 0x019fb364;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0202ff01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100020101010200);
 data_in_bv.set32(0,0x03010200);
 data_in_bv.set32(1,0x00000300);
 data_in_bv.set32(2,0x02030200);
 data_in_bv.set32(3,0x02020101);
 addr = 0x018e27f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02020300000202);
 data_in_bv.set32(0,0x01020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x03000303);
 data_in_bv.set32(3,0xff030301);
 addr = 0x00efe75f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd02020202000003);
 data_in_bv.set32(0,0x03030101);
 data_in_bv.set32(1,0x01030103);
 data_in_bv.set32(2,0x00030203);
 data_in_bv.set32(3,0x00030100);
 addr = 0x02ddae4e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003b703,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0300000100020301);
 data_in_bv.set32(0,0x03030001);
 data_in_bv.set32(1,0x02000301);
 data_in_bv.set32(2,0x03000001);
 data_in_bv.set32(3,0x01010103);
 addr = 0x01be5b5e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00010001020203);
 data_in_bv.set32(0,0x01010101);
 data_in_bv.set32(1,0x02030102);
 data_in_bv.set32(2,0x02030203);
 data_in_bv.set32(3,0x03000001);
 addr = 0x02e25234;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd02020201030200);
 data_in_bv.set32(0,0x03030302);
 data_in_bv.set32(1,0x03000302);
 data_in_bv.set32(2,0x02010200);
 data_in_bv.set32(3,0xfc010103);
 addr = 0x019d02ab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0300fe03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101000303020103);
 data_in_bv.set32(0,0x01000101);
 data_in_bv.set32(1,0x02010000);
 data_in_bv.set32(2,0x00000201);
 data_in_bv.set32(3,0xfd010000);
 addr = 0x03add860;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd0101fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02000002000001);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x02000103);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0xfd010301);
 addr = 0x02ecbf44;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0101b703,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd00000300030303);
 data_in_bv.set32(0,0x02020000);
 data_in_bv.set32(1,0x00010203);
 data_in_bv.set32(2,0x00010300);
 data_in_bv.set32(3,0x02020303);
 addr = 0x019531ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fe03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203030103010302);
 data_in_bv.set32(0,0x02020003);
 data_in_bv.set32(1,0x01030300);
 data_in_bv.set32(2,0x02020301);
 data_in_bv.set32(3,0xfe010300);
 addr = 0x03c8f7e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe0100fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01030201010000);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x01020303);
 data_in_bv.set32(2,0x03010303);
 data_in_bv.set32(3,0x02030200);
 addr = 0x02810cc5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0301b703,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc03010001020002);
 data_in_bv.set32(0,0x02020102);
 data_in_bv.set32(1,0x01000103);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfd010103);
 addr = 0x0091ff8a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0200000100030102);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x01020101);
 data_in_bv.set32(3,0xff020100);
 addr = 0x03b8e930;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00030101010203);
 data_in_bv.set32(0,0x01000103);
 data_in_bv.set32(1,0x03030001);
 data_in_bv.set32(2,0x01020102);
 data_in_bv.set32(3,0x00000200);
 addr = 0x018e5d47;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0102fe05,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00000301010001);
 data_in_bv.set32(0,0x00030300);
 data_in_bv.set32(1,0x02010002);
 data_in_bv.set32(2,0x02000000);
 data_in_bv.set32(3,0x00020002);
 addr = 0x02ae535f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff02000201000002);
 data_in_bv.set32(0,0x03010002);
 data_in_bv.set32(1,0x00020201);
 data_in_bv.set32(2,0x02000203);
 data_in_bv.set32(3,0xfe010300);
 addr = 0x03dc08cb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x020000fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01020003010102);
 data_in_bv.set32(0,0x00010103);
 data_in_bv.set32(1,0x01020300);
 data_in_bv.set32(2,0x03010302);
 data_in_bv.set32(3,0xfc010201);
 addr = 0x039cca99;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00030301030001);
 data_in_bv.set32(0,0x03020100);
 data_in_bv.set32(1,0x03020100);
 data_in_bv.set32(2,0x02000003);
 data_in_bv.set32(3,0x02030103);
 addr = 0x00fa1316;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd01010001030102);
 data_in_bv.set32(0,0x02020000);
 data_in_bv.set32(1,0x01030100);
 data_in_bv.set32(2,0x01020300);
 data_in_bv.set32(3,0xfe020000);
 addr = 0x038fadcf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x010200fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000010002000100);
 data_in_bv.set32(0,0x02030303);
 data_in_bv.set32(1,0x02030101);
 data_in_bv.set32(2,0x01010301);
 data_in_bv.set32(3,0x02010102);
 addr = 0x029ec319;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0103010302010102);
 data_in_bv.set32(0,0x03010203);
 data_in_bv.set32(1,0x01010101);
 data_in_bv.set32(2,0x01020103);
 data_in_bv.set32(3,0x01010003);
 addr = 0x02ac4f86;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0301b703,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0303030202000301);
 data_in_bv.set32(0,0x00000303);
 data_in_bv.set32(1,0x01020001);
 data_in_bv.set32(2,0x02010000);
 data_in_bv.set32(3,0xfd010102);
 addr = 0x03cb59eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd0101fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300020203030101);
 data_in_bv.set32(0,0x03000103);
 data_in_bv.set32(1,0x01010302);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfe030202);
 addr = 0x01cc864e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003ff02,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03020202030003);
 data_in_bv.set32(0,0x01030301);
 data_in_bv.set32(1,0x03000202);
 data_in_bv.set32(2,0x01000101);
 data_in_bv.set32(3,0x02030301);
 addr = 0x01aa72a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0300fe05,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000010102010202);
 data_in_bv.set32(0,0x02010000);
 data_in_bv.set32(1,0x02020200);
 data_in_bv.set32(2,0x03030200);
 data_in_bv.set32(3,0xff030003);
 addr = 0x02d742e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff03b703,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe02020101030300);
 data_in_bv.set32(0,0x00000303);
 data_in_bv.set32(1,0x00010202);
 data_in_bv.set32(2,0x01000102);
 data_in_bv.set32(3,0xff000001);
 addr = 0x01ead184;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000ff03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03010000000101);
 data_in_bv.set32(0,0x02010200);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfe020102);
 addr = 0x01c76e91;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000010203000100);
 data_in_bv.set32(0,0x02010001);
 data_in_bv.set32(1,0x03030103);
 data_in_bv.set32(2,0x00020102);
 data_in_bv.set32(3,0x00030300);
 addr = 0x03b17be2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x000300fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201020202000000);
 data_in_bv.set32(0,0x00000302);
 data_in_bv.set32(1,0x03010203);
 data_in_bv.set32(2,0x03000202);
 data_in_bv.set32(3,0x02020000);
 addr = 0x00b42f15;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0103020303000201);
 data_in_bv.set32(0,0x03000101);
 data_in_bv.set32(1,0x03000303);
 data_in_bv.set32(2,0x02020300);
 data_in_bv.set32(3,0xfe020101);
 addr = 0x03c1c07b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003020203020200);
 data_in_bv.set32(0,0x00030200);
 data_in_bv.set32(1,0x00010301);
 data_in_bv.set32(2,0x01010100);
 data_in_bv.set32(3,0x01020001);
 addr = 0x028d3310;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0302030101010102);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x01020003);
 data_in_bv.set32(2,0x01030202);
 data_in_bv.set32(3,0xfd000300);
 addr = 0x01b032cb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0103fe04,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00000203010201);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x03000303);
 data_in_bv.set32(2,0x00010100);
 data_in_bv.set32(3,0x02030203);
 addr = 0x03982cfd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03000002020203);
 data_in_bv.set32(0,0x00010200);
 data_in_bv.set32(1,0x00020201);
 data_in_bv.set32(2,0x00000103);
 data_in_bv.set32(3,0xfd020003);
 addr = 0x018dd1e7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd02ff06,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01000000020203);
 data_in_bv.set32(0,0x03030101);
 data_in_bv.set32(1,0x00020101);
 data_in_bv.set32(2,0x00030101);
 data_in_bv.set32(3,0xfc000201);
 addr = 0x01dffcc9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003ff05,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01020101010001);
 data_in_bv.set32(0,0x02000101);
 data_in_bv.set32(1,0x03000100);
 data_in_bv.set32(2,0x01010303);
 data_in_bv.set32(3,0x02000203);
 addr = 0x009e02fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe00030101010303);
 data_in_bv.set32(0,0x01000000);
 data_in_bv.set32(1,0x00030302);
 data_in_bv.set32(2,0x00010203);
 data_in_bv.set32(3,0xfc020300);
 addr = 0x00a7609d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0001000203020301);
 data_in_bv.set32(0,0x02020303);
 data_in_bv.set32(1,0x00020301);
 data_in_bv.set32(2,0x03000201);
 data_in_bv.set32(3,0x01010002);
 addr = 0x039d2fa2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x000201fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000002000102);
 data_in_bv.set32(0,0x01000002);
 data_in_bv.set32(1,0x02010103);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0xff010001);
 addr = 0x01b9e2dc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103010301000301);
 data_in_bv.set32(0,0x02010200);
 data_in_bv.set32(1,0x03020302);
 data_in_bv.set32(2,0x02010000);
 data_in_bv.set32(3,0x00030300);
 addr = 0x03d8a291;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203030302020303);
 data_in_bv.set32(0,0x00010102);
 data_in_bv.set32(1,0x02020302);
 data_in_bv.set32(2,0x02030302);
 data_in_bv.set32(3,0xff000302);
 addr = 0x0185afef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff00fe05,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202020103010100);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00030302);
 data_in_bv.set32(2,0x00030202);
 data_in_bv.set32(3,0x00020000);
 addr = 0x02e7475a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff01020101030300);
 data_in_bv.set32(0,0x01000001);
 data_in_bv.set32(1,0x00020300);
 data_in_bv.set32(2,0x03030001);
 data_in_bv.set32(3,0xff030302);
 addr = 0x01a71450;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00000302000301);
 data_in_bv.set32(0,0x03030303);
 data_in_bv.set32(1,0x01000202);
 data_in_bv.set32(2,0x03030301);
 data_in_bv.set32(3,0xfe030202);
 addr = 0x01eb1b3d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201020102030103);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x03020000);
 data_in_bv.set32(2,0x00020302);
 data_in_bv.set32(3,0x03010103);
 addr = 0x02e8418d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0301b700,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff02020002010202);
 data_in_bv.set32(0,0x01010201);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x03020200);
 data_in_bv.set32(3,0x02010202);
 addr = 0x00fec068;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0300030303020200);
 data_in_bv.set32(0,0x01000103);
 data_in_bv.set32(1,0x03000001);
 data_in_bv.set32(2,0x00000201);
 data_in_bv.set32(3,0xfc020002);
 addr = 0x00a99f66;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc01020103030001);
 data_in_bv.set32(0,0x01030203);
 data_in_bv.set32(1,0x03000102);
 data_in_bv.set32(2,0x03020000);
 data_in_bv.set32(3,0x00020202);
 addr = 0x00bea0c9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd03010103010303);
 data_in_bv.set32(0,0x02010303);
 data_in_bv.set32(1,0x00000203);
 data_in_bv.set32(2,0x02000202);
 data_in_bv.set32(3,0xff030103);
 addr = 0x01f8626d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff03ff07,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200030002030103);
 data_in_bv.set32(0,0x01000203);
 data_in_bv.set32(1,0x01000300);
 data_in_bv.set32(2,0x02000101);
 data_in_bv.set32(3,0x03010202);
 addr = 0x02f7f3b7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0102030302010203);
 data_in_bv.set32(0,0x01020101);
 data_in_bv.set32(1,0x02030103);
 data_in_bv.set32(2,0x03000201);
 data_in_bv.set32(3,0xfd000201);
 addr = 0x02fba094;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd01000003030200);
 data_in_bv.set32(0,0x02000101);
 data_in_bv.set32(1,0x03010302);
 data_in_bv.set32(2,0x01020103);
 data_in_bv.set32(3,0xfd020303);
 addr = 0x019899a0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0301fe03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100030103020003);
 data_in_bv.set32(0,0x01010300);
 data_in_bv.set32(1,0x01000301);
 data_in_bv.set32(2,0x01030300);
 data_in_bv.set32(3,0x00030101);
 addr = 0x00e712b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe03030202020203);
 data_in_bv.set32(0,0x02010000);
 data_in_bv.set32(1,0x03000001);
 data_in_bv.set32(2,0x01010202);
 data_in_bv.set32(3,0xff020302);
 addr = 0x02ed0707;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0201b700,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0102020000030003);
 data_in_bv.set32(0,0x00020302);
 data_in_bv.set32(1,0x03020300);
 data_in_bv.set32(2,0x02030301);
 data_in_bv.set32(3,0xfd020302);
 addr = 0x02af4ec9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0203b701,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc03020302000003);
 data_in_bv.set32(0,0x02010302);
 data_in_bv.set32(1,0x00030100);
 data_in_bv.set32(2,0x02020302);
 data_in_bv.set32(3,0xfe030300);
 addr = 0x0196f53a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff060100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001020202020001);
 data_in_bv.set32(0,0x03020003);
 data_in_bv.set32(1,0x01000000);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0x02000003);
 addr = 0x00feb6b7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0001030001010202);
 data_in_bv.set32(0,0x00030200);
 data_in_bv.set32(1,0x01030201);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfe030101);
 addr = 0x02945260;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe03b701,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0001030102010101);
 data_in_bv.set32(0,0x01030202);
 data_in_bv.set32(1,0x01020303);
 data_in_bv.set32(2,0x02000301);
 data_in_bv.set32(3,0xff000100);
 addr = 0x02a33183;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0103b702,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0102030302000001);
 data_in_bv.set32(0,0x00000301);
 data_in_bv.set32(1,0x01020002);
 data_in_bv.set32(2,0x03020102);
 data_in_bv.set32(3,0xfe030101);
 addr = 0x028b64fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe00020300020300);
 data_in_bv.set32(0,0x03000201);
 data_in_bv.set32(1,0x01030300);
 data_in_bv.set32(2,0x03010203);
 data_in_bv.set32(3,0x00000200);
 addr = 0x01c06cc1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0301ff03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03000101020000);
 data_in_bv.set32(0,0x03030202);
 data_in_bv.set32(1,0x03030100);
 data_in_bv.set32(2,0x03030302);
 data_in_bv.set32(3,0x03000100);
 addr = 0x01b301fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001030100010301);
 data_in_bv.set32(0,0x00020202);
 data_in_bv.set32(1,0x03000202);
 data_in_bv.set32(2,0x03010001);
 data_in_bv.set32(3,0x02000001);
 addr = 0x039cc731;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00020303030300);
 data_in_bv.set32(0,0x02020101);
 data_in_bv.set32(1,0x03000302);
 data_in_bv.set32(2,0x02030200);
 data_in_bv.set32(3,0xfe030102);
 addr = 0x00f574a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd00030301020001);
 data_in_bv.set32(0,0x02020001);
 data_in_bv.set32(1,0x01000200);
 data_in_bv.set32(2,0x01020202);
 data_in_bv.set32(3,0xfc030003);
 addr = 0x0288ef37;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0002030303000000);
 data_in_bv.set32(0,0x00030203);
 data_in_bv.set32(1,0x01000101);
 data_in_bv.set32(2,0x02000000);
 data_in_bv.set32(3,0xfe010101);
 addr = 0x029f4b25;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0100b701,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff01000101020303);
 data_in_bv.set32(0,0x02030302);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x01020101);
 data_in_bv.set32(3,0xfc010003);
 addr = 0x02b9dbf0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0300010300020203);
 data_in_bv.set32(0,0x03020302);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x02030103);
 data_in_bv.set32(3,0xfe020002);
 addr = 0x03a5b1b5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303000200000200);
 data_in_bv.set32(0,0x02020003);
 data_in_bv.set32(1,0x01020002);
 data_in_bv.set32(2,0x03020100);
 data_in_bv.set32(3,0xfc020101);
 addr = 0x03e4e183;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x020200fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00030003030101);
 data_in_bv.set32(0,0x00030301);
 data_in_bv.set32(1,0x01010200);
 data_in_bv.set32(2,0x03000102);
 data_in_bv.set32(3,0xfc030101);
 addr = 0x00b5bc39;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd02010103010102);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x02020302);
 data_in_bv.set32(2,0x02000100);
 data_in_bv.set32(3,0xfd010100);
 addr = 0x008bbb3e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd00000101000001);
 data_in_bv.set32(0,0x02020201);
 data_in_bv.set32(1,0x00020102);
 data_in_bv.set32(2,0x02010300);
 data_in_bv.set32(3,0xff020203);
 addr = 0x00cc7c2a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0202030000020101);
 data_in_bv.set32(0,0x00010102);
 data_in_bv.set32(1,0x00010100);
 data_in_bv.set32(2,0x02000102);
 data_in_bv.set32(3,0x03010302);
 addr = 0x00d9acbe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff00020203020002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00000300);
 data_in_bv.set32(2,0x02010003);
 data_in_bv.set32(3,0xfd010303);
 addr = 0x01f2924a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0201ff05,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01000000010100);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x01020303);
 data_in_bv.set32(2,0x02000001);
 data_in_bv.set32(3,0xff010300);
 addr = 0x00e0208d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0101030301020201);
 data_in_bv.set32(0,0x02010300);
 data_in_bv.set32(1,0x02000203);
 data_in_bv.set32(2,0x03020002);
 data_in_bv.set32(3,0xfe010302);
 addr = 0x02b8154f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0302b702,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc00020001020000);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x02010103);
 data_in_bv.set32(2,0x03020301);
 data_in_bv.set32(3,0xff020102);
 addr = 0x00f36a84;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc01020303010003);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x02030003);
 data_in_bv.set32(2,0x02010301);
 data_in_bv.set32(3,0x02030101);
 addr = 0x01a79715;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03030200030103);
 data_in_bv.set32(0,0x00010103);
 data_in_bv.set32(1,0x03020300);
 data_in_bv.set32(2,0x02030002);
 data_in_bv.set32(3,0xfc020102);
 addr = 0x01d7c8f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe050102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01010301020200);
 data_in_bv.set32(0,0x01020103);
 data_in_bv.set32(1,0x02010301);
 data_in_bv.set32(2,0x03020001);
 data_in_bv.set32(3,0x00020202);
 addr = 0x0089eb50;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff02010100010100);
 data_in_bv.set32(0,0x02000001);
 data_in_bv.set32(1,0x00000101);
 data_in_bv.set32(2,0x00020102);
 data_in_bv.set32(3,0xff030303);
 addr = 0x0391bbb7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03010100000302);
 data_in_bv.set32(0,0x01020302);
 data_in_bv.set32(1,0x03010301);
 data_in_bv.set32(2,0x01000203);
 data_in_bv.set32(3,0x01030201);
 addr = 0x03bb0eae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x030100fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00030101030101);
 data_in_bv.set32(0,0x02020101);
 data_in_bv.set32(1,0x02000000);
 data_in_bv.set32(2,0x01000201);
 data_in_bv.set32(3,0xff000101);
 addr = 0x02969303;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0202b701,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0102020003000103);
 data_in_bv.set32(0,0x01010003);
 data_in_bv.set32(1,0x01030101);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x02030100);
 addr = 0x0080e6e0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc00020303030202);
 data_in_bv.set32(0,0x00020103);
 data_in_bv.set32(1,0x02030201);
 data_in_bv.set32(2,0x02020300);
 data_in_bv.set32(3,0xfe020002);
 addr = 0x00e3e345;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd03020002020203);
 data_in_bv.set32(0,0x03020202);
 data_in_bv.set32(1,0x03010101);
 data_in_bv.set32(2,0x00020002);
 data_in_bv.set32(3,0xfd010302);
 addr = 0x019139fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff050302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02020103010002);
 data_in_bv.set32(0,0x02000000);
 data_in_bv.set32(1,0x00000101);
 data_in_bv.set32(2,0x01000103);
 data_in_bv.set32(3,0x00010103);
 addr = 0x0287b955;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff00030102000203);
 data_in_bv.set32(0,0x01020200);
 data_in_bv.set32(1,0x01000302);
 data_in_bv.set32(2,0x03010303);
 data_in_bv.set32(3,0xfd000203);
 addr = 0x02ed2ae4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd00b703,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0103000300000302);
 data_in_bv.set32(0,0x01010303);
 data_in_bv.set32(1,0x01030001);
 data_in_bv.set32(2,0x02000303);
 data_in_bv.set32(3,0xfe020203);
 addr = 0x02b43bbc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd00030303010000);
 data_in_bv.set32(0,0x03020000);
 data_in_bv.set32(1,0x03010301);
 data_in_bv.set32(2,0x03000001);
 data_in_bv.set32(3,0x01010000);
 addr = 0x03b0224e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x030000fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000300000101);
 data_in_bv.set32(0,0x03030303);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00010200);
 data_in_bv.set32(3,0xfe010002);
 addr = 0x03ec3525;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x000001fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301000302020100);
 data_in_bv.set32(0,0x02020302);
 data_in_bv.set32(1,0x01010200);
 data_in_bv.set32(2,0x03010203);
 data_in_bv.set32(3,0x03020200);
 addr = 0x02fe7d38;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd00030000000303);
 data_in_bv.set32(0,0x02010301);
 data_in_bv.set32(1,0x00000102);
 data_in_bv.set32(2,0x03020001);
 data_in_bv.set32(3,0x00000303);
 addr = 0x02a71f3a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0301020100010201);
 data_in_bv.set32(0,0x01020200);
 data_in_bv.set32(1,0x03030303);
 data_in_bv.set32(2,0x02000202);
 data_in_bv.set32(3,0xfe030203);
 addr = 0x02af6460;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe03b703,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0100010201000300);
 data_in_bv.set32(0,0x01020003);
 data_in_bv.set32(1,0x02020301);
 data_in_bv.set32(2,0x03030002);
 data_in_bv.set32(3,0xff030302);
 addr = 0x03e16176;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03010303010103);
 data_in_bv.set32(0,0x03010003);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x02030301);
 data_in_bv.set32(3,0x00000002);
 addr = 0x01966826;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0200ff06,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302010201020200);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x02000102);
 data_in_bv.set32(2,0x02000301);
 data_in_bv.set32(3,0xff010203);
 addr = 0x03f6d501;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000300fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202000201030201);
 data_in_bv.set32(0,0x01000303);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x03000201);
 data_in_bv.set32(3,0x02000001);
 addr = 0x01d97ab4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01020001030201);
 data_in_bv.set32(0,0x01030303);
 data_in_bv.set32(1,0x01030303);
 data_in_bv.set32(2,0x01010100);
 data_in_bv.set32(3,0xfe020200);
 addr = 0x0295d9cc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0101b700,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0203030003010003);
 data_in_bv.set32(0,0x00020102);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x03020203);
 data_in_bv.set32(3,0xfe030100);
 addr = 0x02ec52b3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff00000303010303);
 data_in_bv.set32(0,0x01020200);
 data_in_bv.set32(1,0x00000201);
 data_in_bv.set32(2,0x02030102);
 data_in_bv.set32(3,0xfc010103);
 addr = 0x03df66ed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc0101fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03010302010000);
 data_in_bv.set32(0,0x01020200);
 data_in_bv.set32(1,0x03030003);
 data_in_bv.set32(2,0x00030303);
 data_in_bv.set32(3,0x01030300);
 addr = 0x0085ac38;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0203020302010303);
 data_in_bv.set32(0,0x02020303);
 data_in_bv.set32(1,0x02030301);
 data_in_bv.set32(2,0x01000303);
 data_in_bv.set32(3,0x01000202);
 addr = 0x03c4053d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100010300000003);
 data_in_bv.set32(0,0x03020002);
 data_in_bv.set32(1,0x00000202);
 data_in_bv.set32(2,0x03020102);
 data_in_bv.set32(3,0xfe020003);
 addr = 0x02e855c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0302b702,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0102010002030200);
 data_in_bv.set32(0,0x03000303);
 data_in_bv.set32(1,0x02020001);
 data_in_bv.set32(2,0x00020301);
 data_in_bv.set32(3,0xfc030001);
 addr = 0x039d5ce4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc0300fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200030002010103);
 data_in_bv.set32(0,0x00020302);
 data_in_bv.set32(1,0x03030103);
 data_in_bv.set32(2,0x02000001);
 data_in_bv.set32(3,0xfd020101);
 addr = 0x0396a353;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02020300030202);
 data_in_bv.set32(0,0x00010101);
 data_in_bv.set32(1,0x02000203);
 data_in_bv.set32(2,0x03010300);
 data_in_bv.set32(3,0x03020001);
 addr = 0x018013b2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00030301020202);
 data_in_bv.set32(0,0x03030002);
 data_in_bv.set32(1,0x01000202);
 data_in_bv.set32(2,0x01030001);
 data_in_bv.set32(3,0xfc020001);
 addr = 0x03bfff85;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x030300fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000302030100);
 data_in_bv.set32(0,0x02020201);
 data_in_bv.set32(1,0x03000201);
 data_in_bv.set32(2,0x03030303);
 data_in_bv.set32(3,0xfe020103);
 addr = 0x01de3d2b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0300ff01,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302000301020203);
 data_in_bv.set32(0,0x00000202);
 data_in_bv.set32(1,0x01030103);
 data_in_bv.set32(2,0x00010302);
 data_in_bv.set32(3,0x00030203);
 addr = 0x03e7f904;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000001fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00030300000003);
 data_in_bv.set32(0,0x02030101);
 data_in_bv.set32(1,0x02020000);
 data_in_bv.set32(2,0x00010101);
 data_in_bv.set32(3,0x02000302);
 addr = 0x02948e13;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe01030101030300);
 data_in_bv.set32(0,0x02020302);
 data_in_bv.set32(1,0x01000301);
 data_in_bv.set32(2,0x01000103);
 data_in_bv.set32(3,0xfd000203);
 addr = 0x0197f911;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01000301010100);
 data_in_bv.set32(0,0x03010203);
 data_in_bv.set32(1,0x00010200);
 data_in_bv.set32(2,0x02010102);
 data_in_bv.set32(3,0xfc000203);
 addr = 0x028d25a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001b700,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0103030001030001);
 data_in_bv.set32(0,0x01030302);
 data_in_bv.set32(1,0x00020302);
 data_in_bv.set32(2,0x02000202);
 data_in_bv.set32(3,0x03030000);
 addr = 0x008a275e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0101020101020201);
 data_in_bv.set32(0,0x00010303);
 data_in_bv.set32(1,0x02020102);
 data_in_bv.set32(2,0x03020200);
 data_in_bv.set32(3,0xfd020000);
 addr = 0x03bbaa41;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x030201fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02020301030201);
 data_in_bv.set32(0,0x02030101);
 data_in_bv.set32(1,0x00030201);
 data_in_bv.set32(2,0x00020203);
 data_in_bv.set32(3,0xfe000202);
 addr = 0x02ec3c31;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe03030101020302);
 data_in_bv.set32(0,0x02020301);
 data_in_bv.set32(1,0x01030103);
 data_in_bv.set32(2,0x01000102);
 data_in_bv.set32(3,0xff010301);
 addr = 0x03bf8d92;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303000101010201);
 data_in_bv.set32(0,0x02010201);
 data_in_bv.set32(1,0x02020201);
 data_in_bv.set32(2,0x01020102);
 data_in_bv.set32(3,0xfc010302);
 addr = 0x00b3459d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd03030200020201);
 data_in_bv.set32(0,0x00030100);
 data_in_bv.set32(1,0x00020103);
 data_in_bv.set32(2,0x02000000);
 data_in_bv.set32(3,0x00030102);
 addr = 0x03a53dff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01010302020303);
 data_in_bv.set32(0,0x03000101);
 data_in_bv.set32(1,0x00000203);
 data_in_bv.set32(2,0x02010300);
 data_in_bv.set32(3,0xfc020303);
 addr = 0x02b09747;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0201b700,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0301010201010302);
 data_in_bv.set32(0,0x03020000);
 data_in_bv.set32(1,0x00010203);
 data_in_bv.set32(2,0x00010200);
 data_in_bv.set32(3,0x02020303);
 addr = 0x02d0cf49;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001b700,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0201010100000300);
 data_in_bv.set32(0,0x02020200);
 data_in_bv.set32(1,0x02030002);
 data_in_bv.set32(2,0x03030102);
 data_in_bv.set32(3,0x02030101);
 addr = 0x02f25be2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0203b701,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0301000302000101);
 data_in_bv.set32(0,0x01000000);
 data_in_bv.set32(1,0x03010303);
 data_in_bv.set32(2,0x02020102);
 data_in_bv.set32(3,0xfc000300);
 addr = 0x00bb61ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0302020100030303);
 data_in_bv.set32(0,0x02010102);
 data_in_bv.set32(1,0x01010302);
 data_in_bv.set32(2,0x01010103);
 data_in_bv.set32(3,0x00010201);
 addr = 0x02e35080;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0201b702,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc02000301030301);
 data_in_bv.set32(0,0x00030202);
 data_in_bv.set32(1,0x01000203);
 data_in_bv.set32(2,0x02030100);
 data_in_bv.set32(3,0xff030001);
 addr = 0x03f3c75c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02010203020101);
 data_in_bv.set32(0,0x01000202);
 data_in_bv.set32(1,0x03010300);
 data_in_bv.set32(2,0x01030302);
 data_in_bv.set32(3,0xff000201);
 addr = 0x02cea969;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff00b701,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0000020300020000);
 data_in_bv.set32(0,0x00000203);
 data_in_bv.set32(1,0x01020201);
 data_in_bv.set32(2,0x01030103);
 data_in_bv.set32(3,0x01020200);
 addr = 0x03bed5b7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000102000103);
 data_in_bv.set32(0,0x02000202);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x02000103);
 data_in_bv.set32(3,0x01010302);
 addr = 0x03946a4c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x020001fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301030203020102);
 data_in_bv.set32(0,0x01020101);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00020303);
 data_in_bv.set32(3,0x00010302);
 addr = 0x00fc8d4c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0103020202030100);
 data_in_bv.set32(0,0x00010101);
 data_in_bv.set32(1,0x00030203);
 data_in_bv.set32(2,0x00010300);
 data_in_bv.set32(3,0x00020202);
 addr = 0x0391adea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x000200fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00000201010301);
 data_in_bv.set32(0,0x00030200);
 data_in_bv.set32(1,0x00020201);
 data_in_bv.set32(2,0x00030303);
 data_in_bv.set32(3,0xff030201);
 addr = 0x03d63c6d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff0301fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03010003000101);
 data_in_bv.set32(0,0x03010200);
 data_in_bv.set32(1,0x01000100);
 data_in_bv.set32(2,0x01020001);
 data_in_bv.set32(3,0x02020300);
 addr = 0x03c384a6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x010001fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00000003010003);
 data_in_bv.set32(0,0x02020001);
 data_in_bv.set32(1,0x01000103);
 data_in_bv.set32(2,0x01010200);
 data_in_bv.set32(3,0x00000003);
 addr = 0x028fecd3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff03000202030200);
 data_in_bv.set32(0,0x03010100);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x01030102);
 data_in_bv.set32(3,0x00010000);
 addr = 0x029ce33a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff01000003010003);
 data_in_bv.set32(0,0x01030203);
 data_in_bv.set32(1,0x02010301);
 data_in_bv.set32(2,0x01020300);
 data_in_bv.set32(3,0x01030000);
 addr = 0x00dff3ef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0100010003010103);
 data_in_bv.set32(0,0x01010300);
 data_in_bv.set32(1,0x01020003);
 data_in_bv.set32(2,0x00030203);
 data_in_bv.set32(3,0xff020003);
 addr = 0x02fab6ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003b703,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd03010102000001);
 data_in_bv.set32(0,0x01000201);
 data_in_bv.set32(1,0x03020101);
 data_in_bv.set32(2,0x03010202);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00e334be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff00010201020300);
 data_in_bv.set32(0,0x03030100);
 data_in_bv.set32(1,0x03020202);
 data_in_bv.set32(2,0x02010300);
 data_in_bv.set32(3,0xfe000201);
 addr = 0x03d5bdfc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101020000010302);
 data_in_bv.set32(0,0x01000002);
 data_in_bv.set32(1,0x03030300);
 data_in_bv.set32(2,0x02020301);
 data_in_bv.set32(3,0xfd010202);
 addr = 0x02fd7a1f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0101000303000200);
 data_in_bv.set32(0,0x02030101);
 data_in_bv.set32(1,0x02020100);
 data_in_bv.set32(2,0x03030003);
 data_in_bv.set32(3,0x00020101);
 addr = 0x03e91137;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00030001030101);
 data_in_bv.set32(0,0x02010000);
 data_in_bv.set32(1,0x03000002);
 data_in_bv.set32(2,0x03000302);
 data_in_bv.set32(3,0x01010002);
 addr = 0x0197239c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00020102030203);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x01000002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x00030101);
 addr = 0x029c2225;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0100b702,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd01020303020303);
 data_in_bv.set32(0,0x00000300);
 data_in_bv.set32(1,0x01030102);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfe030300);
 addr = 0x00af3aed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0301030203010200);
 data_in_bv.set32(0,0x00000102);
 data_in_bv.set32(1,0x02030303);
 data_in_bv.set32(2,0x03000300);
 data_in_bv.set32(3,0x02030200);
 addr = 0x00cae33a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd03000301010200);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x00000303);
 data_in_bv.set32(2,0x01020303);
 data_in_bv.set32(3,0x02030001);
 addr = 0x03c226ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x000000fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000020103030002);
 data_in_bv.set32(0,0x02030202);
 data_in_bv.set32(1,0x03000201);
 data_in_bv.set32(2,0x02000103);
 data_in_bv.set32(3,0xfc010201);
 addr = 0x03894f6b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc0100fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02020301010100);
 data_in_bv.set32(0,0x00030101);
 data_in_bv.set32(1,0x03030102);
 data_in_bv.set32(2,0x00000202);
 data_in_bv.set32(3,0x03020102);
 addr = 0x02ff271a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0303020001030202);
 data_in_bv.set32(0,0x02020301);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x02030203);
 data_in_bv.set32(3,0xfe030200);
 addr = 0x03c88781;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x020200fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101030202000200);
 data_in_bv.set32(0,0x02020303);
 data_in_bv.set32(1,0x02020303);
 data_in_bv.set32(2,0x00000200);
 data_in_bv.set32(3,0x02010101);
 addr = 0x01e1aa50;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202030000030300);
 data_in_bv.set32(0,0x03010202);
 data_in_bv.set32(1,0x02010301);
 data_in_bv.set32(2,0x02020201);
 data_in_bv.set32(3,0xfc020000);
 addr = 0x02ba5290;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0102020200020101);
 data_in_bv.set32(0,0x02000302);
 data_in_bv.set32(1,0x01000000);
 data_in_bv.set32(2,0x03020200);
 data_in_bv.set32(3,0xfe020202);
 addr = 0x00d757e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0300020203000200);
 data_in_bv.set32(0,0x01010200);
 data_in_bv.set32(1,0x03030103);
 data_in_bv.set32(2,0x02010101);
 data_in_bv.set32(3,0xfc030201);
 addr = 0x02b0f7ff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff02030000010002);
 data_in_bv.set32(0,0x02030003);
 data_in_bv.set32(1,0x01020100);
 data_in_bv.set32(2,0x01010303);
 data_in_bv.set32(3,0xfd020002);
 addr = 0x02a5dd26;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0102b700,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc02010203020102);
 data_in_bv.set32(0,0x02020101);
 data_in_bv.set32(1,0x00000103);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00030201);
 addr = 0x01bba470;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff050201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100020301020200);
 data_in_bv.set32(0,0x02000301);
 data_in_bv.set32(1,0x01010200);
 data_in_bv.set32(2,0x02000303);
 data_in_bv.set32(3,0x02010002);
 addr = 0x02c4e9a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0101b700,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0003020000030103);
 data_in_bv.set32(0,0x02010103);
 data_in_bv.set32(1,0x00000302);
 data_in_bv.set32(2,0x03010003);
 data_in_bv.set32(3,0x02000100);
 addr = 0x02c0de7d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd01000300000002);
 data_in_bv.set32(0,0x02020300);
 data_in_bv.set32(1,0x03030200);
 data_in_bv.set32(2,0x00010301);
 data_in_bv.set32(3,0x00010203);
 addr = 0x02eaa96d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001b703,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc03010203000003);
 data_in_bv.set32(0,0x01000202);
 data_in_bv.set32(1,0x03010202);
 data_in_bv.set32(2,0x03020100);
 data_in_bv.set32(3,0xfe000200);
 addr = 0x02dc175f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc00000103000103);
 data_in_bv.set32(0,0x00000100);
 data_in_bv.set32(1,0x01000102);
 data_in_bv.set32(2,0x01000001);
 data_in_bv.set32(3,0x03020300);
 addr = 0x03d36ffd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200030302030303);
 data_in_bv.set32(0,0x01000002);
 data_in_bv.set32(1,0x00010203);
 data_in_bv.set32(2,0x01020203);
 data_in_bv.set32(3,0xff010302);
 addr = 0x00e7976d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0103020103020103);
 data_in_bv.set32(0,0x02010002);
 data_in_bv.set32(1,0x01010003);
 data_in_bv.set32(2,0x03020103);
 data_in_bv.set32(3,0x00000302);
 addr = 0x00b0597a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0101000003000001);
 data_in_bv.set32(0,0x03020303);
 data_in_bv.set32(1,0x03020300);
 data_in_bv.set32(2,0x02000203);
 data_in_bv.set32(3,0x00030300);
 addr = 0x02db575e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff02000200030001);
 data_in_bv.set32(0,0x00000302);
 data_in_bv.set32(1,0x01020202);
 data_in_bv.set32(2,0x00010200);
 data_in_bv.set32(3,0x02010300);
 addr = 0x039e30a0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x010201fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203030103030303);
 data_in_bv.set32(0,0x00030202);
 data_in_bv.set32(1,0x01010102);
 data_in_bv.set32(2,0x00000302);
 data_in_bv.set32(3,0x02010102);
 addr = 0x018542a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0101fe05,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102030103020200);
 data_in_bv.set32(0,0x00030200);
 data_in_bv.set32(1,0x00030103);
 data_in_bv.set32(2,0x02000301);
 data_in_bv.set32(3,0x00030200);
 addr = 0x00fda5f3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0103010200030002);
 data_in_bv.set32(0,0x02020103);
 data_in_bv.set32(1,0x01030101);
 data_in_bv.set32(2,0x03000302);
 data_in_bv.set32(3,0x02030302);
 addr = 0x01c711c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0300fe04,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02030002020100);
 data_in_bv.set32(0,0x03030300);
 data_in_bv.set32(1,0x03000100);
 data_in_bv.set32(2,0x02030201);
 data_in_bv.set32(3,0x01030302);
 addr = 0x02ddfe0e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0303b700,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0202020303000201);
 data_in_bv.set32(0,0x02010201);
 data_in_bv.set32(1,0x03000102);
 data_in_bv.set32(2,0x02010302);
 data_in_bv.set32(3,0xfd010103);
 addr = 0x02c84777;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0201000300010301);
 data_in_bv.set32(0,0x02030003);
 data_in_bv.set32(1,0x02000100);
 data_in_bv.set32(2,0x00010100);
 data_in_bv.set32(3,0xfc000200);
 addr = 0x01dd2fb5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101010203030200);
 data_in_bv.set32(0,0x01000002);
 data_in_bv.set32(1,0x00020100);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x01010000);
 addr = 0x00d37540;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0202010003020003);
 data_in_bv.set32(0,0x01000002);
 data_in_bv.set32(1,0x00020100);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x01010000);
 addr = 0x02d37514;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0103010101030300);
 data_in_bv.set32(0,0x00010300);
 data_in_bv.set32(1,0x01000102);
 data_in_bv.set32(2,0x02010202);
 data_in_bv.set32(3,0x00030201);
 addr = 0x00ec9026;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0300030101000202);
 data_in_bv.set32(0,0x03000000);
 data_in_bv.set32(1,0x03010100);
 data_in_bv.set32(2,0x03020001);
 data_in_bv.set32(3,0x01010000);
 addr = 0x03dccd3c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02030302010301);
 data_in_bv.set32(0,0x02030103);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x01030200);
 data_in_bv.set32(3,0x03030302);
 addr = 0x03cee5f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03000101030202);
 data_in_bv.set32(0,0x01030003);
 data_in_bv.set32(1,0x01030200);
 data_in_bv.set32(2,0x03020001);
 data_in_bv.set32(3,0x03030301);
 addr = 0x03b3b3f1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000020003020203);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x02010102);
 data_in_bv.set32(2,0x00000103);
 data_in_bv.set32(3,0x03010301);
 addr = 0x01ca761e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff040003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203030203020100);
 data_in_bv.set32(0,0x01000303);
 data_in_bv.set32(1,0x02010002);
 data_in_bv.set32(2,0x01000201);
 data_in_bv.set32(3,0xfe030301);
 addr = 0x03976d5d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00fb0201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201000100010302);
 data_in_bv.set32(0,0x03000001);
 data_in_bv.set32(1,0x01020102);
 data_in_bv.set32(2,0x03020002);
 data_in_bv.set32(3,0xfd000203);
 addr = 0x00c108b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc03030101020201);
 data_in_bv.set32(0,0x03010201);
 data_in_bv.set32(1,0x00030303);
 data_in_bv.set32(2,0x03010303);
 data_in_bv.set32(3,0x00010103);
 addr = 0x03e759bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200000202000300);
 data_in_bv.set32(0,0x00020300);
 data_in_bv.set32(1,0x02000301);
 data_in_bv.set32(2,0x01000102);
 data_in_bv.set32(3,0xff000002);
 addr = 0x03ea09f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01000302010302);
 data_in_bv.set32(0,0x00010203);
 data_in_bv.set32(1,0x03030301);
 data_in_bv.set32(2,0x01020002);
 data_in_bv.set32(3,0x00020103);
 addr = 0x02fd23ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0303b701,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd02030300030101);
 data_in_bv.set32(0,0x03000200);
 data_in_bv.set32(1,0x01030302);
 data_in_bv.set32(2,0x02030201);
 data_in_bv.set32(3,0x01010202);
 addr = 0x00893978;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe00020301020200);
 data_in_bv.set32(0,0x01000200);
 data_in_bv.set32(1,0x00010100);
 data_in_bv.set32(2,0x03030202);
 data_in_bv.set32(3,0x00020301);
 addr = 0x0295834d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0303b702,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff02000200000303);
 data_in_bv.set32(0,0x00030302);
 data_in_bv.set32(1,0x00030100);
 data_in_bv.set32(2,0x00000203);
 data_in_bv.set32(3,0x02000101);
 addr = 0x01b3a64d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000ff07,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102000103020002);
 data_in_bv.set32(0,0x02000002);
 data_in_bv.set32(1,0x02030200);
 data_in_bv.set32(2,0x00020202);
 data_in_bv.set32(3,0xfd000203);
 addr = 0x01d947b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff050200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300030100030002);
 data_in_bv.set32(0,0x02020300);
 data_in_bv.set32(1,0x01000302);
 data_in_bv.set32(2,0x02010103);
 data_in_bv.set32(3,0xfe000001);
 addr = 0x0399e160;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe0000fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202010203000201);
 data_in_bv.set32(0,0x02010203);
 data_in_bv.set32(1,0x02020003);
 data_in_bv.set32(2,0x03010301);
 data_in_bv.set32(3,0x01020301);
 addr = 0x0081abff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0002010301000000);
 data_in_bv.set32(0,0x01020000);
 data_in_bv.set32(1,0x00030203);
 data_in_bv.set32(2,0x02030200);
 data_in_bv.set32(3,0x02000303);
 addr = 0x0290b3e0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0200b703,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc00030100020103);
 data_in_bv.set32(0,0x00010303);
 data_in_bv.set32(1,0x02010001);
 data_in_bv.set32(2,0x00020100);
 data_in_bv.set32(3,0xfe030003);
 addr = 0x038f919a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201010103030103);
 data_in_bv.set32(0,0x03020203);
 data_in_bv.set32(1,0x02030303);
 data_in_bv.set32(2,0x00010202);
 data_in_bv.set32(3,0x02000001);
 addr = 0x03b501d2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301030100020302);
 data_in_bv.set32(0,0x01000100);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x00020103);
 data_in_bv.set32(3,0x03000001);
 addr = 0x009607f1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc00020103000203);
 data_in_bv.set32(0,0x00000300);
 data_in_bv.set32(1,0x02000002);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xff020200);
 addr = 0x039ffe25;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x020001fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03000001030300);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x03000002);
 data_in_bv.set32(2,0x02000100);
 data_in_bv.set32(3,0xff010103);
 addr = 0x02dc1c0b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b701,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0100020000020103);
 data_in_bv.set32(0,0x02000201);
 data_in_bv.set32(1,0x03020103);
 data_in_bv.set32(2,0x00030200);
 data_in_bv.set32(3,0xfd030002);
 addr = 0x00d71888;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0002000301010303);
 data_in_bv.set32(0,0x01000002);
 data_in_bv.set32(1,0x00000303);
 data_in_bv.set32(2,0x02010201);
 data_in_bv.set32(3,0x00010202);
 addr = 0x01e8274f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0201ff05,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201010102030101);
 data_in_bv.set32(0,0x00020203);
 data_in_bv.set32(1,0x01020103);
 data_in_bv.set32(2,0x02000203);
 data_in_bv.set32(3,0xfe000003);
 addr = 0x00ea90f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd01010203020000);
 data_in_bv.set32(0,0x00020302);
 data_in_bv.set32(1,0x02030003);
 data_in_bv.set32(2,0x01030101);
 data_in_bv.set32(3,0xff030101);
 addr = 0x0290446d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff03b701,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0201030202020303);
 data_in_bv.set32(0,0x03020300);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000303);
 data_in_bv.set32(3,0x03000100);
 addr = 0x02c98700;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0302b700,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc03010100000001);
 data_in_bv.set32(0,0x02030002);
 data_in_bv.set32(1,0x01030101);
 data_in_bv.set32(2,0x00020300);
 data_in_bv.set32(3,0x03020200);
 addr = 0x02814676;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe03000002000000);
 data_in_bv.set32(0,0x02030101);
 data_in_bv.set32(1,0x02000201);
 data_in_bv.set32(2,0x02030301);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00835ee3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0203030100020301);
 data_in_bv.set32(0,0x02010101);
 data_in_bv.set32(1,0x03020303);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0xff000300);
 addr = 0x00c98537;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0201010103010303);
 data_in_bv.set32(0,0x01010000);
 data_in_bv.set32(1,0x03000100);
 data_in_bv.set32(2,0x03010200);
 data_in_bv.set32(3,0xff020000);
 addr = 0x00bcd74b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe02010300010301);
 data_in_bv.set32(0,0x02030000);
 data_in_bv.set32(1,0x02030200);
 data_in_bv.set32(2,0x00020202);
 data_in_bv.set32(3,0x01030103);
 addr = 0x02ad05a6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0203b700,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd02010202000100);
 data_in_bv.set32(0,0x00030302);
 data_in_bv.set32(1,0x02000102);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0x02010100);
 addr = 0x01dbc42e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0200fe02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301020103000303);
 data_in_bv.set32(0,0x00890002);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x03030000);
 data_in_bv.set32(3,0xff030101);
 addr = 0x00800055;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00890002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd03010000010001);
 data_in_bv.set32(0,0x02010103);
 data_in_bv.set32(1,0x02010203);
 data_in_bv.set32(2,0x01000200);
 data_in_bv.set32(3,0x00010003);
 addr = 0x00976747;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd00030002010100);
 data_in_bv.set32(0,0x03030302);
 data_in_bv.set32(1,0x03020000);
 data_in_bv.set32(2,0x00010100);
 data_in_bv.set32(3,0xff020302);
 addr = 0x01dd8041;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fe00,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02030103010102);
 data_in_bv.set32(0,0x03020302);
 data_in_bv.set32(1,0x03010003);
 data_in_bv.set32(2,0x01000100);
 data_in_bv.set32(3,0xfc010200);
 addr = 0x0182901a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe040302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00030002010203);
 data_in_bv.set32(0,0x03020202);
 data_in_bv.set32(1,0x03030102);
 data_in_bv.set32(2,0x03030001);
 data_in_bv.set32(3,0xff000200);
 addr = 0x01b5fa98;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe050202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03000300030002);
 data_in_bv.set32(0,0x00020302);
 data_in_bv.set32(1,0x03020301);
 data_in_bv.set32(2,0x01010301);
 data_in_bv.set32(3,0x00020203);
 addr = 0x00c0f8a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd00020203000300);
 data_in_bv.set32(0,0x00020203);
 data_in_bv.set32(1,0x02010201);
 data_in_bv.set32(2,0x00010303);
 data_in_bv.set32(3,0xfc020000);
 addr = 0x03bdd176;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201020000010302);
 data_in_bv.set32(0,0x01000301);
 data_in_bv.set32(1,0x01030102);
 data_in_bv.set32(2,0x03010202);
 data_in_bv.set32(3,0x03020302);
 addr = 0x03aa70a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x010300fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01030202030303);
 data_in_bv.set32(0,0x01030003);
 data_in_bv.set32(1,0x01030103);
 data_in_bv.set32(2,0x03010201);
 data_in_bv.set32(3,0xfe030002);
 addr = 0x03e107c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x030101fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02020202020102);
 data_in_bv.set32(0,0x02010302);
 data_in_bv.set32(1,0x02000100);
 data_in_bv.set32(2,0x01010000);
 data_in_bv.set32(3,0x02000303);
 addr = 0x02ed9369;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0200b703,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff01000301010300);
 data_in_bv.set32(0,0x00020101);
 data_in_bv.set32(1,0x02000302);
 data_in_bv.set32(2,0x03010003);
 data_in_bv.set32(3,0xfd010202);
 addr = 0x008ac606;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd03030301010103);
 data_in_bv.set32(0,0x03000100);
 data_in_bv.set32(1,0x00010203);
 data_in_bv.set32(2,0x01030100);
 data_in_bv.set32(3,0x01000001);
 addr = 0x03ba994e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x010301fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300020101000000);
 data_in_bv.set32(0,0x03030203);
 data_in_bv.set32(1,0x01020100);
 data_in_bv.set32(2,0x01030302);
 data_in_bv.set32(3,0xff000303);
 addr = 0x01a8954c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0103fe02,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000201000002);
 data_in_bv.set32(0,0x00000301);
 data_in_bv.set32(1,0x02030303);
 data_in_bv.set32(2,0x02000100);
 data_in_bv.set32(3,0xff010001);
 addr = 0x03c6816f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff0100fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301030001010203);
 data_in_bv.set32(0,0x02010300);
 data_in_bv.set32(1,0x03020201);
 data_in_bv.set32(2,0x01000202);
 data_in_bv.set32(3,0x03000202);
 addr = 0x00b9af50;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0202000002000201);
 data_in_bv.set32(0,0x01000200);
 data_in_bv.set32(1,0x03000102);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xff030102);
 addr = 0x02d3f4d0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff01000301030103);
 data_in_bv.set32(0,0x03000202);
 data_in_bv.set32(1,0x03030101);
 data_in_bv.set32(2,0x02020301);
 data_in_bv.set32(3,0x00010200);
 addr = 0x019e246f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001fe03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000301030002);
 data_in_bv.set32(0,0x00020200);
 data_in_bv.set32(1,0x02000000);
 data_in_bv.set32(2,0x03010302);
 data_in_bv.set32(3,0xfd000102);
 addr = 0x03f5f1f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xffff020101000300);
 data_in_bv.set32(0,0x01030203);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x02030102);
 data_in_bv.set32(3,0xff020103);
 addr = 0x00c3e547;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0100010302000003);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x00010100);
 data_in_bv.set32(2,0x03000101);
 data_in_bv.set32(3,0x02000000);
 addr = 0x02bd9185;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0301b700,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0001030100010102);
 data_in_bv.set32(0,0x02000002);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x02030001);
 data_in_bv.set32(3,0x03020200);
 addr = 0x03863e70;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201010301020102);
 data_in_bv.set32(0,0x01000100);
 data_in_bv.set32(1,0x02030200);
 data_in_bv.set32(2,0x02030303);
 data_in_bv.set32(3,0x02030001);
 addr = 0x03a0939d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00000301000001);
 data_in_bv.set32(0,0x00020301);
 data_in_bv.set32(1,0x01010203);
 data_in_bv.set32(2,0x00030303);
 data_in_bv.set32(3,0x01030201);
 addr = 0x03a5dad6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01030300010302);
 data_in_bv.set32(0,0x01030000);
 data_in_bv.set32(1,0x02010203);
 data_in_bv.set32(2,0x00020100);
 data_in_bv.set32(3,0xfe030300);
 addr = 0x01b1022f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0201ff05,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01020001010200);
 data_in_bv.set32(0,0x01030102);
 data_in_bv.set32(1,0x01000303);
 data_in_bv.set32(2,0x00030303);
 data_in_bv.set32(3,0xff030203);
 addr = 0x03892d1f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01010200010001);
 data_in_bv.set32(0,0x01030203);
 data_in_bv.set32(1,0x01030003);
 data_in_bv.set32(2,0x01030101);
 data_in_bv.set32(3,0x02030303);
 addr = 0x01dff867;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0203ff04,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202020102020302);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030300);
 data_in_bv.set32(2,0x01030000);
 data_in_bv.set32(3,0xfe000302);
 addr = 0x03fd9541;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x010300fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02020000030201);
 data_in_bv.set32(0,0x03030201);
 data_in_bv.set32(1,0x00030203);
 data_in_bv.set32(2,0x00020301);
 data_in_bv.set32(3,0x02010103);
 addr = 0x00cbbe62;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0201000103020103);
 data_in_bv.set32(0,0x02020102);
 data_in_bv.set32(1,0x01030202);
 data_in_bv.set32(2,0x02000102);
 data_in_bv.set32(3,0xfe000201);
 addr = 0x01bce615;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe050102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000020203000302);
 data_in_bv.set32(0,0x02020101);
 data_in_bv.set32(1,0x02020202);
 data_in_bv.set32(2,0x02030103);
 data_in_bv.set32(3,0x03010103);
 addr = 0x00babb00;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0102020202030203);
 data_in_bv.set32(0,0x02020103);
 data_in_bv.set32(1,0x00030203);
 data_in_bv.set32(2,0x03020000);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02ecbd24;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003b703,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0203030101000200);
 data_in_bv.set32(0,0x03000201);
 data_in_bv.set32(1,0x00020302);
 data_in_bv.set32(2,0x03000303);
 data_in_bv.set32(3,0x01020102);
 addr = 0x00bf42db;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc01030002000000);
 data_in_bv.set32(0,0x00010102);
 data_in_bv.set32(1,0x01030003);
 data_in_bv.set32(2,0x01010003);
 data_in_bv.set32(3,0x03010001);
 addr = 0x00d394ef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc02000200000002);
 data_in_bv.set32(0,0x02000102);
 data_in_bv.set32(1,0x02020100);
 data_in_bv.set32(2,0x00030201);
 data_in_bv.set32(3,0xfe030000);
 addr = 0x00cf3a2f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0201030301010002);
 data_in_bv.set32(0,0x01030000);
 data_in_bv.set32(1,0x01000300);
 data_in_bv.set32(2,0x02000303);
 data_in_bv.set32(3,0x00000303);
 addr = 0x02890610;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe00030302030000);
 data_in_bv.set32(0,0x01000202);
 data_in_bv.set32(1,0x02000100);
 data_in_bv.set32(2,0x01010002);
 data_in_bv.set32(3,0xff030102);
 addr = 0x00d6b78d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe00010003030200);
 data_in_bv.set32(0,0x01020203);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x03030003);
 data_in_bv.set32(3,0x03010100);
 addr = 0x03e637b8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302020100000201);
 data_in_bv.set32(0,0x01010301);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x02020300);
 data_in_bv.set32(3,0xfe010203);
 addr = 0x03dc7592;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000003010200);
 data_in_bv.set32(0,0x01020200);
 data_in_bv.set32(1,0x01010001);
 data_in_bv.set32(2,0x02030303);
 data_in_bv.set32(3,0x03020203);
 addr = 0x00e5e4ad;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc02020202020101);
 data_in_bv.set32(0,0x02000003);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x00020201);
 data_in_bv.set32(3,0x01010302);
 addr = 0x028b8081;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0200b703,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd02030301010003);
 data_in_bv.set32(0,0x02020003);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x03000200);
 data_in_bv.set32(3,0x00030003);
 addr = 0x01cc111e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe050003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03030302010303);
 data_in_bv.set32(0,0x00010100);
 data_in_bv.set32(1,0x00010100);
 data_in_bv.set32(2,0x03020302);
 data_in_bv.set32(3,0x03030202);
 addr = 0x01889209;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001fe03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000102010003);
 data_in_bv.set32(0,0x03000203);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x01000303);
 data_in_bv.set32(3,0x02000001);
 addr = 0x01cf1539;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe050003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00000100020302);
 data_in_bv.set32(0,0x01010002);
 data_in_bv.set32(1,0x01000301);
 data_in_bv.set32(2,0x03010100);
 data_in_bv.set32(3,0xff030301);
 addr = 0x03c6e305;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x010100fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201000203000000);
 data_in_bv.set32(0,0x01000300);
 data_in_bv.set32(1,0x03000100);
 data_in_bv.set32(2,0x02030003);
 data_in_bv.set32(3,0x02020102);
 addr = 0x01c2ab34;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01000002020202);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x03030100);
 data_in_bv.set32(2,0x00020200);
 data_in_bv.set32(3,0xff030303);
 addr = 0x03f51a61;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff0300fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00030001010101);
 data_in_bv.set32(0,0x03010203);
 data_in_bv.set32(1,0x01000301);
 data_in_bv.set32(2,0x00030101);
 data_in_bv.set32(3,0xfc000001);
 addr = 0x01f885a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0100ff02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000020303030200);
 data_in_bv.set32(0,0x03020002);
 data_in_bv.set32(1,0x01010003);
 data_in_bv.set32(2,0x02020100);
 data_in_bv.set32(3,0xfc010103);
 addr = 0x01ccfa27;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0101ff03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000100010200);
 data_in_bv.set32(0,0x00010300);
 data_in_bv.set32(1,0x00020300);
 data_in_bv.set32(2,0x02030301);
 data_in_bv.set32(3,0x03010001);
 addr = 0x03a66b81;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000100fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302020302030102);
 data_in_bv.set32(0,0x00000300);
 data_in_bv.set32(1,0x02030103);
 data_in_bv.set32(2,0x00010102);
 data_in_bv.set32(3,0x02000200);
 addr = 0x03e176cb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000100fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001030201020201);
 data_in_bv.set32(0,0x00000203);
 data_in_bv.set32(1,0x02000202);
 data_in_bv.set32(2,0x02020301);
 data_in_bv.set32(3,0x01010103);
 addr = 0x02c0d74b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0202b701,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0302000000010301);
 data_in_bv.set32(0,0x01000102);
 data_in_bv.set32(1,0x02010203);
 data_in_bv.set32(2,0x01010201);
 data_in_bv.set32(3,0xff000203);
 addr = 0x00899bc9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0303020300030001);
 data_in_bv.set32(0,0x00010202);
 data_in_bv.set32(1,0x03020103);
 data_in_bv.set32(2,0x01020101);
 data_in_bv.set32(3,0x03010003);
 addr = 0x02e82fdd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0301000101010303);
 data_in_bv.set32(0,0x01000001);
 data_in_bv.set32(1,0x03000001);
 data_in_bv.set32(2,0x00000103);
 data_in_bv.set32(3,0xfc010100);
 addr = 0x00eab599;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc03000300000100);
 data_in_bv.set32(0,0x00030203);
 data_in_bv.set32(1,0x00030202);
 data_in_bv.set32(2,0x00030100);
 data_in_bv.set32(3,0xfe000300);
 addr = 0x03f7c67c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301030101010301);
 data_in_bv.set32(0,0x02030303);
 data_in_bv.set32(1,0x03000103);
 data_in_bv.set32(2,0x02020203);
 data_in_bv.set32(3,0xfd000200);
 addr = 0x0392bef9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02020100010000);
 data_in_bv.set32(0,0x01030200);
 data_in_bv.set32(1,0x00030103);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x01020101);
 addr = 0x00e9ce3d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc03000002030102);
 data_in_bv.set32(0,0x00020301);
 data_in_bv.set32(1,0x03030200);
 data_in_bv.set32(2,0x01020301);
 data_in_bv.set32(3,0x02020003);
 addr = 0x02feca20;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0303b700,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc03030301010200);
 data_in_bv.set32(0,0x03010002);
 data_in_bv.set32(1,0x01030203);
 data_in_bv.set32(2,0x00020303);
 data_in_bv.set32(3,0x00010301);
 addr = 0x0087eec4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0303030202030002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x03030101);
 data_in_bv.set32(2,0x03030201);
 data_in_bv.set32(3,0xff010001);
 addr = 0x01a2f999;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff050002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00010000030200);
 data_in_bv.set32(0,0x01000300);
 data_in_bv.set32(1,0x02000102);
 data_in_bv.set32(2,0x03030302);
 data_in_bv.set32(3,0xfd010000);
 addr = 0x03b06874;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01030300020100);
 data_in_bv.set32(0,0x03020001);
 data_in_bv.set32(1,0x01010302);
 data_in_bv.set32(2,0x00000303);
 data_in_bv.set32(3,0x00000200);
 addr = 0x03c12192;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03000200020200);
 data_in_bv.set32(0,0x03020202);
 data_in_bv.set32(1,0x02010102);
 data_in_bv.set32(2,0x03030102);
 data_in_bv.set32(3,0x02000100);
 addr = 0x03f80107;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x030200fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301020200020103);
 data_in_bv.set32(0,0x01020003);
 data_in_bv.set32(1,0x01030102);
 data_in_bv.set32(2,0x01030303);
 data_in_bv.set32(3,0x02020201);
 addr = 0x008afd77;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe02030202020100);
 data_in_bv.set32(0,0x01010301);
 data_in_bv.set32(1,0x01020303);
 data_in_bv.set32(2,0x00000301);
 data_in_bv.set32(3,0xfc020003);
 addr = 0x01bee1ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000ff01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02000103020100);
 data_in_bv.set32(0,0x00030101);
 data_in_bv.set32(1,0x02030101);
 data_in_bv.set32(2,0x00030302);
 data_in_bv.set32(3,0xfe000203);
 addr = 0x03bc4f3f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02010102000103);
 data_in_bv.set32(0,0x01030302);
 data_in_bv.set32(1,0x00000300);
 data_in_bv.set32(2,0x01000200);
 data_in_bv.set32(3,0xfe000100);
 addr = 0x00ff718b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0100030000000002);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x02020301);
 data_in_bv.set32(2,0x02020202);
 data_in_bv.set32(3,0x02030100);
 addr = 0x00f85016;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0201030303030203);
 data_in_bv.set32(0,0x02020202);
 data_in_bv.set32(1,0x03030102);
 data_in_bv.set32(2,0x02000003);
 data_in_bv.set32(3,0x03010200);
 addr = 0x01ef070a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0202fe05,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02030102030002);
 data_in_bv.set32(0,0x02030301);
 data_in_bv.set32(1,0x02020302);
 data_in_bv.set32(2,0x03000202);
 data_in_bv.set32(3,0xff010302);
 addr = 0x0292f935;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0302000101020201);
 data_in_bv.set32(0,0x02030003);
 data_in_bv.set32(1,0x03010003);
 data_in_bv.set32(2,0x02010002);
 data_in_bv.set32(3,0x01000100);
 addr = 0x03c70f0b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x020301fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00000100020200);
 data_in_bv.set32(0,0x01020003);
 data_in_bv.set32(1,0x03020002);
 data_in_bv.set32(2,0x00000202);
 data_in_bv.set32(3,0xfc010100);
 addr = 0x03f6120f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x010200fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001010200000302);
 data_in_bv.set32(0,0x00010301);
 data_in_bv.set32(1,0x02020001);
 data_in_bv.set32(2,0x00010300);
 data_in_bv.set32(3,0xfe000103);
 addr = 0x00a19f99;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xffff000203000102);
 data_in_bv.set32(0,0x03030302);
 data_in_bv.set32(1,0x03000101);
 data_in_bv.set32(2,0x03030202);
 data_in_bv.set32(3,0x02020201);
 addr = 0x03b55447;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x030300fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303000302020000);
 data_in_bv.set32(0,0x01010200);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00030302);
 data_in_bv.set32(3,0x00010102);
 addr = 0x00db9611;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0300020100000102);
 data_in_bv.set32(0,0x03030000);
 data_in_bv.set32(1,0x00010200);
 data_in_bv.set32(2,0x01030002);
 data_in_bv.set32(3,0xfd020102);
 addr = 0x00ed5718;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0202030303030303);
 data_in_bv.set32(0,0x00020102);
 data_in_bv.set32(1,0x03000103);
 data_in_bv.set32(2,0x02030300);
 data_in_bv.set32(3,0x01010102);
 addr = 0x038516e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x010101fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000101010302);
 data_in_bv.set32(0,0x03020103);
 data_in_bv.set32(1,0x00020201);
 data_in_bv.set32(2,0x03030002);
 data_in_bv.set32(3,0xfd030300);
 addr = 0x00f50c03;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe00010002000303);
 data_in_bv.set32(0,0x02030001);
 data_in_bv.set32(1,0x03010202);
 data_in_bv.set32(2,0x00020100);
 data_in_bv.set32(3,0x02010000);
 addr = 0x0182c65d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe050100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103020103020300);
 data_in_bv.set32(0,0x01020100);
 data_in_bv.set32(1,0x00030102);
 data_in_bv.set32(2,0x03000303);
 data_in_bv.set32(3,0xfe000300);
 addr = 0x00ebc085;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd00010003000101);
 data_in_bv.set32(0,0x03010100);
 data_in_bv.set32(1,0x00000301);
 data_in_bv.set32(2,0x01000001);
 data_in_bv.set32(3,0x01000201);
 addr = 0x02ab7f33;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff01030001010201);
 data_in_bv.set32(0,0x02000201);
 data_in_bv.set32(1,0x02020001);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0xff010201);
 addr = 0x0399f15c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01010101020103);
 data_in_bv.set32(0,0x03000101);
 data_in_bv.set32(1,0x01030202);
 data_in_bv.set32(2,0x02030000);
 data_in_bv.set32(3,0x03030003);
 addr = 0x01f9fad6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff060000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00000000000100);
 data_in_bv.set32(0,0x02020001);
 data_in_bv.set32(1,0x01020000);
 data_in_bv.set32(2,0x01030300);
 data_in_bv.set32(3,0x00030302);
 addr = 0x02f4ca21;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0102b700,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0003020100000200);
 data_in_bv.set32(0,0x02000103);
 data_in_bv.set32(1,0x00030302);
 data_in_bv.set32(2,0x00030203);
 data_in_bv.set32(3,0xff030000);
 addr = 0x02f7ab12;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0103000202020103);
 data_in_bv.set32(0,0x02010303);
 data_in_bv.set32(1,0x02020300);
 data_in_bv.set32(2,0x02020101);
 data_in_bv.set32(3,0x00000202);
 addr = 0x038c06ab;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x020201fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02020303000103);
 data_in_bv.set32(0,0x01020100);
 data_in_bv.set32(1,0x02030101);
 data_in_bv.set32(2,0x03020100);
 data_in_bv.set32(3,0x01010201);
 addr = 0x03b4b47f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101030100020203);
 data_in_bv.set32(0,0x03030001);
 data_in_bv.set32(1,0x02000103);
 data_in_bv.set32(2,0x01030200);
 data_in_bv.set32(3,0xfe020002);
 addr = 0x03863714;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001030001030203);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x02030301);
 data_in_bv.set32(2,0x01000103);
 data_in_bv.set32(3,0x00010003);
 addr = 0x0383cfc5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x010001fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00030101020103);
 data_in_bv.set32(0,0x02030301);
 data_in_bv.set32(1,0x03000202);
 data_in_bv.set32(2,0x00000301);
 data_in_bv.set32(3,0x03030301);
 addr = 0x02debe60;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0303b701,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe01000201010203);
 data_in_bv.set32(0,0x02020302);
 data_in_bv.set32(1,0x00030101);
 data_in_bv.set32(2,0x03010003);
 data_in_bv.set32(3,0xfd010300);
 addr = 0x00a38fa1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff01030102030000);
 data_in_bv.set32(0,0x03030102);
 data_in_bv.set32(1,0x02000001);
 data_in_bv.set32(2,0x03020101);
 data_in_bv.set32(3,0xfc020100);
 addr = 0x00944040;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0200010003020302);
 data_in_bv.set32(0,0x02000301);
 data_in_bv.set32(1,0x03030103);
 data_in_bv.set32(2,0x01010002);
 data_in_bv.set32(3,0xfc030003);
 addr = 0x00cb8ad9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd03020102010203);
 data_in_bv.set32(0,0x01030100);
 data_in_bv.set32(1,0x02020302);
 data_in_bv.set32(2,0x03030003);
 data_in_bv.set32(3,0xfe000203);
 addr = 0x019b732c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0202fe05,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201030202020100);
 data_in_bv.set32(0,0x01020003);
 data_in_bv.set32(1,0x02010303);
 data_in_bv.set32(2,0x00010200);
 data_in_bv.set32(3,0xff020000);
 addr = 0x03a51c1f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003030301010002);
 data_in_bv.set32(0,0x01020200);
 data_in_bv.set32(1,0x03010300);
 data_in_bv.set32(2,0x00000302);
 data_in_bv.set32(3,0xfc030001);
 addr = 0x01939047;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fe04,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01000000010203);
 data_in_bv.set32(0,0x01030102);
 data_in_bv.set32(1,0x01010202);
 data_in_bv.set32(2,0x02010202);
 data_in_bv.set32(3,0xff030201);
 addr = 0x01c7ca7a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff070201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103020000030002);
 data_in_bv.set32(0,0x01010302);
 data_in_bv.set32(1,0x02010202);
 data_in_bv.set32(2,0x01030200);
 data_in_bv.set32(3,0x02030001);
 addr = 0x03c8cc14;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03000103020200);
 data_in_bv.set32(0,0x00030102);
 data_in_bv.set32(1,0x03020002);
 data_in_bv.set32(2,0x02030103);
 data_in_bv.set32(3,0xfd030002);
 addr = 0x01ab1c38;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01020100010303);
 data_in_bv.set32(0,0x00000202);
 data_in_bv.set32(1,0x03010001);
 data_in_bv.set32(2,0x00030001);
 data_in_bv.set32(3,0xfc020303);
 addr = 0x01c6d754;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff060001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03010000000003);
 data_in_bv.set32(0,0x02020201);
 data_in_bv.set32(1,0x01020201);
 data_in_bv.set32(2,0x02010001);
 data_in_bv.set32(3,0xfd030202);
 addr = 0x039cf24c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x020101fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00010101000300);
 data_in_bv.set32(0,0x01010002);
 data_in_bv.set32(1,0x03010203);
 data_in_bv.set32(2,0x03000103);
 data_in_bv.set32(3,0x03000103);
 addr = 0x00d4edb4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0303030002000302);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x01020100);
 data_in_bv.set32(3,0xfe000301);
 addr = 0x01e2989d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe050300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201020001030001);
 data_in_bv.set32(0,0x03000300);
 data_in_bv.set32(1,0x03010201);
 data_in_bv.set32(2,0x02010002);
 data_in_bv.set32(3,0xff030200);
 addr = 0x00df612a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0301030000020303);
 data_in_bv.set32(0,0x00030103);
 data_in_bv.set32(1,0x01020303);
 data_in_bv.set32(2,0x01030103);
 data_in_bv.set32(3,0x00020103);
 addr = 0x01fe09ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0103ff07,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203030000030203);
 data_in_bv.set32(0,0x03030301);
 data_in_bv.set32(1,0x00020300);
 data_in_bv.set32(2,0x02030203);
 data_in_bv.set32(3,0x01030301);
 addr = 0x03819e40;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x020301fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100020102020103);
 data_in_bv.set32(0,0x00000202);
 data_in_bv.set32(1,0x01020003);
 data_in_bv.set32(2,0x01020303);
 data_in_bv.set32(3,0x03000101);
 addr = 0x03b00ead;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x010201fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01030301020303);
 data_in_bv.set32(0,0x03030203);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x01000201);
 data_in_bv.set32(3,0x02000301);
 addr = 0x01d55c9a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff070203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200010103010002);
 data_in_bv.set32(0,0x02020100);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x03030000);
 data_in_bv.set32(3,0x03010302);
 addr = 0x029b39f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe03010002010100);
 data_in_bv.set32(0,0x02020000);
 data_in_bv.set32(1,0x00020101);
 data_in_bv.set32(2,0x00000103);
 data_in_bv.set32(3,0xfd000000);
 addr = 0x00fedf47;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0303020201000202);
 data_in_bv.set32(0,0x01020303);
 data_in_bv.set32(1,0x03000300);
 data_in_bv.set32(2,0x01000003);
 data_in_bv.set32(3,0x03020102);
 addr = 0x00c0e102;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0201030300030003);
 data_in_bv.set32(0,0x01020003);
 data_in_bv.set32(1,0x03020201);
 data_in_bv.set32(2,0x03030101);
 data_in_bv.set32(3,0xfc000300);
 addr = 0x00b821e6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd01010101030303);
 data_in_bv.set32(0,0x00000201);
 data_in_bv.set32(1,0x01000200);
 data_in_bv.set32(2,0x02010200);
 data_in_bv.set32(3,0x03000203);
 addr = 0x01a5ac52;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff050200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03030002010001);
 data_in_bv.set32(0,0x00020200);
 data_in_bv.set32(1,0x01010203);
 data_in_bv.set32(2,0x01020100);
 data_in_bv.set32(3,0xfe020102);
 addr = 0x00ec9662;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc01030103020001);
 data_in_bv.set32(0,0x00020301);
 data_in_bv.set32(1,0x03010301);
 data_in_bv.set32(2,0x03010002);
 data_in_bv.set32(3,0x00030100);
 addr = 0x03f9853f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02010001030001);
 data_in_bv.set32(0,0x00020301);
 data_in_bv.set32(1,0x01fb0301);
 data_in_bv.set32(2,0x03010002);
 data_in_bv.set32(3,0x00030100);
 addr = 0x02f98543;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0301b702,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0101010202010103);
 data_in_bv.set32(0,0x02020103);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x03000101);
 data_in_bv.set32(3,0x00030301);
 addr = 0x01ff5784;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0202ff06,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03000200000302);
 data_in_bv.set32(0,0x01020002);
 data_in_bv.set32(1,0x00010203);
 data_in_bv.set32(2,0x03020001);
 data_in_bv.set32(3,0x02030201);
 addr = 0x03aa9146;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x030200fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001020201010102);
 data_in_bv.set32(0,0x02000201);
 data_in_bv.set32(1,0x01000201);
 data_in_bv.set32(2,0x00000300);
 data_in_bv.set32(3,0xfe010203);
 addr = 0x03cee13f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01000003020201);
 data_in_bv.set32(0,0x00020203);
 data_in_bv.set32(1,0x03010003);
 data_in_bv.set32(2,0x03020202);
 data_in_bv.set32(3,0x01010002);
 addr = 0x03e936a8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x030101fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00020002030300);
 data_in_bv.set32(0,0x03000100);
 data_in_bv.set32(1,0x00000202);
 data_in_bv.set32(2,0x00000200);
 data_in_bv.set32(3,0xfe020200);
 addr = 0x03e9e0de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00fb0200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203030100010102);
 data_in_bv.set32(0,0x01010301);
 data_in_bv.set32(1,0x01030100);
 data_in_bv.set32(2,0x00020100);
 data_in_bv.set32(3,0xff020202);
 addr = 0x02b4db3a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff02010001030200);
 data_in_bv.set32(0,0x03000001);
 data_in_bv.set32(1,0x03020201);
 data_in_bv.set32(2,0x00010303);
 data_in_bv.set32(3,0xfe010203);
 addr = 0x03985597;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00020003030102);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x01000300);
 data_in_bv.set32(2,0x02020302);
 data_in_bv.set32(3,0x02000002);
 addr = 0x00f97a04;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd00010003000000);
 data_in_bv.set32(0,0x03020300);
 data_in_bv.set32(1,0x01010301);
 data_in_bv.set32(2,0x03030302);
 data_in_bv.set32(3,0x01000002);
 addr = 0x02ae15b7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd02000002020101);
 data_in_bv.set32(0,0x02030302);
 data_in_bv.set32(1,0x00030102);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x03010101);
 addr = 0x019027c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001ff04,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203010100010201);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x00000100);
 data_in_bv.set32(2,0x01030002);
 data_in_bv.set32(3,0xfe000202);
 addr = 0x02fa7a97;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0302000303000200);
 data_in_bv.set32(0,0x00020102);
 data_in_bv.set32(1,0x03000201);
 data_in_bv.set32(2,0x02010301);
 data_in_bv.set32(3,0x03020002);
 addr = 0x01bd7fc3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0201ff01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203000001020302);
 data_in_bv.set32(0,0x02010303);
 data_in_bv.set32(1,0x01020100);
 data_in_bv.set32(2,0x01030301);
 data_in_bv.set32(3,0xff030102);
 addr = 0x03e82e1d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01000003030300);
 data_in_bv.set32(0,0x03030202);
 data_in_bv.set32(1,0x00020203);
 data_in_bv.set32(2,0x03000201);
 data_in_bv.set32(3,0x00030103);
 addr = 0x03bb1505;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x030300fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300000001030202);
 data_in_bv.set32(0,0x00010300);
 data_in_bv.set32(1,0x01010300);
 data_in_bv.set32(2,0x02020003);
 data_in_bv.set32(3,0xfe010100);
 addr = 0x02cb3199;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0202020301000202);
 data_in_bv.set32(0,0x00030301);
 data_in_bv.set32(1,0x03030301);
 data_in_bv.set32(2,0x00020101);
 data_in_bv.set32(3,0xfd030000);
 addr = 0x02ccbbcd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002b701,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc00000102010202);
 data_in_bv.set32(0,0x03030102);
 data_in_bv.set32(1,0x03030200);
 data_in_bv.set32(2,0x03020103);
 data_in_bv.set32(3,0xff010003);
 addr = 0x02f09ed3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0002030101020002);
 data_in_bv.set32(0,0x03030101);
 data_in_bv.set32(1,0x01000301);
 data_in_bv.set32(2,0x03030001);
 data_in_bv.set32(3,0xfd000202);
 addr = 0x009de283;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff01020203020202);
 data_in_bv.set32(0,0x02030100);
 data_in_bv.set32(1,0x02000000);
 data_in_bv.set32(2,0x00020201);
 data_in_bv.set32(3,0x03010301);
 addr = 0x03a6c039;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00010102030302);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x03020302);
 data_in_bv.set32(2,0x00030302);
 data_in_bv.set32(3,0x03010201);
 addr = 0x02c992bd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0100020300020300);
 data_in_bv.set32(0,0x00010203);
 data_in_bv.set32(1,0x00000300);
 data_in_bv.set32(2,0x01020201);
 data_in_bv.set32(3,0x03030200);
 addr = 0x01e6a290;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003010301010202);
 data_in_bv.set32(0,0x03010200);
 data_in_bv.set32(1,0x03030202);
 data_in_bv.set32(2,0x01000001);
 data_in_bv.set32(3,0x01010302);
 addr = 0x00ed318c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd01020101020001);
 data_in_bv.set32(0,0x01020100);
 data_in_bv.set32(1,0x03000001);
 data_in_bv.set32(2,0x02020300);
 data_in_bv.set32(3,0xfc000303);
 addr = 0x01e146a5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0300ff02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002030003030101);
 data_in_bv.set32(0,0x03000302);
 data_in_bv.set32(1,0x01010002);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0x01020302);
 addr = 0x00b63f49;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff00000103030100);
 data_in_bv.set32(0,0x00030303);
 data_in_bv.set32(1,0x01030100);
 data_in_bv.set32(2,0x03010103);
 data_in_bv.set32(3,0x03030002);
 addr = 0x00d8d5f7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0302010003000200);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00000101);
 data_in_bv.set32(2,0x01030202);
 data_in_bv.set32(3,0x02010300);
 addr = 0x03ad39dd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00fb0202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02000001030002);
 data_in_bv.set32(0,0x02000201);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x02010203);
 data_in_bv.set32(3,0xfc020203);
 addr = 0x01ea6e02;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0200ff03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303000303010102);
 data_in_bv.set32(0,0x03010203);
 data_in_bv.set32(1,0x00030102);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfe000302);
 addr = 0x02dd55d6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0203000303010202);
 data_in_bv.set32(0,0x03010203);
 data_in_bv.set32(1,0x00030102);
 data_in_bv.set32(2,0xb7020000);
 data_in_bv.set32(3,0xfe000302);
 addr = 0x02dd5591;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe01000203000101);
 data_in_bv.set32(0,0x02020202);
 data_in_bv.set32(1,0x02010201);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x00000303);
 addr = 0x00d94ec7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0300030103020302);
 data_in_bv.set32(0,0x01010302);
 data_in_bv.set32(1,0x00030103);
 data_in_bv.set32(2,0x02030100);
 data_in_bv.set32(3,0x00030300);
 addr = 0x0283eb62;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003b700,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff01010203030001);
 data_in_bv.set32(0,0x01000100);
 data_in_bv.set32(1,0x00030100);
 data_in_bv.set32(2,0x02000303);
 data_in_bv.set32(3,0xfc030002);
 addr = 0x00db4591;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff00030103030100);
 data_in_bv.set32(0,0x03000002);
 data_in_bv.set32(1,0x01030102);
 data_in_bv.set32(2,0x02030202);
 data_in_bv.set32(3,0xff000201);
 addr = 0x02eed310;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe01010203010302);
 data_in_bv.set32(0,0x00000303);
 data_in_bv.set32(1,0x03020102);
 data_in_bv.set32(2,0x00000301);
 data_in_bv.set32(3,0xfd000101);
 addr = 0x038f97bd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003020001030202);
 data_in_bv.set32(0,0x02000302);
 data_in_bv.set32(1,0x02030001);
 data_in_bv.set32(2,0x02020000);
 data_in_bv.set32(3,0xfe000002);
 addr = 0x02b9ddc5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0202b700,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0201000301010001);
 data_in_bv.set32(0,0x00020302);
 data_in_bv.set32(1,0x02020300);
 data_in_bv.set32(2,0x01030303);
 data_in_bv.set32(3,0x01020000);
 addr = 0x00cd30b0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0000000003010100);
 data_in_bv.set32(0,0x02020200);
 data_in_bv.set32(1,0x03000103);
 data_in_bv.set32(2,0x02030303);
 data_in_bv.set32(3,0xfc020302);
 addr = 0x00b20e83;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff03020303010202);
 data_in_bv.set32(0,0x00000203);
 data_in_bv.set32(1,0x00000202);
 data_in_bv.set32(2,0x02010301);
 data_in_bv.set32(3,0xfc010301);
 addr = 0x03cee93f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101010201000003);
 data_in_bv.set32(0,0x03020203);
 data_in_bv.set32(1,0x02010102);
 data_in_bv.set32(2,0x00020303);
 data_in_bv.set32(3,0x01000300);
 addr = 0x03d7a7f9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00020001000300);
 data_in_bv.set32(0,0x01000202);
 data_in_bv.set32(1,0x00020302);
 data_in_bv.set32(2,0x03030001);
 data_in_bv.set32(3,0x00000300);
 addr = 0x01936725;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002fe03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02020202010201);
 data_in_bv.set32(0,0x01010302);
 data_in_bv.set32(1,0x01000103);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xff010100);
 addr = 0x018021b6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00020200010303);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x03000203);
 data_in_bv.set32(2,0x01000102);
 data_in_bv.set32(3,0x02020000);
 addr = 0x01ae646c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0202fe03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101000100010302);
 data_in_bv.set32(0,0x01020202);
 data_in_bv.set32(1,0x01020202);
 data_in_bv.set32(2,0x03020201);
 data_in_bv.set32(3,0x00020201);
 addr = 0x03dde427;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x010200fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001010203020100);
 data_in_bv.set32(0,0x02000200);
 data_in_bv.set32(1,0x01020201);
 data_in_bv.set32(2,0x03010003);
 data_in_bv.set32(3,0xff030203);
 addr = 0x03e11c01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x020000fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103030101000002);
 data_in_bv.set32(0,0x01030000);
 data_in_bv.set32(1,0x02000001);
 data_in_bv.set32(2,0x02010301);
 data_in_bv.set32(3,0xff010000);
 addr = 0x00ff0cb5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0003020300030003);
 data_in_bv.set32(0,0x00030202);
 data_in_bv.set32(1,0x01030001);
 data_in_bv.set32(2,0x01000202);
 data_in_bv.set32(3,0x00030001);
 addr = 0x03934732;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01020302000203);
 data_in_bv.set32(0,0x00030202);
 data_in_bv.set32(1,0x01fb0001);
 data_in_bv.set32(2,0x01000202);
 data_in_bv.set32(3,0x00030001);
 addr = 0x01934760;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003ff04,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001020103030101);
 data_in_bv.set32(0,0x02000302);
 data_in_bv.set32(1,0x01000300);
 data_in_bv.set32(2,0x00000301);
 data_in_bv.set32(3,0x02000200);
 addr = 0x02c8adf0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd01010203020003);
 data_in_bv.set32(0,0x02000201);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x02020100);
 data_in_bv.set32(3,0x02000003);
 addr = 0x00960cf8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0102020101030102);
 data_in_bv.set32(0,0x01030103);
 data_in_bv.set32(1,0x02020200);
 data_in_bv.set32(2,0x03030202);
 data_in_bv.set32(3,0xff010003);
 addr = 0x02d56386;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0103b703,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff02020302020103);
 data_in_bv.set32(0,0x0103b703);
 data_in_bv.set32(1,0x02020200);
 data_in_bv.set32(2,0x03030202);
 data_in_bv.set32(3,0xff010003);
 addr = 0x00d563b4;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0103b703,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0001020200030002);
 data_in_bv.set32(0,0x00010100);
 data_in_bv.set32(1,0x01030101);
 data_in_bv.set32(2,0x02000301);
 data_in_bv.set32(3,0x02010003);
 addr = 0x03c36e27;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x010300fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202010201000302);
 data_in_bv.set32(0,0x00000303);
 data_in_bv.set32(1,0x03010201);
 data_in_bv.set32(2,0x03010000);
 data_in_bv.set32(3,0xfd030101);
 addr = 0x01f2f681;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000ff05,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03020003010301);
 data_in_bv.set32(0,0x02020002);
 data_in_bv.set32(1,0x01030303);
 data_in_bv.set32(2,0x01030302);
 data_in_bv.set32(3,0xff000303);
 addr = 0x01e1e542;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0103fe03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00030303030100);
 data_in_bv.set32(0,0x01030303);
 data_in_bv.set32(1,0x01010203);
 data_in_bv.set32(2,0x00000302);
 data_in_bv.set32(3,0x00010000);
 addr = 0x0195d304;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0103ff03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201020103020203);
 data_in_bv.set32(0,0x01030002);
 data_in_bv.set32(1,0x01000302);
 data_in_bv.set32(2,0x03010300);
 data_in_bv.set32(3,0x02000300);
 addr = 0x02acd1c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0301b700,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0001020203030200);
 data_in_bv.set32(0,0x01030002);
 data_in_bv.set32(1,0x01000302);
 data_in_bv.set32(2,0x0301b700);
 data_in_bv.set32(3,0x02000300);
 addr = 0x02acd1d7;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb701b700,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0103020002000301);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x00030302);
 data_in_bv.set32(2,0x02020003);
 data_in_bv.set32(3,0x02010303);
 addr = 0x01a5555e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100010000030202);
 data_in_bv.set32(0,0x00010300);
 data_in_bv.set32(1,0x03030300);
 data_in_bv.set32(2,0x03000103);
 data_in_bv.set32(3,0x00000003);
 addr = 0x00f70fcd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0103010103000302);
 data_in_bv.set32(0,0x00020202);
 data_in_bv.set32(1,0x03030101);
 data_in_bv.set32(2,0x00010101);
 data_in_bv.set32(3,0x00010103);
 addr = 0x01e2f1e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0001ff05,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003020102020003);
 data_in_bv.set32(0,0x01030203);
 data_in_bv.set32(1,0x00030101);
 data_in_bv.set32(2,0x02010203);
 data_in_bv.set32(3,0xff020301);
 addr = 0x03dc6b5e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101000301030000);
 data_in_bv.set32(0,0x01000102);
 data_in_bv.set32(1,0x01000001);
 data_in_bv.set32(2,0x02020301);
 data_in_bv.set32(3,0xff010103);
 addr = 0x00db713d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc02000100030001);
 data_in_bv.set32(0,0x03020103);
 data_in_bv.set32(1,0x03000102);
 data_in_bv.set32(2,0x02020203);
 data_in_bv.set32(3,0xfd030102);
 addr = 0x00e07bf1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0002000103010200);
 data_in_bv.set32(0,0x01000300);
 data_in_bv.set32(1,0x00010202);
 data_in_bv.set32(2,0x00030102);
 data_in_bv.set32(3,0xff010003);
 addr = 0x019dd9e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff01ff03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03020100000302);
 data_in_bv.set32(0,0x01000300);
 data_in_bv.set32(1,0x00010202);
 data_in_bv.set32(2,0x00030102);
 data_in_bv.set32(3,0xff01ff03);
 addr = 0x029dd9bd;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff01ff03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0000030200020102);
 data_in_bv.set32(0,0x00020100);
 data_in_bv.set32(1,0x03020103);
 data_in_bv.set32(2,0x03020103);
 data_in_bv.set32(3,0xff030200);
 addr = 0x02cdaa53;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff01010203030100);
 data_in_bv.set32(0,0x01000303);
 data_in_bv.set32(1,0x02020300);
 data_in_bv.set32(2,0x02020203);
 data_in_bv.set32(3,0x01030303);
 addr = 0x00d8b502;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0203010301010300);
 data_in_bv.set32(0,0x01000200);
 data_in_bv.set32(1,0x03020303);
 data_in_bv.set32(2,0x02010302);
 data_in_bv.set32(3,0x03020100);
 addr = 0x02c6f8f1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff02020301000302);
 data_in_bv.set32(0,0x02030002);
 data_in_bv.set32(1,0x03010202);
 data_in_bv.set32(2,0x01000002);
 data_in_bv.set32(3,0x03030200);
 addr = 0x00f74be9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc02030000000301);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x01000101);
 data_in_bv.set32(2,0x02000003);
 data_in_bv.set32(3,0x01010003);
 addr = 0x02e195e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0101b703,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc00030001010301);
 data_in_bv.set32(0,0x02010100);
 data_in_bv.set32(1,0x01010102);
 data_in_bv.set32(2,0x03000202);
 data_in_bv.set32(3,0xfc000003);
 addr = 0x01d1e0a0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0101fe03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00000003020300);
 data_in_bv.set32(0,0x00030101);
 data_in_bv.set32(1,0x03020302);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0xfc000203);
 addr = 0x02db71fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd00010000010000);
 data_in_bv.set32(0,0x02010200);
 data_in_bv.set32(1,0x02030301);
 data_in_bv.set32(2,0x03000103);
 data_in_bv.set32(3,0xfe000203);
 addr = 0x03dba47f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302020102030002);
 data_in_bv.set32(0,0x00020302);
 data_in_bv.set32(1,0x03020301);
 data_in_bv.set32(2,0x01030200);
 data_in_bv.set32(3,0xfc010302);
 addr = 0x02e1df96;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe03020000010100);
 data_in_bv.set32(0,0x01020200);
 data_in_bv.set32(1,0x02030101);
 data_in_bv.set32(2,0x01010303);
 data_in_bv.set32(3,0xfc020202);
 addr = 0x00cb62b5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0303000101030001);
 data_in_bv.set32(0,0x02000103);
 data_in_bv.set32(1,0x01020100);
 data_in_bv.set32(2,0x02010303);
 data_in_bv.set32(3,0xff000000);
 addr = 0x01f38c4b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0201ff04,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02010001010100);
 data_in_bv.set32(0,0x02010301);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x03020301);
 data_in_bv.set32(3,0x01020100);
 addr = 0x01b12fc2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0302ff01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301030200030201);
 data_in_bv.set32(0,0x00030303);
 data_in_bv.set32(1,0x02030303);
 data_in_bv.set32(2,0x01010103);
 data_in_bv.set32(3,0xfc030003);
 addr = 0x00c53d77;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd03020101000102);
 data_in_bv.set32(0,0x03000003);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x01000303);
 data_in_bv.set32(3,0xfe030100);
 addr = 0x03878ab9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303020101000300);
 data_in_bv.set32(0,0x03000102);
 data_in_bv.set32(1,0x00010303);
 data_in_bv.set32(2,0x01020300);
 data_in_bv.set32(3,0x02000000);
 addr = 0x01b1a32c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0001ff03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301030303020100);
 data_in_bv.set32(0,0x03010301);
 data_in_bv.set32(1,0x03000002);
 data_in_bv.set32(2,0x02000303);
 data_in_bv.set32(3,0x03020303);
 addr = 0x028b64ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0302b703,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff00020202020102);
 data_in_bv.set32(0,0x02000300);
 data_in_bv.set32(1,0x03030301);
 data_in_bv.set32(2,0x01020100);
 data_in_bv.set32(3,0xfe030201);
 addr = 0x00e1c88b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0100000303020102);
 data_in_bv.set32(0,0x03030101);
 data_in_bv.set32(1,0x03030201);
 data_in_bv.set32(2,0x01000002);
 data_in_bv.set32(3,0x01000102);
 addr = 0x02a93180;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0303b701,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0101000001010102);
 data_in_bv.set32(0,0x02010202);
 data_in_bv.set32(1,0x02020300);
 data_in_bv.set32(2,0x02010300);
 data_in_bv.set32(3,0x03000201);
 addr = 0x03e9d0c3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x020100fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100000002030300);
 data_in_bv.set32(0,0x01030101);
 data_in_bv.set32(1,0x00000101);
 data_in_bv.set32(2,0x01000001);
 data_in_bv.set32(3,0x03010000);
 addr = 0x02e810dd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0100030001010301);
 data_in_bv.set32(0,0x02000202);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x02010301);
 data_in_bv.set32(3,0xfc020302);
 addr = 0x02f94deb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc02b702,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd01000200030001);
 data_in_bv.set32(0,0x00010102);
 data_in_bv.set32(1,0x03000100);
 data_in_bv.set32(2,0x00000103);
 data_in_bv.set32(3,0xfd000000);
 addr = 0x02e11d5e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff02020300010202);
 data_in_bv.set32(0,0x02020303);
 data_in_bv.set32(1,0x02010000);
 data_in_bv.set32(2,0x00010100);
 data_in_bv.set32(3,0xff000303);
 addr = 0x00a673b1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe01010100010301);
 data_in_bv.set32(0,0x02000202);
 data_in_bv.set32(1,0x01000103);
 data_in_bv.set32(2,0x00000203);
 data_in_bv.set32(3,0xff020300);
 addr = 0x00d9f50a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0201010202000100);
 data_in_bv.set32(0,0x02010000);
 data_in_bv.set32(1,0x02030202);
 data_in_bv.set32(2,0x03030303);
 data_in_bv.set32(3,0x03000003);
 addr = 0x03d8db74;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00030001000302);
 data_in_bv.set32(0,0x02030202);
 data_in_bv.set32(1,0x00030002);
 data_in_bv.set32(2,0x02010302);
 data_in_bv.set32(3,0x00030200);
 addr = 0x02c63e38;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0003030300030303);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x01030100);
 data_in_bv.set32(2,0x03020001);
 data_in_bv.set32(3,0xff020003);
 addr = 0x019f5d80;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fe05,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01010202010002);
 data_in_bv.set32(0,0x03020203);
 data_in_bv.set32(1,0x02010302);
 data_in_bv.set32(2,0x00020200);
 data_in_bv.set32(3,0xff020300);
 addr = 0x03fa2f25;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x020100fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202020101010001);
 data_in_bv.set32(0,0x01020200);
 data_in_bv.set32(1,0x00000101);
 data_in_bv.set32(2,0x03030103);
 data_in_bv.set32(3,0x01020001);
 addr = 0x0181a7c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0303ff04,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003020300020302);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x01030303);
 data_in_bv.set32(2,0x02030003);
 data_in_bv.set32(3,0xfe020002);
 addr = 0x03c1ab00;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x030100fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200020203000002);
 data_in_bv.set32(0,0x00020203);
 data_in_bv.set32(1,0x02030201);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xff010300);
 addr = 0x00c95a8b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd02020003020300);
 data_in_bv.set32(0,0x02000003);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x01000100);
 data_in_bv.set32(3,0x00010200);
 addr = 0x00b246dd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0100000100020003);
 data_in_bv.set32(0,0x02030301);
 data_in_bv.set32(1,0x03000202);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0xfe020001);
 addr = 0x01d577c2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0101ff06,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00010001030201);
 data_in_bv.set32(0,0x02030000);
 data_in_bv.set32(1,0x02000300);
 data_in_bv.set32(2,0x00010302);
 data_in_bv.set32(3,0xfc020300);
 addr = 0x009234bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff03010103010302);
 data_in_bv.set32(0,0x03030300);
 data_in_bv.set32(1,0x01030303);
 data_in_bv.set32(2,0x02020201);
 data_in_bv.set32(3,0xff020103);
 addr = 0x00d5545f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc01020302030301);
 data_in_bv.set32(0,0x01000203);
 data_in_bv.set32(1,0x02020300);
 data_in_bv.set32(2,0x00010103);
 data_in_bv.set32(3,0xff030203);
 addr = 0x00ee87bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff00000001030202);
 data_in_bv.set32(0,0x01000000);
 data_in_bv.set32(1,0x01030201);
 data_in_bv.set32(2,0x00030301);
 data_in_bv.set32(3,0xff020303);
 addr = 0x018e6ef8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe050303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01010102010001);
 data_in_bv.set32(0,0x03010202);
 data_in_bv.set32(1,0x02000300);
 data_in_bv.set32(2,0x01020100);
 data_in_bv.set32(3,0x00030003);
 addr = 0x00fef1a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe02020103010103);
 data_in_bv.set32(0,0x01030301);
 data_in_bv.set32(1,0x02030201);
 data_in_bv.set32(2,0x03030200);
 data_in_bv.set32(3,0xfc030202);
 addr = 0x008ceded;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc03020200000301);
 data_in_bv.set32(0,0x00030300);
 data_in_bv.set32(1,0x03000201);
 data_in_bv.set32(2,0x02010100);
 data_in_bv.set32(3,0xfe030000);
 addr = 0x00f416a8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0002030302000101);
 data_in_bv.set32(0,0x03000201);
 data_in_bv.set32(1,0x00010101);
 data_in_bv.set32(2,0x00010303);
 data_in_bv.set32(3,0x03000100);
 addr = 0x00e11949;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0102030100030101);
 data_in_bv.set32(0,0x02020300);
 data_in_bv.set32(1,0x01030301);
 data_in_bv.set32(2,0x00030102);
 data_in_bv.set32(3,0x00010100);
 addr = 0x01cda83f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff040301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03000100030001);
 data_in_bv.set32(0,0x00030200);
 data_in_bv.set32(1,0x02030200);
 data_in_bv.set32(2,0x00030203);
 data_in_bv.set32(3,0xff030001);
 addr = 0x00e42d03;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe02030202010002);
 data_in_bv.set32(0,0x01010301);
 data_in_bv.set32(1,0x03020001);
 data_in_bv.set32(2,0x01030300);
 data_in_bv.set32(3,0x01020203);
 addr = 0x038903dd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00fb0300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000010300030001);
 data_in_bv.set32(0,0x02030002);
 data_in_bv.set32(1,0x01000201);
 data_in_bv.set32(2,0x02000102);
 data_in_bv.set32(3,0x01000102);
 addr = 0x03fa4bda;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00030002000102);
 data_in_bv.set32(0,0x03020301);
 data_in_bv.set32(1,0x00030102);
 data_in_bv.set32(2,0x03000203);
 data_in_bv.set32(3,0x03000300);
 addr = 0x02d8aa01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0302b701,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd00030103010202);
 data_in_bv.set32(0,0x03000300);
 data_in_bv.set32(1,0x00010102);
 data_in_bv.set32(2,0x03030302);
 data_in_bv.set32(3,0x00010301);
 addr = 0x02c52f5f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0103030303010103);
 data_in_bv.set32(0,0x01010003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00000203);
 data_in_bv.set32(3,0x00020102);
 addr = 0x019b3afe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe050102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00000201020200);
 data_in_bv.set32(0,0x00000202);
 data_in_bv.set32(1,0x02030203);
 data_in_bv.set32(2,0x03000100);
 data_in_bv.set32(3,0x03020003);
 addr = 0x0385a118;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00010003010201);
 data_in_bv.set32(0,0x03030301);
 data_in_bv.set32(1,0x02030301);
 data_in_bv.set32(2,0x01030101);
 data_in_bv.set32(3,0xfc020000);
 addr = 0x02a8abe2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc02b700,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd02030301020200);
 data_in_bv.set32(0,0x03010302);
 data_in_bv.set32(1,0x00030302);
 data_in_bv.set32(2,0x00010100);
 data_in_bv.set32(3,0x03010102);
 addr = 0x03eb8fba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03020002000300);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x00010301);
 data_in_bv.set32(2,0x00020102);
 data_in_bv.set32(3,0xfd030102);
 addr = 0x03a36f67;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd0300fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03000101000102);
 data_in_bv.set32(0,0x01000000);
 data_in_bv.set32(1,0x01000002);
 data_in_bv.set32(2,0x02000300);
 data_in_bv.set32(3,0x03020200);
 addr = 0x02cd3786;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0100b700,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0100030101000202);
 data_in_bv.set32(0,0x01020201);
 data_in_bv.set32(1,0x02020102);
 data_in_bv.set32(2,0x02020200);
 data_in_bv.set32(3,0x00010101);
 addr = 0x0398f953;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00fb0200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02020101000102);
 data_in_bv.set32(0,0x02030203);
 data_in_bv.set32(1,0x00020102);
 data_in_bv.set32(2,0x03030203);
 data_in_bv.set32(3,0x02030101);
 addr = 0x0080e5d1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd02010202010101);
 data_in_bv.set32(0,0x00010200);
 data_in_bv.set32(1,0x02030200);
 data_in_bv.set32(2,0x01030200);
 data_in_bv.set32(3,0x00030303);
 addr = 0x00f5d08b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0000010002030200);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x01030101);
 data_in_bv.set32(2,0x01010100);
 data_in_bv.set32(3,0x01020103);
 addr = 0x0293803b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0101020003020101);
 data_in_bv.set32(0,0x00010300);
 data_in_bv.set32(1,0x02030300);
 data_in_bv.set32(2,0x03020203);
 data_in_bv.set32(3,0x01000100);
 addr = 0x03ca30d0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301010301020002);
 data_in_bv.set32(0,0x03020001);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x03010302);
 data_in_bv.set32(3,0xfd030001);
 addr = 0x02d9c84a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0301b702,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd03030300010001);
 data_in_bv.set32(0,0x02000202);
 data_in_bv.set32(1,0x03030201);
 data_in_bv.set32(2,0x01000200);
 data_in_bv.set32(3,0x01030300);
 addr = 0x00d773e0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd00030000010002);
 data_in_bv.set32(0,0x02020202);
 data_in_bv.set32(1,0x02010303);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfd030302);
 addr = 0x0287d06b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd03b702,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0101030001030200);
 data_in_bv.set32(0,0x02010301);
 data_in_bv.set32(1,0x03030301);
 data_in_bv.set32(2,0x02010003);
 data_in_bv.set32(3,0xfc000003);
 addr = 0x00851954;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff03030103010002);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x00000002);
 data_in_bv.set32(2,0x03010302);
 data_in_bv.set32(3,0xfc020301);
 addr = 0x01c23268;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc02ff03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01000103020003);
 data_in_bv.set32(0,0x01000200);
 data_in_bv.set32(1,0x01010101);
 data_in_bv.set32(2,0x02000101);
 data_in_bv.set32(3,0xfc020003);
 addr = 0x0399d5c5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x020001fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02010301000300);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0x02030002);
 data_in_bv.set32(2,0x01020303);
 data_in_bv.set32(3,0x00030300);
 addr = 0x02a4b8bf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe02020202010100);
 data_in_bv.set32(0,0x01020300);
 data_in_bv.set32(1,0xb7030002);
 data_in_bv.set32(2,0x01020303);
 data_in_bv.set32(3,0x00030300);
 addr = 0x01a4b88e;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0102fe00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103020303030102);
 data_in_bv.set32(0,0x02030002);
 data_in_bv.set32(1,0x01020203);
 data_in_bv.set32(2,0x03030001);
 data_in_bv.set32(3,0xff010102);
 addr = 0x03fc7bbc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01000303000101);
 data_in_bv.set32(0,0x00010001);
 data_in_bv.set32(1,0x02030301);
 data_in_bv.set32(2,0x00000303);
 data_in_bv.set32(3,0x02030100);
 addr = 0x01c3a855;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02020203020202);
 data_in_bv.set32(0,0x02030201);
 data_in_bv.set32(1,0x02030102);
 data_in_bv.set32(2,0x00010103);
 data_in_bv.set32(3,0xfe030203);
 addr = 0x02d312fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc02020203030200);
 data_in_bv.set32(0,0x02030201);
 data_in_bv.set32(1,0x02030102);
 data_in_bv.set32(2,0x00010103);
 data_in_bv.set32(3,0xb7030203);
 addr = 0x01d312ef;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb703ff03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103030202030300);
 data_in_bv.set32(0,0x03010201);
 data_in_bv.set32(1,0x02000202);
 data_in_bv.set32(2,0x01010300);
 data_in_bv.set32(3,0x00030101);
 addr = 0x02f0165a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd02030003020100);
 data_in_bv.set32(0,0x00000100);
 data_in_bv.set32(1,0x03020101);
 data_in_bv.set32(2,0x03010001);
 data_in_bv.set32(3,0xfd020001);
 addr = 0x0383a4dd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00fb0001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000020202010100);
 data_in_bv.set32(0,0x02020203);
 data_in_bv.set32(1,0x02000000);
 data_in_bv.set32(2,0x03030302);
 data_in_bv.set32(3,0xfd000300);
 addr = 0x02be9508;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0202b703,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0301030100000003);
 data_in_bv.set32(0,0x00020103);
 data_in_bv.set32(1,0x01010002);
 data_in_bv.set32(2,0x02010101);
 data_in_bv.set32(3,0xff010002);
 addr = 0x008c78a5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff00030200000300);
 data_in_bv.set32(0,0x01020102);
 data_in_bv.set32(1,0x01010202);
 data_in_bv.set32(2,0x01000102);
 data_in_bv.set32(3,0x02010001);
 addr = 0x02b1a0c5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0100b702,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc00020003020300);
 data_in_bv.set32(0,0x02020203);
 data_in_bv.set32(1,0x00020200);
 data_in_bv.set32(2,0x01030300);
 data_in_bv.set32(3,0x01030003);
 addr = 0x03cd59b7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303020300020003);
 data_in_bv.set32(0,0x02030103);
 data_in_bv.set32(1,0x00010303);
 data_in_bv.set32(2,0x02000002);
 data_in_bv.set32(3,0x02010201);
 addr = 0x02970c34;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0000000302010102);
 data_in_bv.set32(0,0x01020101);
 data_in_bv.set32(1,0x03000102);
 data_in_bv.set32(2,0x01010101);
 data_in_bv.set32(3,0xfc030103);
 addr = 0x00c80ea7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff01020003000203);
 data_in_bv.set32(0,0x01000300);
 data_in_bv.set32(1,0x01030002);
 data_in_bv.set32(2,0x01020001);
 data_in_bv.set32(3,0xfd020001);
 addr = 0x02fbc082;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0100b700,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd03010102000303);
 data_in_bv.set32(0,0x02020203);
 data_in_bv.set32(1,0x00030300);
 data_in_bv.set32(2,0x02010303);
 data_in_bv.set32(3,0x00010300);
 addr = 0x02cfd1be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc00020302030203);
 data_in_bv.set32(0,0x03030301);
 data_in_bv.set32(1,0x00030100);
 data_in_bv.set32(2,0x00000302);
 data_in_bv.set32(3,0x02020201);
 addr = 0x008bd5ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd03000103020100);
 data_in_bv.set32(0,0x00020303);
 data_in_bv.set32(1,0x03020202);
 data_in_bv.set32(2,0x00030200);
 data_in_bv.set32(3,0xfc000200);
 addr = 0x03bcde74;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01030200000100);
 data_in_bv.set32(0,0x00020201);
 data_in_bv.set32(1,0x03000100);
 data_in_bv.set32(2,0x02030101);
 data_in_bv.set32(3,0x00020102);
 addr = 0x00912a19;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0202030101010203);
 data_in_bv.set32(0,0x00010203);
 data_in_bv.set32(1,0x01020002);
 data_in_bv.set32(2,0x02030101);
 data_in_bv.set32(3,0xfe010102);
 addr = 0x02f81d36;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe00030200000303);
 data_in_bv.set32(0,0x03000002);
 data_in_bv.set32(1,0x03020200);
 data_in_bv.set32(2,0x00010302);
 data_in_bv.set32(3,0xfe030201);
 addr = 0x0097adbc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe02000201020001);
 data_in_bv.set32(0,0x03000301);
 data_in_bv.set32(1,0x02020303);
 data_in_bv.set32(2,0x02010202);
 data_in_bv.set32(3,0xff030201);
 addr = 0x03ffdf52;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01010300020002);
 data_in_bv.set32(0,0x00030203);
 data_in_bv.set32(1,0x02010000);
 data_in_bv.set32(2,0x00010202);
 data_in_bv.set32(3,0x02010100);
 addr = 0x03eaf884;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000300fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303020000000301);
 data_in_bv.set32(0,0x02030002);
 data_in_bv.set32(1,0x03030101);
 data_in_bv.set32(2,0x02030101);
 data_in_bv.set32(3,0xfe020201);
 addr = 0x03dde8bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01020303000201);
 data_in_bv.set32(0,0x01000302);
 data_in_bv.set32(1,0x02000201);
 data_in_bv.set32(2,0x03030203);
 data_in_bv.set32(3,0x01000103);
 addr = 0x0191c3fd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200020000020002);
 data_in_bv.set32(0,0x00020201);
 data_in_bv.set32(1,0x03030100);
 data_in_bv.set32(2,0x02010001);
 data_in_bv.set32(3,0xfe010301);
 addr = 0x0392caee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe0100fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01010102030303);
 data_in_bv.set32(0,0x03010203);
 data_in_bv.set32(1,0x01010300);
 data_in_bv.set32(2,0x02000100);
 data_in_bv.set32(3,0xfe000302);
 addr = 0x01e31056;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300000201030301);
 data_in_bv.set32(0,0x01000201);
 data_in_bv.set32(1,0x00000103);
 data_in_bv.set32(2,0x02010102);
 data_in_bv.set32(3,0xfc030102);
 addr = 0x0095473e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd00010302010102);
 data_in_bv.set32(0,0x00010200);
 data_in_bv.set32(1,0x00000300);
 data_in_bv.set32(2,0x01010300);
 data_in_bv.set32(3,0x03000003);
 addr = 0x00d7596b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc03010003030102);
 data_in_bv.set32(0,0x00010203);
 data_in_bv.set32(1,0x00030102);
 data_in_bv.set32(2,0x02010102);
 data_in_bv.set32(3,0x01000103);
 addr = 0x039707f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003010000000101);
 data_in_bv.set32(0,0x02000102);
 data_in_bv.set32(1,0x01020303);
 data_in_bv.set32(2,0x01030200);
 data_in_bv.set32(3,0xff030201);
 addr = 0x029b0b96;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0003020302020301);
 data_in_bv.set32(0,0x01010303);
 data_in_bv.set32(1,0x00030203);
 data_in_bv.set32(2,0x00030202);
 data_in_bv.set32(3,0xfe020303);
 addr = 0x02ef3824;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003b703,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0003020203000102);
 data_in_bv.set32(0,0x00000202);
 data_in_bv.set32(1,0x02010101);
 data_in_bv.set32(2,0x03030202);
 data_in_bv.set32(3,0xfd000200);
 addr = 0x03cd5952;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00fb0202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301030200000301);
 data_in_bv.set32(0,0x01000100);
 data_in_bv.set32(1,0x01010101);
 data_in_bv.set32(2,0x03030003);
 data_in_bv.set32(3,0xfc030302);
 addr = 0x02d02c39;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd01030001030201);
 data_in_bv.set32(0,0x03000000);
 data_in_bv.set32(1,0x01020101);
 data_in_bv.set32(2,0x02030100);
 data_in_bv.set32(3,0xfe010303);
 addr = 0x03f0693b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01000201030001);
 data_in_bv.set32(0,0x01010201);
 data_in_bv.set32(1,0x00010203);
 data_in_bv.set32(2,0x02000003);
 data_in_bv.set32(3,0x00030001);
 addr = 0x00892cd5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc00030303000200);
 data_in_bv.set32(0,0x00030200);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x02000003);
 data_in_bv.set32(3,0xfd030200);
 addr = 0x008379c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0201000101000003);
 data_in_bv.set32(0,0x01000001);
 data_in_bv.set32(1,0x02010200);
 data_in_bv.set32(2,0x02020202);
 data_in_bv.set32(3,0xfc000001);
 addr = 0x00db3d08;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff03000100030302);
 data_in_bv.set32(0,0x01020101);
 data_in_bv.set32(1,0x00000200);
 data_in_bv.set32(2,0x00030200);
 data_in_bv.set32(3,0xfc030103);
 addr = 0x01834dde;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff050200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03020303020002);
 data_in_bv.set32(0,0x01000002);
 data_in_bv.set32(1,0x02010201);
 data_in_bv.set32(2,0x03000301);
 data_in_bv.set32(3,0x00010303);
 addr = 0x02a721bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0202010302020101);
 data_in_bv.set32(0,0x00020102);
 data_in_bv.set32(1,0x03010103);
 data_in_bv.set32(2,0x01010102);
 data_in_bv.set32(3,0xfd020303);
 addr = 0x009a9820;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0103020303010001);
 data_in_bv.set32(0,0x03010200);
 data_in_bv.set32(1,0x02000301);
 data_in_bv.set32(2,0x00000302);
 data_in_bv.set32(3,0xfc010303);
 addr = 0x00eace8f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc01000303030303);
 data_in_bv.set32(0,0x00010303);
 data_in_bv.set32(1,0x02020202);
 data_in_bv.set32(2,0x01020302);
 data_in_bv.set32(3,0x03010100);
 addr = 0x00a505c5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff02010100030003);
 data_in_bv.set32(0,0x03000100);
 data_in_bv.set32(1,0x00020100);
 data_in_bv.set32(2,0x01010002);
 data_in_bv.set32(3,0x01020101);
 addr = 0x03ad42df;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00020302020003);
 data_in_bv.set32(0,0x01000203);
 data_in_bv.set32(1,0x01020203);
 data_in_bv.set32(2,0x00010302);
 data_in_bv.set32(3,0xfc000000);
 addr = 0x03fb08af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x010201fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02030300000103);
 data_in_bv.set32(0,0x01010002);
 data_in_bv.set32(1,0x02000302);
 data_in_bv.set32(2,0x01020101);
 data_in_bv.set32(3,0xfc030001);
 addr = 0x02b4855e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0003000203000202);
 data_in_bv.set32(0,0x02020101);
 data_in_bv.set32(1,0x00010100);
 data_in_bv.set32(2,0x02020102);
 data_in_bv.set32(3,0xfd020300);
 addr = 0x0297ab65;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd02b700,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe01010001030102);
 data_in_bv.set32(0,0x02000303);
 data_in_bv.set32(1,0x03030201);
 data_in_bv.set32(2,0x03020201);
 data_in_bv.set32(3,0x01010203);
 addr = 0x038e278e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x020000fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102010101000303);
 data_in_bv.set32(0,0x02020002);
 data_in_bv.set32(1,0x01010103);
 data_in_bv.set32(2,0x01030102);
 data_in_bv.set32(3,0xff020203);
 addr = 0x03a5956a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff0201fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203020202030001);
 data_in_bv.set32(0,0x01000100);
 data_in_bv.set32(1,0x00030300);
 data_in_bv.set32(2,0x02020203);
 data_in_bv.set32(3,0xfd030002);
 addr = 0x00d47434;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0000010300020200);
 data_in_bv.set32(0,0x00000201);
 data_in_bv.set32(1,0x00030101);
 data_in_bv.set32(2,0x00020200);
 data_in_bv.set32(3,0x01030301);
 addr = 0x03e49bcf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000200fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103000303000002);
 data_in_bv.set32(0,0x00000200);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x02030101);
 data_in_bv.set32(3,0xfd030100);
 addr = 0x00a26a19;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0301030303000102);
 data_in_bv.set32(0,0x01010300);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x02030300);
 data_in_bv.set32(3,0x02000102);
 addr = 0x00960fd3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe02020000000303);
 data_in_bv.set32(0,0x00000202);
 data_in_bv.set32(1,0x01000303);
 data_in_bv.set32(2,0x01020100);
 data_in_bv.set32(3,0xfd020101);
 addr = 0x02b9ee07;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000b702,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0202000302000300);
 data_in_bv.set32(0,0x02030300);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x02010302);
 data_in_bv.set32(3,0xfd020000);
 addr = 0x03ec8886;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x020300fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203000103000300);
 data_in_bv.set32(0,0x03000200);
 data_in_bv.set32(1,0x01010302);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0x00000001);
 addr = 0x01ff9997;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002010003020001);
 data_in_bv.set32(0,0x03010103);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x02000202);
 data_in_bv.set32(3,0x01010301);
 addr = 0x028870e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0101b701,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0101020303000003);
 data_in_bv.set32(0,0x03020101);
 data_in_bv.set32(1,0x03020003);
 data_in_bv.set32(2,0x02020303);
 data_in_bv.set32(3,0xff030103);
 addr = 0x0190ecd9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe050303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102020000030002);
 data_in_bv.set32(0,0x02030103);
 data_in_bv.set32(1,0x01000303);
 data_in_bv.set32(2,0x03030001);
 data_in_bv.set32(3,0x03010303);
 addr = 0x02eba6fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0201000202030000);
 data_in_bv.set32(0,0x01000101);
 data_in_bv.set32(1,0x03030002);
 data_in_bv.set32(2,0x02020201);
 data_in_bv.set32(3,0xfe020202);
 addr = 0x01948607;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0100ff01,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000010200020103);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x03010202);
 data_in_bv.set32(2,0x02030202);
 data_in_bv.set32(3,0xfe030202);
 addr = 0x00970731;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0103030202020103);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x03010202);
 data_in_bv.set32(2,0x02030202);
 data_in_bv.set32(3,0xfe030202);
 addr = 0x03970755;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00020202000200);
 data_in_bv.set32(0,0x03000201);
 data_in_bv.set32(1,0x01000101);
 data_in_bv.set32(2,0x02020200);
 data_in_bv.set32(3,0x03020103);
 addr = 0x039a0396;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000020201030002);
 data_in_bv.set32(0,0x03020101);
 data_in_bv.set32(1,0x00030103);
 data_in_bv.set32(2,0x01010001);
 data_in_bv.set32(3,0xfe020301);
 addr = 0x02a9ac87;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0302b701,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd01010203010203);
 data_in_bv.set32(0,0x00000301);
 data_in_bv.set32(1,0x01010203);
 data_in_bv.set32(2,0x01000102);
 data_in_bv.set32(3,0xfd020102);
 addr = 0x008a584c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0102000202030203);
 data_in_bv.set32(0,0x02010201);
 data_in_bv.set32(1,0x03010002);
 data_in_bv.set32(2,0x00000103);
 data_in_bv.set32(3,0x00000100);
 addr = 0x03c9a9b1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000030100020003);
 data_in_bv.set32(0,0x03010102);
 data_in_bv.set32(1,0x01030201);
 data_in_bv.set32(2,0x00030203);
 data_in_bv.set32(3,0xff030101);
 addr = 0x00fd1146;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0202020200010102);
 data_in_bv.set32(0,0x02000102);
 data_in_bv.set32(1,0x00020303);
 data_in_bv.set32(2,0x03030102);
 data_in_bv.set32(3,0xfc030303);
 addr = 0x01b314ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc03ff05,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203030103030201);
 data_in_bv.set32(0,0x02000102);
 data_in_bv.set32(1,0x00020303);
 data_in_bv.set32(2,0x03030102);
 data_in_bv.set32(3,0xfc03ff05);
 addr = 0x01b314c5;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0303fe03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc03ff05,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03000301020102);
 data_in_bv.set32(0,0x00020203);
 data_in_bv.set32(1,0x01020100);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x02010101);
 addr = 0x00d4e581;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0000000202010100);
 data_in_bv.set32(0,0x00000200);
 data_in_bv.set32(1,0x02030002);
 data_in_bv.set32(2,0x03030300);
 data_in_bv.set32(3,0x01000000);
 addr = 0x00b2fb8c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0101030101000001);
 data_in_bv.set32(0,0x00020200);
 data_in_bv.set32(1,0x02030300);
 data_in_bv.set32(2,0x03030302);
 data_in_bv.set32(3,0xff010203);
 addr = 0x00f890af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0103000303000001);
 data_in_bv.set32(0,0x01030200);
 data_in_bv.set32(1,0x00000102);
 data_in_bv.set32(2,0x00000102);
 data_in_bv.set32(3,0xfd000102);
 addr = 0x01fdf5aa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0000fe03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000101000000);
 data_in_bv.set32(0,0x03000300);
 data_in_bv.set32(1,0x03030301);
 data_in_bv.set32(2,0x01010100);
 data_in_bv.set32(3,0x03020003);
 addr = 0x0083fd6e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd00000301030102);
 data_in_bv.set32(0,0x01000003);
 data_in_bv.set32(1,0x03010101);
 data_in_bv.set32(2,0x00010201);
 data_in_bv.set32(3,0x01000101);
 addr = 0x03857abf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100030003000300);
 data_in_bv.set32(0,0x01000003);
 data_in_bv.set32(1,0x00fb0101);
 data_in_bv.set32(2,0x00010201);
 data_in_bv.set32(3,0x01000101);
 addr = 0x00857afb;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0200020100020103);
 data_in_bv.set32(0,0x01000002);
 data_in_bv.set32(1,0x02010201);
 data_in_bv.set32(2,0x01030203);
 data_in_bv.set32(3,0x01020300);
 addr = 0x0197b464;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0102fe03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03010300030002);
 data_in_bv.set32(0,0x01010302);
 data_in_bv.set32(1,0x02020200);
 data_in_bv.set32(2,0x02030201);
 data_in_bv.set32(3,0x01010101);
 addr = 0x01da3669;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0101ff03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102030003010201);
 data_in_bv.set32(0,0x03010002);
 data_in_bv.set32(1,0x03020203);
 data_in_bv.set32(2,0x02030300);
 data_in_bv.set32(3,0xfe030000);
 addr = 0x01fcd79a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002030101030000);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x01000002);
 data_in_bv.set32(2,0x03030303);
 data_in_bv.set32(3,0x03020003);
 addr = 0x01ac8787;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003fe02,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301030100000203);
 data_in_bv.set32(0,0x01020001);
 data_in_bv.set32(1,0x01000000);
 data_in_bv.set32(2,0x01020103);
 data_in_bv.set32(3,0xfc000003);
 addr = 0x00b251bf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0100030101010001);
 data_in_bv.set32(0,0x01000002);
 data_in_bv.set32(1,0x03010000);
 data_in_bv.set32(2,0x03010300);
 data_in_bv.set32(3,0x03020000);
 addr = 0x00c19bdf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe00000201000102);
 data_in_bv.set32(0,0x00010103);
 data_in_bv.set32(1,0x03020203);
 data_in_bv.set32(2,0x02000301);
 data_in_bv.set32(3,0xfd000201);
 addr = 0x0195c00a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001ff05,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000303000102);
 data_in_bv.set32(0,0x02030103);
 data_in_bv.set32(1,0x02010301);
 data_in_bv.set32(2,0x02010301);
 data_in_bv.set32(3,0x01000000);
 addr = 0x03d88616;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301020103030302);
 data_in_bv.set32(0,0x03020200);
 data_in_bv.set32(1,0x00010100);
 data_in_bv.set32(2,0x01010301);
 data_in_bv.set32(3,0xfd020300);
 addr = 0x0387a483;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x030200fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00020203010200);
 data_in_bv.set32(0,0x02030202);
 data_in_bv.set32(1,0x00000202);
 data_in_bv.set32(2,0x03000302);
 data_in_bv.set32(3,0xfc020300);
 addr = 0x0080401e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe00020200000300);
 data_in_bv.set32(0,0x01010202);
 data_in_bv.set32(1,0x00020302);
 data_in_bv.set32(2,0x01020101);
 data_in_bv.set32(3,0xfd000002);
 addr = 0x018f7a20;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002fe03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03020201010002);
 data_in_bv.set32(0,0x03020000);
 data_in_bv.set32(1,0x03010101);
 data_in_bv.set32(2,0x03010202);
 data_in_bv.set32(3,0x02030101);
 addr = 0x02d2f280;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0302b700,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff03030103020302);
 data_in_bv.set32(0,0x00000300);
 data_in_bv.set32(1,0x03030103);
 data_in_bv.set32(2,0x01010301);
 data_in_bv.set32(3,0xfd000003);
 addr = 0x03d847f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02020100000103);
 data_in_bv.set32(0,0x03000003);
 data_in_bv.set32(1,0x02010003);
 data_in_bv.set32(2,0x02020201);
 data_in_bv.set32(3,0x00010201);
 addr = 0x00fa52a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe00010103000002);
 data_in_bv.set32(0,0x00010300);
 data_in_bv.set32(1,0x01030002);
 data_in_bv.set32(2,0x03020102);
 data_in_bv.set32(3,0x01030101);
 addr = 0x03e88a77;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02030102010101);
 data_in_bv.set32(0,0x03030003);
 data_in_bv.set32(1,0x03030303);
 data_in_bv.set32(2,0x01030101);
 data_in_bv.set32(3,0x01020201);
 addr = 0x01d3e527;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0303ff04,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100000202010003);
 data_in_bv.set32(0,0x02000201);
 data_in_bv.set32(1,0x02000100);
 data_in_bv.set32(2,0x00020202);
 data_in_bv.set32(3,0x02030102);
 addr = 0x03cd4fce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000201fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01000201020302);
 data_in_bv.set32(0,0x03010302);
 data_in_bv.set32(1,0x01000201);
 data_in_bv.set32(2,0x02010203);
 data_in_bv.set32(3,0x03030002);
 addr = 0x02a8c1b8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff00030201030001);
 data_in_bv.set32(0,0x01020301);
 data_in_bv.set32(1,0x02010303);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0x03000000);
 addr = 0x03bd9537;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103010001000101);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x02030300);
 data_in_bv.set32(2,0x03000301);
 data_in_bv.set32(3,0xfc010302);
 addr = 0x01ba6dd4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02010003000201);
 data_in_bv.set32(0,0x02020303);
 data_in_bv.set32(1,0x03010003);
 data_in_bv.set32(2,0x03030101);
 data_in_bv.set32(3,0x00000100);
 addr = 0x00e411a2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0103000300030100);
 data_in_bv.set32(0,0x00010302);
 data_in_bv.set32(1,0x02010203);
 data_in_bv.set32(2,0x03030302);
 data_in_bv.set32(3,0xfc000301);
 addr = 0x03bbb27f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202020001030000);
 data_in_bv.set32(0,0x03020302);
 data_in_bv.set32(1,0x02000302);
 data_in_bv.set32(2,0x03020201);
 data_in_bv.set32(3,0x00020101);
 addr = 0x00c2353c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0201020100030100);
 data_in_bv.set32(0,0x01000300);
 data_in_bv.set32(1,0x02010003);
 data_in_bv.set32(2,0x03000103);
 data_in_bv.set32(3,0xfd030302);
 addr = 0x02dd034a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0300b703,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff03030300020300);
 data_in_bv.set32(0,0x03020302);
 data_in_bv.set32(1,0x01020200);
 data_in_bv.set32(2,0x03010200);
 data_in_bv.set32(3,0x00020201);
 addr = 0x02d12055;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0300020103020203);
 data_in_bv.set32(0,0x03000001);
 data_in_bv.set32(1,0x01020102);
 data_in_bv.set32(2,0x03020000);
 data_in_bv.set32(3,0x01030101);
 addr = 0x00c26589;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0300030102020001);
 data_in_bv.set32(0,0x01000002);
 data_in_bv.set32(1,0x00000302);
 data_in_bv.set32(2,0x00020301);
 data_in_bv.set32(3,0xfe000000);
 addr = 0x01c7cbda;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000203020103);
 data_in_bv.set32(0,0x01030302);
 data_in_bv.set32(1,0x00000302);
 data_in_bv.set32(2,0x01010003);
 data_in_bv.set32(3,0xfc020301);
 addr = 0x00857670;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0002010002020201);
 data_in_bv.set32(0,0x02000101);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x02020000);
 data_in_bv.set32(3,0x03010200);
 addr = 0x009b8204;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0203010000010102);
 data_in_bv.set32(0,0x01020303);
 data_in_bv.set32(1,0x00010202);
 data_in_bv.set32(2,0x02030002);
 data_in_bv.set32(3,0xfd000200);
 addr = 0x03b6e3d0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00fb0002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301010101000002);
 data_in_bv.set32(0,0x00020103);
 data_in_bv.set32(1,0x00020002);
 data_in_bv.set32(2,0x02030200);
 data_in_bv.set32(3,0xfc010002);
 addr = 0x02cf737e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0302030203030301);
 data_in_bv.set32(0,0x03000001);
 data_in_bv.set32(1,0x02010300);
 data_in_bv.set32(2,0x01010300);
 data_in_bv.set32(3,0xfc000102);
 addr = 0x00aac4ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe02000002030002);
 data_in_bv.set32(0,0x00010000);
 data_in_bv.set32(1,0x01030301);
 data_in_bv.set32(2,0x01030002);
 data_in_bv.set32(3,0xff010001);
 addr = 0x00847d81;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff03000000020003);
 data_in_bv.set32(0,0x02020001);
 data_in_bv.set32(1,0x00020202);
 data_in_bv.set32(2,0x01020200);
 data_in_bv.set32(3,0x01020300);
 addr = 0x0183f2b6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe050202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02010301030302);
 data_in_bv.set32(0,0x01020201);
 data_in_bv.set32(1,0x03020103);
 data_in_bv.set32(2,0x01030101);
 data_in_bv.set32(3,0xfc030300);
 addr = 0x02a16ee4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc03b700,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe02010000010101);
 data_in_bv.set32(0,0x01030300);
 data_in_bv.set32(1,0x03020200);
 data_in_bv.set32(2,0x00020301);
 data_in_bv.set32(3,0x00030103);
 addr = 0x02d59fe6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0003b703,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd01010101030301);
 data_in_bv.set32(0,0x00030300);
 data_in_bv.set32(1,0x01000103);
 data_in_bv.set32(2,0x02020302);
 data_in_bv.set32(3,0x02020102);
 addr = 0x03c97cc0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x020201fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103030202010103);
 data_in_bv.set32(0,0x02010101);
 data_in_bv.set32(1,0x02010302);
 data_in_bv.set32(2,0x00030303);
 data_in_bv.set32(3,0xff000203);
 addr = 0x02ad5c2a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0201b702,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc01030102000002);
 data_in_bv.set32(0,0x00030301);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x02030102);
 data_in_bv.set32(3,0x00020201);
 addr = 0x02d6433c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd03000303030200);
 data_in_bv.set32(0,0x01030200);
 data_in_bv.set32(1,0x03020300);
 data_in_bv.set32(2,0x01020001);
 data_in_bv.set32(3,0x00020101);
 addr = 0x03f1c20e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x010300fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300020301030301);
 data_in_bv.set32(0,0x00010202);
 data_in_bv.set32(1,0x02000302);
 data_in_bv.set32(2,0x03020101);
 data_in_bv.set32(3,0xfc010302);
 addr = 0x00f34562;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd02000301000100);
 data_in_bv.set32(0,0x02020000);
 data_in_bv.set32(1,0x01030303);
 data_in_bv.set32(2,0x02020202);
 data_in_bv.set32(3,0xfe010103);
 addr = 0x01a245e1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe01ff03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00000000000300);
 data_in_bv.set32(0,0x01030000);
 data_in_bv.set32(1,0x01010002);
 data_in_bv.set32(2,0x02000001);
 data_in_bv.set32(3,0x02000300);
 addr = 0x01f2508b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0103fe00,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101020202030300);
 data_in_bv.set32(0,0x01000001);
 data_in_bv.set32(1,0x02000103);
 data_in_bv.set32(2,0x03000102);
 data_in_bv.set32(3,0x03020302);
 addr = 0x02d6047d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe01000203000102);
 data_in_bv.set32(0,0x01030303);
 data_in_bv.set32(1,0x01000003);
 data_in_bv.set32(2,0x01000002);
 data_in_bv.set32(3,0xfc020002);
 addr = 0x03d6501a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02030102010303);
 data_in_bv.set32(0,0x03020203);
 data_in_bv.set32(1,0x01010000);
 data_in_bv.set32(2,0x03000300);
 data_in_bv.set32(3,0xfc030002);
 addr = 0x02d9d704;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0302b703,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0000010201020302);
 data_in_bv.set32(0,0x01030202);
 data_in_bv.set32(1,0x03030003);
 data_in_bv.set32(2,0x03030300);
 data_in_bv.set32(3,0xff020001);
 addr = 0x01b5cf11;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff050202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02020103030002);
 data_in_bv.set32(0,0x00020103);
 data_in_bv.set32(1,0x03030302);
 data_in_bv.set32(2,0x02030202);
 data_in_bv.set32(3,0x02010000);
 addr = 0x02b2d9c6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0203b702,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc01010200010303);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x02000201);
 data_in_bv.set32(3,0xff030202);
 addr = 0x02c9e50d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002b702,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc02030001010302);
 data_in_bv.set32(0,0x0002b702);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x02000201);
 data_in_bv.set32(3,0xff030202);
 addr = 0x01c9e548;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002b702,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0200ff03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00030003010202);
 data_in_bv.set32(0,0x0002b702);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x0200ff03);
 data_in_bv.set32(3,0xff030202);
 addr = 0x00c9e579;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002b702,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0200ff03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0003030000010103);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x02000103);
 data_in_bv.set32(2,0x03010101);
 data_in_bv.set32(3,0x03030301);
 addr = 0x03d81a24;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x020001fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003010202010300);
 data_in_bv.set32(0,0x02000101);
 data_in_bv.set32(1,0x03000101);
 data_in_bv.set32(2,0x00000201);
 data_in_bv.set32(3,0xfd030202);
 addr = 0x01fc6688;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0200ff01,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00000300020302);
 data_in_bv.set32(0,0x01020002);
 data_in_bv.set32(1,0x01000300);
 data_in_bv.set32(2,0x01020301);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03edbef3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103030203030001);
 data_in_bv.set32(0,0x01020002);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x01020200);
 data_in_bv.set32(3,0x03010200);
 addr = 0x00ccb841;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0101010000030100);
 data_in_bv.set32(0,0x02030000);
 data_in_bv.set32(1,0x00000201);
 data_in_bv.set32(2,0x02020302);
 data_in_bv.set32(3,0x03000303);
 addr = 0x00a0cba7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0303000102010303);
 data_in_bv.set32(0,0x02010300);
 data_in_bv.set32(1,0x03030103);
 data_in_bv.set32(2,0x02020003);
 data_in_bv.set32(3,0xfd030203);
 addr = 0x01ae770e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0201fe03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000030200030000);
 data_in_bv.set32(0,0x02030101);
 data_in_bv.set32(1,0x00020201);
 data_in_bv.set32(2,0x03010301);
 data_in_bv.set32(3,0xff000100);
 addr = 0x00e9b06d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe01000301030202);
 data_in_bv.set32(0,0x03020003);
 data_in_bv.set32(1,0x02010200);
 data_in_bv.set32(2,0x03020002);
 data_in_bv.set32(3,0x02000302);
 addr = 0x01a410c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0302fe04,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103000301010301);
 data_in_bv.set32(0,0x01010102);
 data_in_bv.set32(1,0x02020003);
 data_in_bv.set32(2,0x03010000);
 data_in_bv.set32(3,0xfd010303);
 addr = 0x00db88af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd02010101010202);
 data_in_bv.set32(0,0x01030100);
 data_in_bv.set32(1,0x03000103);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfc030002);
 addr = 0x02b52e14;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7030100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd00030203030202);
 data_in_bv.set32(0,0x00010200);
 data_in_bv.set32(1,0x03030001);
 data_in_bv.set32(2,0x02020300);
 data_in_bv.set32(3,0xfc030103);
 addr = 0x00cb7e9b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff03030201020100);
 data_in_bv.set32(0,0x01020102);
 data_in_bv.set32(1,0x03020101);
 data_in_bv.set32(2,0x03010100);
 data_in_bv.set32(3,0x03010003);
 addr = 0x02f6ad01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0102b702,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0100010302020203);
 data_in_bv.set32(0,0x03020300);
 data_in_bv.set32(1,0x01000000);
 data_in_bv.set32(2,0x02030100);
 data_in_bv.set32(3,0xfd030003);
 addr = 0x01aa1e82;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0302fe03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302010302020002);
 data_in_bv.set32(0,0x03030202);
 data_in_bv.set32(1,0x02000203);
 data_in_bv.set32(2,0x01030003);
 data_in_bv.set32(3,0x03010100);
 addr = 0x00af9ed1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe02020100030000);
 data_in_bv.set32(0,0x00010200);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x01000202);
 data_in_bv.set32(3,0x03030303);
 addr = 0x03cbaf75;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00000202020102);
 data_in_bv.set32(0,0x02000200);
 data_in_bv.set32(1,0x02020201);
 data_in_bv.set32(2,0x01000101);
 data_in_bv.set32(3,0xfe000302);
 addr = 0x00c9d554;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0102020102000003);
 data_in_bv.set32(0,0x00010201);
 data_in_bv.set32(1,0x00000301);
 data_in_bv.set32(2,0x02030001);
 data_in_bv.set32(3,0xff020000);
 addr = 0x00e6189a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0300030100020201);
 data_in_bv.set32(0,0x02000202);
 data_in_bv.set32(1,0x02000002);
 data_in_bv.set32(2,0x03030003);
 data_in_bv.set32(3,0xfc000100);
 addr = 0x01c6eca7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0200fe03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00010101030001);
 data_in_bv.set32(0,0x01030003);
 data_in_bv.set32(1,0x03000002);
 data_in_bv.set32(2,0x03020301);
 data_in_bv.set32(3,0x00010000);
 addr = 0x03f89418;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03000001000102);
 data_in_bv.set32(0,0x02030103);
 data_in_bv.set32(1,0x01000000);
 data_in_bv.set32(2,0x03030201);
 data_in_bv.set32(3,0x01020000);
 addr = 0x01f5c290;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff050103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102020003010103);
 data_in_bv.set32(0,0x00030300);
 data_in_bv.set32(1,0x02030101);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0xfc030100);
 addr = 0x02dda89d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0003030202020300);
 data_in_bv.set32(0,0x03000202);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x00010103);
 data_in_bv.set32(3,0x02020101);
 addr = 0x00ab9aed;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0103000300010203);
 data_in_bv.set32(0,0x00020201);
 data_in_bv.set32(1,0x02020001);
 data_in_bv.set32(2,0x01010301);
 data_in_bv.set32(3,0x02020000);
 addr = 0x01f03aca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0101ff05,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003010003020002);
 data_in_bv.set32(0,0x00000101);
 data_in_bv.set32(1,0x01000302);
 data_in_bv.set32(2,0x02030202);
 data_in_bv.set32(3,0x01000202);
 addr = 0x01b42568;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0100fe04,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003010301030203);
 data_in_bv.set32(0,0x02010302);
 data_in_bv.set32(1,0x02030203);
 data_in_bv.set32(2,0x03020002);
 data_in_bv.set32(3,0xfe010302);
 addr = 0x019e46b1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff070203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300000200010303);
 data_in_bv.set32(0,0x01030302);
 data_in_bv.set32(1,0x02010301);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xffff0100);
 addr = 0x02ac6dc4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002b701,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xffff0100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0300000000020301);
 data_in_bv.set32(0,0x03020103);
 data_in_bv.set32(1,0x01010300);
 data_in_bv.set32(2,0x03030201);
 data_in_bv.set32(3,0x00000101);
 addr = 0x02ec43fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0201030102000001);
 data_in_bv.set32(0,0x00030103);
 data_in_bv.set32(1,0x00020202);
 data_in_bv.set32(2,0x03000003);
 data_in_bv.set32(3,0xfd000100);
 addr = 0x03d1bcbf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302000002000200);
 data_in_bv.set32(0,0x01000000);
 data_in_bv.set32(1,0x00030302);
 data_in_bv.set32(2,0x01010103);
 data_in_bv.set32(3,0xfc000101);
 addr = 0x03ed44b9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03020000020101);
 data_in_bv.set32(0,0x02000201);
 data_in_bv.set32(1,0x00010302);
 data_in_bv.set32(2,0x02000300);
 data_in_bv.set32(3,0xfe030200);
 addr = 0x03be93fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01010203030200);
 data_in_bv.set32(0,0x01030200);
 data_in_bv.set32(1,0x03010200);
 data_in_bv.set32(2,0x02010001);
 data_in_bv.set32(3,0x03010100);
 addr = 0x02adf45b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0001010002010200);
 data_in_bv.set32(0,0x01010203);
 data_in_bv.set32(1,0x01020300);
 data_in_bv.set32(2,0x01020200);
 data_in_bv.set32(3,0xfd020301);
 addr = 0x02df0706;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0101b703,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0201020202000201);
 data_in_bv.set32(0,0x03010102);
 data_in_bv.set32(1,0x03030200);
 data_in_bv.set32(2,0x00010103);
 data_in_bv.set32(3,0xfd000003);
 addr = 0x018afb6e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd00ff04,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00030201010201);
 data_in_bv.set32(0,0x01000303);
 data_in_bv.set32(1,0x00010300);
 data_in_bv.set32(2,0x00020103);
 data_in_bv.set32(3,0x01010001);
 addr = 0x03fc753e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303020002000000);
 data_in_bv.set32(0,0x01000303);
 data_in_bv.set32(1,0x01fb0300);
 data_in_bv.set32(2,0x00020103);
 data_in_bv.set32(3,0x01010001);
 addr = 0x03fc7515;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201010100010201);
 data_in_bv.set32(0,0x02020202);
 data_in_bv.set32(1,0x02010100);
 data_in_bv.set32(2,0x03020202);
 data_in_bv.set32(3,0xfd000301);
 addr = 0x02bbc5c9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0302b702,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0200020100000201);
 data_in_bv.set32(0,0x01000002);
 data_in_bv.set32(1,0x00000303);
 data_in_bv.set32(2,0x03030201);
 data_in_bv.set32(3,0xfc010103);
 addr = 0x03fe3641;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x030301fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01000101010002);
 data_in_bv.set32(0,0x01020201);
 data_in_bv.set32(1,0x03030000);
 data_in_bv.set32(2,0x03000003);
 data_in_bv.set32(3,0x00000102);
 addr = 0x01a2db69;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000fe04,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300020200010301);
 data_in_bv.set32(0,0x03030300);
 data_in_bv.set32(1,0x00000301);
 data_in_bv.set32(2,0x03000201);
 data_in_bv.set32(3,0xff010300);
 addr = 0x00c005f1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0303010002030203);
 data_in_bv.set32(0,0x01000101);
 data_in_bv.set32(1,0x00000000);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0x03000101);
 addr = 0x02ee031a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff01020303000303);
 data_in_bv.set32(0,0x03010200);
 data_in_bv.set32(1,0x02010301);
 data_in_bv.set32(2,0x01020001);
 data_in_bv.set32(3,0xfc000102);
 addr = 0x02a77176;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe00030201030103);
 data_in_bv.set32(0,0x01020003);
 data_in_bv.set32(1,0x03020001);
 data_in_bv.set32(2,0x03030201);
 data_in_bv.set32(3,0x00010002);
 addr = 0x0383c6a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x030201fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03010301010003);
 data_in_bv.set32(0,0x03020203);
 data_in_bv.set32(1,0x03020203);
 data_in_bv.set32(2,0x03010302);
 data_in_bv.set32(3,0xfc000301);
 addr = 0x01931d63;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc00ff04,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00020203000003);
 data_in_bv.set32(0,0x00020100);
 data_in_bv.set32(1,0x02030303);
 data_in_bv.set32(2,0x02000101);
 data_in_bv.set32(3,0xfe010202);
 addr = 0x03eb2dc0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x020001fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02030300010301);
 data_in_bv.set32(0,0x00020102);
 data_in_bv.set32(1,0x00000102);
 data_in_bv.set32(2,0x03020100);
 data_in_bv.set32(3,0x00030301);
 addr = 0x0198428a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002fe03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02020202010001);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x02000101);
 data_in_bv.set32(2,0x02010100);
 data_in_bv.set32(3,0x02000302);
 addr = 0x00cc92c2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0002030103010302);
 data_in_bv.set32(0,0x01000302);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x01020101);
 data_in_bv.set32(3,0xfc030203);
 addr = 0x01dd2bb5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03020101000303);
 data_in_bv.set32(0,0x03020001);
 data_in_bv.set32(1,0x00000003);
 data_in_bv.set32(2,0x01010202);
 data_in_bv.set32(3,0x01000003);
 addr = 0x0193fb93;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe050001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02000001020101);
 data_in_bv.set32(0,0x02030102);
 data_in_bv.set32(1,0x00000100);
 data_in_bv.set32(2,0x02000200);
 data_in_bv.set32(3,0x03000303);
 addr = 0x02eec7ea;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0300b703,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd03020003000103);
 data_in_bv.set32(0,0x01000102);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x02000000);
 data_in_bv.set32(3,0x02010100);
 addr = 0x02836964;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0201b700,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0202030302010202);
 data_in_bv.set32(0,0x02020101);
 data_in_bv.set32(1,0x02020200);
 data_in_bv.set32(2,0x00020101);
 data_in_bv.set32(3,0xfd030101);
 addr = 0x00f0c055;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0301010301000000);
 data_in_bv.set32(0,0x02010303);
 data_in_bv.set32(1,0x02010203);
 data_in_bv.set32(2,0x00020200);
 data_in_bv.set32(3,0xff030001);
 addr = 0x02998289;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0201b703,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff03020202010301);
 data_in_bv.set32(0,0x02020002);
 data_in_bv.set32(1,0x03020101);
 data_in_bv.set32(2,0x01020200);
 data_in_bv.set32(3,0xfd000302);
 addr = 0x00a8e232;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff01020100030303);
 data_in_bv.set32(0,0x03020102);
 data_in_bv.set32(1,0x03030101);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x03030202);
 addr = 0x00c76662;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd02000102000301);
 data_in_bv.set32(0,0x01030003);
 data_in_bv.set32(1,0x01010003);
 data_in_bv.set32(2,0x03030301);
 data_in_bv.set32(3,0x03020302);
 addr = 0x00a5161d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc02000300020101);
 data_in_bv.set32(0,0x03020101);
 data_in_bv.set32(1,0x01020203);
 data_in_bv.set32(2,0x01030000);
 data_in_bv.set32(3,0x00020200);
 addr = 0x03d9b241;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x010301fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01030300030203);
 data_in_bv.set32(0,0x01000201);
 data_in_bv.set32(1,0x03020302);
 data_in_bv.set32(2,0x00010202);
 data_in_bv.set32(3,0x01020303);
 addr = 0x00c0ec3b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0002030302000101);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x02020001);
 data_in_bv.set32(2,0x01010201);
 data_in_bv.set32(3,0xfd030302);
 addr = 0x02fd75ac;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0202b701,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0003030202000300);
 data_in_bv.set32(0,0x01030200);
 data_in_bv.set32(1,0x03000100);
 data_in_bv.set32(2,0x01030102);
 data_in_bv.set32(3,0x01010202);
 addr = 0x01b3c8d3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00000200020100);
 data_in_bv.set32(0,0x01000201);
 data_in_bv.set32(1,0x03000200);
 data_in_bv.set32(2,0x02000103);
 data_in_bv.set32(3,0x03010001);
 addr = 0x03d5496a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x030100fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000002000000);
 data_in_bv.set32(0,0x03030200);
 data_in_bv.set32(1,0x00010302);
 data_in_bv.set32(2,0x02010203);
 data_in_bv.set32(3,0xfe030202);
 addr = 0x02df6a13;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0100030000030200);
 data_in_bv.set32(0,0x00010303);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x01000302);
 data_in_bv.set32(3,0xfd030303);
 addr = 0x00e98bfd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe00020203020002);
 data_in_bv.set32(0,0x03020100);
 data_in_bv.set32(1,0x02000101);
 data_in_bv.set32(2,0x01020103);
 data_in_bv.set32(3,0xfd030003);
 addr = 0x03b70505;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x030200fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01010003010202);
 data_in_bv.set32(0,0x01010301);
 data_in_bv.set32(1,0x02020000);
 data_in_bv.set32(2,0x01030001);
 data_in_bv.set32(3,0xfc010202);
 addr = 0x02db8953;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe02020202030102);
 data_in_bv.set32(0,0x03030000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x01010303);
 data_in_bv.set32(3,0x03000002);
 addr = 0x03f63e0b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x030300fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01000100010201);
 data_in_bv.set32(0,0x03020203);
 data_in_bv.set32(1,0x00010300);
 data_in_bv.set32(2,0x01020002);
 data_in_bv.set32(3,0x00010102);
 addr = 0x00e6fb8c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff02000100030300);
 data_in_bv.set32(0,0x01000303);
 data_in_bv.set32(1,0x01010100);
 data_in_bv.set32(2,0x00020303);
 data_in_bv.set32(3,0xfc010302);
 addr = 0x01a8ddc2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002ff03,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301030200030202);
 data_in_bv.set32(0,0x00030203);
 data_in_bv.set32(1,0x01000002);
 data_in_bv.set32(2,0x03000203);
 data_in_bv.set32(3,0x02020102);
 addr = 0x029d2c42;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0300b703,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0300030202020101);
 data_in_bv.set32(0,0x02020203);
 data_in_bv.set32(1,0x00010102);
 data_in_bv.set32(2,0x01010103);
 data_in_bv.set32(3,0xfc020302);
 addr = 0x00bb2f47;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff00010100000301);
 data_in_bv.set32(0,0x02020301);
 data_in_bv.set32(1,0x00020202);
 data_in_bv.set32(2,0x03030000);
 data_in_bv.set32(3,0xff020001);
 addr = 0x02bbf34b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0303b700,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0103010300000000);
 data_in_bv.set32(0,0x01000002);
 data_in_bv.set32(1,0x01010302);
 data_in_bv.set32(2,0x00020303);
 data_in_bv.set32(3,0xff000102);
 addr = 0x03dbc4fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03000202010102);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x03000001);
 data_in_bv.set32(2,0x02020201);
 data_in_bv.set32(3,0x01030200);
 addr = 0x02ea0222;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0300b701,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff02000102000003);
 data_in_bv.set32(0,0x01030302);
 data_in_bv.set32(1,0x02020000);
 data_in_bv.set32(2,0x00020203);
 data_in_bv.set32(3,0x02020102);
 addr = 0x039879d7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102000100030003);
 data_in_bv.set32(0,0x01000002);
 data_in_bv.set32(1,0x02030003);
 data_in_bv.set32(2,0x03030200);
 data_in_bv.set32(3,0xfc010302);
 addr = 0x039c7816;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03030200010002);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020203);
 data_in_bv.set32(2,0x00000302);
 data_in_bv.set32(3,0x00010101);
 addr = 0x018c389f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe040003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103000203030201);
 data_in_bv.set32(0,0x01000303);
 data_in_bv.set32(1,0x03020100);
 data_in_bv.set32(2,0x00000203);
 data_in_bv.set32(3,0x03030203);
 addr = 0x03e2e5ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000001fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02000003030001);
 data_in_bv.set32(0,0x02020203);
 data_in_bv.set32(1,0x00000200);
 data_in_bv.set32(2,0x01010100);
 data_in_bv.set32(3,0x03010303);
 addr = 0x03e7b258;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01020303030203);
 data_in_bv.set32(0,0x03010303);
 data_in_bv.set32(1,0x03010201);
 data_in_bv.set32(2,0x03010102);
 data_in_bv.set32(3,0x00010200);
 addr = 0x00ffb8b8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0200000103010303);
 data_in_bv.set32(0,0x03020101);
 data_in_bv.set32(1,0x00020300);
 data_in_bv.set32(2,0x01030103);
 data_in_bv.set32(3,0x02010201);
 addr = 0x018c85c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0103ff07,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03020002020100);
 data_in_bv.set32(0,0x02010002);
 data_in_bv.set32(1,0x00020203);
 data_in_bv.set32(2,0x01020301);
 data_in_bv.set32(3,0x02010201);
 addr = 0x00ebe7b2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0202010300030002);
 data_in_bv.set32(0,0x01020100);
 data_in_bv.set32(1,0x00030300);
 data_in_bv.set32(2,0x01020300);
 data_in_bv.set32(3,0x00000302);
 addr = 0x03d2b2e4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x000000fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00030201030200);
 data_in_bv.set32(0,0x02030101);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x00000203);
 data_in_bv.set32(3,0x03030103);
 addr = 0x03b212c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000000fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01010002020103);
 data_in_bv.set32(0,0x02030301);
 data_in_bv.set32(1,0x00020103);
 data_in_bv.set32(2,0x02030000);
 data_in_bv.set32(3,0x01020102);
 addr = 0x01c5f86a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0102fe05,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02020300020302);
 data_in_bv.set32(0,0x02030203);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x02030202);
 data_in_bv.set32(3,0xff000303);
 addr = 0x01e38e98;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff050203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00000302020201);
 data_in_bv.set32(0,0x00020301);
 data_in_bv.set32(1,0x02030203);
 data_in_bv.set32(2,0x02010200);
 data_in_bv.set32(3,0x00010100);
 addr = 0x01e0232c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0203ff05,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203030000020200);
 data_in_bv.set32(0,0x00000200);
 data_in_bv.set32(1,0x02000301);
 data_in_bv.set32(2,0x02000000);
 data_in_bv.set32(3,0xfd020002);
 addr = 0x039cf6fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100000102020102);
 data_in_bv.set32(0,0x02010102);
 data_in_bv.set32(1,0x03000203);
 data_in_bv.set32(2,0x03000100);
 data_in_bv.set32(3,0x03030103);
 addr = 0x02e19bef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0303b703,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0003010102000200);
 data_in_bv.set32(0,0x00030302);
 data_in_bv.set32(1,0x01010203);
 data_in_bv.set32(2,0x00010100);
 data_in_bv.set32(3,0xfe010301);
 addr = 0x00b6266d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0100030101010102);
 data_in_bv.set32(0,0x00020202);
 data_in_bv.set32(1,0x03020301);
 data_in_bv.set32(2,0x02000202);
 data_in_bv.set32(3,0xfd010203);
 addr = 0x0187787f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203030003020102);
 data_in_bv.set32(0,0x01000200);
 data_in_bv.set32(1,0x00010202);
 data_in_bv.set32(2,0x02030002);
 data_in_bv.set32(3,0x03010300);
 addr = 0x00fb6049;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe03000002010201);
 data_in_bv.set32(0,0x01000201);
 data_in_bv.set32(1,0x00030202);
 data_in_bv.set32(2,0x02030001);
 data_in_bv.set32(3,0xff000003);
 addr = 0x038b3163;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff0001fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02010203010003);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x02010203);
 data_in_bv.set32(2,0x03030000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x0180061f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003010001000103);
 data_in_bv.set32(0,0x03010103);
 data_in_bv.set32(1,0x03030101);
 data_in_bv.set32(2,0x03010102);
 data_in_bv.set32(3,0xff030300);
 addr = 0x02968390;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff01020100030103);
 data_in_bv.set32(0,0x00020302);
 data_in_bv.set32(1,0x01020201);
 data_in_bv.set32(2,0x03010301);
 data_in_bv.set32(3,0xff020200);
 addr = 0x009a85c5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc01010102010100);
 data_in_bv.set32(0,0x03020303);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x03030102);
 data_in_bv.set32(3,0xfc020300);
 addr = 0x02b54c4f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0303b702,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0202010003000303);
 data_in_bv.set32(0,0x00010201);
 data_in_bv.set32(1,0x01010103);
 data_in_bv.set32(2,0x01030001);
 data_in_bv.set32(3,0x00000100);
 addr = 0x01817471;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000201000103);
 data_in_bv.set32(0,0x01000200);
 data_in_bv.set32(1,0x02020201);
 data_in_bv.set32(2,0x02000102);
 data_in_bv.set32(3,0x02030001);
 addr = 0x00bed6b5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe00020002010103);
 data_in_bv.set32(0,0x01000200);
 data_in_bv.set32(1,0x02020201);
 data_in_bv.set32(2,0x02000102);
 data_in_bv.set32(3,0x02030001);
 addr = 0x00bed686;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc02000203010201);
 data_in_bv.set32(0,0x00030101);
 data_in_bv.set32(1,0x01000002);
 data_in_bv.set32(2,0x02000003);
 data_in_bv.set32(3,0xff030000);
 addr = 0x038f59fa;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000203020203);
 data_in_bv.set32(0,0x00010303);
 data_in_bv.set32(1,0x02030203);
 data_in_bv.set32(2,0x02020201);
 data_in_bv.set32(3,0x03020301);
 addr = 0x038824fc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03030100000100);
 data_in_bv.set32(0,0x00010302);
 data_in_bv.set32(1,0x03000001);
 data_in_bv.set32(2,0x01010000);
 data_in_bv.set32(3,0x00010001);
 addr = 0x029bf1f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0201010000030003);
 data_in_bv.set32(0,0x00000203);
 data_in_bv.set32(1,0x01030102);
 data_in_bv.set32(2,0x00010102);
 data_in_bv.set32(3,0x02010002);
 addr = 0x03f9904c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000101fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01000203010203);
 data_in_bv.set32(0,0x00000301);
 data_in_bv.set32(1,0x03030102);
 data_in_bv.set32(2,0x00000301);
 data_in_bv.set32(3,0x03030001);
 addr = 0x00944624;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0001030201010000);
 data_in_bv.set32(0,0x03010001);
 data_in_bv.set32(1,0x01010302);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xff020002);
 addr = 0x00bdc4c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff02030100030100);
 data_in_bv.set32(0,0x03030000);
 data_in_bv.set32(1,0x03020003);
 data_in_bv.set32(2,0x01000001);
 data_in_bv.set32(3,0x02010301);
 addr = 0x01fbe798;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101000001000102);
 data_in_bv.set32(0,0x01000001);
 data_in_bv.set32(1,0x01030003);
 data_in_bv.set32(2,0x03000001);
 data_in_bv.set32(3,0xfc010000);
 addr = 0x03e9588b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x010000fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe01000002000003);
 data_in_bv.set32(0,0x03020100);
 data_in_bv.set32(1,0x01000302);
 data_in_bv.set32(2,0x03030200);
 data_in_bv.set32(3,0xff010300);
 addr = 0x0383b283;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x030201fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100010002000102);
 data_in_bv.set32(0,0x00000303);
 data_in_bv.set32(1,0x03030002);
 data_in_bv.set32(2,0x01020002);
 data_in_bv.set32(3,0x01020101);
 addr = 0x039266c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x010200fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301000000010102);
 data_in_bv.set32(0,0x03010300);
 data_in_bv.set32(1,0x02010202);
 data_in_bv.set32(2,0x00000101);
 data_in_bv.set32(3,0x02000101);
 addr = 0x03e90c51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00fb0101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100010002030302);
 data_in_bv.set32(0,0x00030202);
 data_in_bv.set32(1,0x03000301);
 data_in_bv.set32(2,0x01030201);
 data_in_bv.set32(3,0xfc030302);
 addr = 0x02df3287;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0003b702,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc02020301020203);
 data_in_bv.set32(0,0x00030203);
 data_in_bv.set32(1,0x02020300);
 data_in_bv.set32(2,0x02010103);
 data_in_bv.set32(3,0x03020203);
 addr = 0x0396d33c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101010303020303);
 data_in_bv.set32(0,0x02010003);
 data_in_bv.set32(1,0x00020301);
 data_in_bv.set32(2,0x01000003);
 data_in_bv.set32(3,0x00030002);
 addr = 0x01fef0cb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0100ff06,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001030300010202);
 data_in_bv.set32(0,0x03010301);
 data_in_bv.set32(1,0x01030100);
 data_in_bv.set32(2,0x00020300);
 data_in_bv.set32(3,0x01000003);
 addr = 0x0298679d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0002030203020000);
 data_in_bv.set32(0,0x02020003);
 data_in_bv.set32(1,0x02000202);
 data_in_bv.set32(2,0x01030202);
 data_in_bv.set32(3,0x02020300);
 addr = 0x01beb6f5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02010103000301);
 data_in_bv.set32(0,0x03000103);
 data_in_bv.set32(1,0x02010302);
 data_in_bv.set32(2,0x03030202);
 data_in_bv.set32(3,0xfe010301);
 addr = 0x0390f6be;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101010003000001);
 data_in_bv.set32(0,0x03000103);
 data_in_bv.set32(1,0x00000302);
 data_in_bv.set32(2,0x00000303);
 data_in_bv.set32(3,0xff030302);
 addr = 0x0189eadb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202010301030003);
 data_in_bv.set32(0,0x00030003);
 data_in_bv.set32(1,0x02000303);
 data_in_bv.set32(2,0x03000003);
 data_in_bv.set32(3,0xfd030203);
 addr = 0x0391ab1c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203020301000102);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x87790303);
 data_in_bv.set32(2,0x03000202);
 data_in_bv.set32(3,0xfc020302);
 addr = 0x0080001d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x87790303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe01030200020100);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x01010200);
 data_in_bv.set32(2,0x03020300);
 data_in_bv.set32(3,0x01030101);
 addr = 0x02e3baa9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0101b700,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0003020301020002);
 data_in_bv.set32(0,0x02000302);
 data_in_bv.set32(1,0x02030302);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x01000201);
 addr = 0x01e4e955;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe040003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203000202030100);
 data_in_bv.set32(0,0x01020103);
 data_in_bv.set32(1,0x02020300);
 data_in_bv.set32(2,0x00010201);
 data_in_bv.set32(3,0xfc020103);
 addr = 0x00c32405;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0200000000030100);
 data_in_bv.set32(0,0x00030302);
 data_in_bv.set32(1,0x01010200);
 data_in_bv.set32(2,0x03020003);
 data_in_bv.set32(3,0xfd010002);
 addr = 0x03cb1e26;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x010100fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202010303020103);
 data_in_bv.set32(0,0x02000101);
 data_in_bv.set32(1,0x03030203);
 data_in_bv.set32(2,0x03030302);
 data_in_bv.set32(3,0x03000200);
 addr = 0x01ae280f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0200ff04,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01010200030002);
 data_in_bv.set32(0,0x02020201);
 data_in_bv.set32(1,0x02000101);
 data_in_bv.set32(2,0x00010102);
 data_in_bv.set32(3,0xfc020203);
 addr = 0x01ce7e8f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0202ff03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303020000000002);
 data_in_bv.set32(0,0x03000002);
 data_in_bv.set32(1,0x00030100);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfe030203);
 addr = 0x02953720;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003b700,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0003010100000003);
 data_in_bv.set32(0,0x03030002);
 data_in_bv.set32(1,0x02030101);
 data_in_bv.set32(2,0x01010102);
 data_in_bv.set32(3,0x02000000);
 addr = 0x039c6ed7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102030001000203);
 data_in_bv.set32(0,0x03000201);
 data_in_bv.set32(1,0x01000100);
 data_in_bv.set32(2,0x03000303);
 data_in_bv.set32(3,0x02020201);
 addr = 0x02d8d997;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0100000101010000);
 data_in_bv.set32(0,0x02000003);
 data_in_bv.set32(1,0x03010300);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xff030100);
 addr = 0x03e26fa6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x030100fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00020300000202);
 data_in_bv.set32(0,0x02000003);
 data_in_bv.set32(1,0x030100fb);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xff030100);
 addr = 0x01e26fc2;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x030100fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fe04,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00000100010002);
 data_in_bv.set32(0,0x02020301);
 data_in_bv.set32(1,0x01020100);
 data_in_bv.set32(2,0x01030303);
 data_in_bv.set32(3,0xfd030201);
 addr = 0x0292f412;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc03030001030103);
 data_in_bv.set32(0,0x00030103);
 data_in_bv.set32(1,0x02000203);
 data_in_bv.set32(2,0x01030100);
 data_in_bv.set32(3,0x03000202);
 addr = 0x00cf47c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0302010200030201);
 data_in_bv.set32(0,0x01020003);
 data_in_bv.set32(1,0x01020002);
 data_in_bv.set32(2,0x01020303);
 data_in_bv.set32(3,0xff030002);
 addr = 0x00963c21;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe00000002010103);
 data_in_bv.set32(0,0x01000103);
 data_in_bv.set32(1,0x01030200);
 data_in_bv.set32(2,0x00010002);
 data_in_bv.set32(3,0xfe000203);
 addr = 0x00858607;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff00010300000300);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x02000303);
 data_in_bv.set32(2,0x01030002);
 data_in_bv.set32(3,0x02020102);
 addr = 0x03fcc82d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x020000fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102030100030202);
 data_in_bv.set32(0,0x03020100);
 data_in_bv.set32(1,0x02000103);
 data_in_bv.set32(2,0x03020001);
 data_in_bv.set32(3,0x01020202);
 addr = 0x0294848a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0302b700,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0200000102030303);
 data_in_bv.set32(0,0x03030200);
 data_in_bv.set32(1,0x03020202);
 data_in_bv.set32(2,0x03010302);
 data_in_bv.set32(3,0x03000000);
 addr = 0x00ebf676;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe00030003010100);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x03010303);
 data_in_bv.set32(2,0x01030200);
 data_in_bv.set32(3,0x02000302);
 addr = 0x01ff8f30;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03000303020200);
 data_in_bv.set32(0,0x01030101);
 data_in_bv.set32(1,0x01010301);
 data_in_bv.set32(2,0x03000303);
 data_in_bv.set32(3,0xfc010300);
 addr = 0x01d13817;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301030001010001);
 data_in_bv.set32(0,0x03010301);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x01020302);
 data_in_bv.set32(3,0x01000102);
 addr = 0x00bfd200;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff02010002000300);
 data_in_bv.set32(0,0x03030301);
 data_in_bv.set32(1,0x00010202);
 data_in_bv.set32(2,0x02010301);
 data_in_bv.set32(3,0x03030300);
 addr = 0x0186c058;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000101020002);
 data_in_bv.set32(0,0x02020001);
 data_in_bv.set32(1,0x03020303);
 data_in_bv.set32(2,0x03010002);
 data_in_bv.set32(3,0x03010200);
 addr = 0x01f2a108;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0202ff03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01030303030202);
 data_in_bv.set32(0,0x0202ff03);
 data_in_bv.set32(1,0x03020303);
 data_in_bv.set32(2,0x03010002);
 data_in_bv.set32(3,0x03010200);
 addr = 0x01f2a17c;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0202ff03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002010102000301);
 data_in_bv.set32(0,0x03010301);
 data_in_bv.set32(1,0x03000203);
 data_in_bv.set32(2,0x00030201);
 data_in_bv.set32(3,0x00030100);
 addr = 0x02c6ec31;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd02020300010201);
 data_in_bv.set32(0,0x01000100);
 data_in_bv.set32(1,0x02000103);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x01020302);
 addr = 0x00a61600;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0303030000010301);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x02000100);
 data_in_bv.set32(2,0x02030200);
 data_in_bv.set32(3,0x02010101);
 addr = 0x01ed6dca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0203fe01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201000300020302);
 data_in_bv.set32(0,0x02000300);
 data_in_bv.set32(1,0x01010002);
 data_in_bv.set32(2,0x01000100);
 data_in_bv.set32(3,0xfe030302);
 addr = 0x03f1ae50;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00fb0100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301020102010303);
 data_in_bv.set32(0,0x00010100);
 data_in_bv.set32(1,0x02030100);
 data_in_bv.set32(2,0x03020003);
 data_in_bv.set32(3,0xfe010103);
 addr = 0x00e2b63b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0203020100030201);
 data_in_bv.set32(0,0x03020000);
 data_in_bv.set32(1,0x03020300);
 data_in_bv.set32(2,0x02030101);
 data_in_bv.set32(3,0x01010102);
 addr = 0x00ca6575;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff01000003010302);
 data_in_bv.set32(0,0x00000003);
 data_in_bv.set32(1,0x02030001);
 data_in_bv.set32(2,0x03000302);
 data_in_bv.set32(3,0xfd010302);
 addr = 0x00f3f69f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff01000100010300);
 data_in_bv.set32(0,0x00010301);
 data_in_bv.set32(1,0x01000201);
 data_in_bv.set32(2,0x02000301);
 data_in_bv.set32(3,0xff010303);
 addr = 0x02c8d2b7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd03010303030301);
 data_in_bv.set32(0,0x03000300);
 data_in_bv.set32(1,0x02000100);
 data_in_bv.set32(2,0x01020103);
 data_in_bv.set32(3,0xfc020202);
 addr = 0x01eb9587;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0300fe01,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03010303000302);
 data_in_bv.set32(0,0x03020001);
 data_in_bv.set32(1,0x01000202);
 data_in_bv.set32(2,0x01030101);
 data_in_bv.set32(3,0xfd000301);
 addr = 0x038a3dbd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301030002010302);
 data_in_bv.set32(0,0x01030002);
 data_in_bv.set32(1,0x00000103);
 data_in_bv.set32(2,0x03030302);
 data_in_bv.set32(3,0x02020103);
 addr = 0x02b69960;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0202b703,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0003020101030201);
 data_in_bv.set32(0,0x00000002);
 data_in_bv.set32(1,0x02010201);
 data_in_bv.set32(2,0x03030100);
 data_in_bv.set32(3,0x01000303);
 addr = 0x038c9032;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03010301010303);
 data_in_bv.set32(0,0x02000103);
 data_in_bv.set32(1,0x02020101);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0x02020300);
 addr = 0x02cd7f01;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0200b703,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc02030002030100);
 data_in_bv.set32(0,0x02010001);
 data_in_bv.set32(1,0x02020003);
 data_in_bv.set32(2,0x02000203);
 data_in_bv.set32(3,0xfd000102);
 addr = 0x00cd9129;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0002030201010202);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x00030303);
 data_in_bv.set32(2,0x01010000);
 data_in_bv.set32(3,0x03000101);
 addr = 0x02db5535;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0003030100020003);
 data_in_bv.set32(0,0x02020302);
 data_in_bv.set32(1,0x00020203);
 data_in_bv.set32(2,0x00000003);
 data_in_bv.set32(3,0x03010100);
 addr = 0x02d47605;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0202b702,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc02000102000103);
 data_in_bv.set32(0,0x03020202);
 data_in_bv.set32(1,0x00000201);
 data_in_bv.set32(2,0x03020202);
 data_in_bv.set32(3,0x02000100);
 addr = 0x02d8d31e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0201010102020300);
 data_in_bv.set32(0,0x01030002);
 data_in_bv.set32(1,0x03020202);
 data_in_bv.set32(2,0x02010103);
 data_in_bv.set32(3,0x02020302);
 addr = 0x03e51012;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201010003010203);
 data_in_bv.set32(0,0x01000000);
 data_in_bv.set32(1,0x01030001);
 data_in_bv.set32(2,0x03030201);
 data_in_bv.set32(3,0x01000002);
 addr = 0x01df7734;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff070001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00000200020202);
 data_in_bv.set32(0,0x01030002);
 data_in_bv.set32(1,0x00000201);
 data_in_bv.set32(2,0x01020300);
 data_in_bv.set32(3,0xfd030003);
 addr = 0x01a27b55;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe050300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02020202010203);
 data_in_bv.set32(0,0x02010302);
 data_in_bv.set32(1,0x01010203);
 data_in_bv.set32(2,0x03010201);
 data_in_bv.set32(3,0xff020201);
 addr = 0x02b04f0a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0201b702,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0301020202000100);
 data_in_bv.set32(0,0x03000000);
 data_in_bv.set32(1,0x00010300);
 data_in_bv.set32(2,0x01010100);
 data_in_bv.set32(3,0x02030202);
 addr = 0x03f95bcb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x010100fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000103010201);
 data_in_bv.set32(0,0x03030203);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x01010003);
 data_in_bv.set32(3,0xff030301);
 addr = 0x03fbddc5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x010101fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00000202010300);
 data_in_bv.set32(0,0x01020200);
 data_in_bv.set32(1,0x02010002);
 data_in_bv.set32(2,0x01030302);
 data_in_bv.set32(3,0x03010202);
 addr = 0x02be2b24;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0201b702,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0000010303000003);
 data_in_bv.set32(0,0x02000303);
 data_in_bv.set32(1,0x00010303);
 data_in_bv.set32(2,0x02020300);
 data_in_bv.set32(3,0xfe000202);
 addr = 0x00e32618;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff01010103010003);
 data_in_bv.set32(0,0x00030201);
 data_in_bv.set32(1,0x00030100);
 data_in_bv.set32(2,0x00020303);
 data_in_bv.set32(3,0xfc010300);
 addr = 0x02f96d7e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc00000000020100);
 data_in_bv.set32(0,0x03030001);
 data_in_bv.set32(1,0x00000302);
 data_in_bv.set32(2,0x03000200);
 data_in_bv.set32(3,0xfd000102);
 addr = 0x03a7bf26;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x000000fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02020302000202);
 data_in_bv.set32(0,0x03010103);
 data_in_bv.set32(1,0x02030300);
 data_in_bv.set32(2,0x03020100);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03ecb0c8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x030200fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102020302010303);
 data_in_bv.set32(0,0x00010300);
 data_in_bv.set32(1,0x00000201);
 data_in_bv.set32(2,0x02030203);
 data_in_bv.set32(3,0x00000203);
 addr = 0x00f5b05d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0201020303030001);
 data_in_bv.set32(0,0x03020000);
 data_in_bv.set32(1,0x00010201);
 data_in_bv.set32(2,0x02010001);
 data_in_bv.set32(3,0xfd010003);
 addr = 0x00e96cc6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe01020300030003);
 data_in_bv.set32(0,0x01000300);
 data_in_bv.set32(1,0x03000003);
 data_in_bv.set32(2,0x01030300);
 data_in_bv.set32(3,0x01010302);
 addr = 0x03e6ab1e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00010102000303);
 data_in_bv.set32(0,0x03030301);
 data_in_bv.set32(1,0x00010100);
 data_in_bv.set32(2,0x03010101);
 data_in_bv.set32(3,0x00020101);
 addr = 0x03cee12c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x000101fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03030302000300);
 data_in_bv.set32(0,0x00030300);
 data_in_bv.set32(1,0x03020100);
 data_in_bv.set32(2,0x03020302);
 data_in_bv.set32(3,0xfe000101);
 addr = 0x03d94a51;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00fb0302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300010300020003);
 data_in_bv.set32(0,0x02030200);
 data_in_bv.set32(1,0x01010001);
 data_in_bv.set32(2,0x01020303);
 data_in_bv.set32(3,0xff010303);
 addr = 0x02d7a4c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0102b703,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd00020201020102);
 data_in_bv.set32(0,0x03020100);
 data_in_bv.set32(1,0x03020303);
 data_in_bv.set32(2,0x01030301);
 data_in_bv.set32(3,0xfd030000);
 addr = 0x02f7e7a8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0302b703,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0002000300000302);
 data_in_bv.set32(0,0x02010202);
 data_in_bv.set32(1,0x01010002);
 data_in_bv.set32(2,0x03020303);
 data_in_bv.set32(3,0xfd020202);
 addr = 0x03cfbf6a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd0200fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302010102010100);
 data_in_bv.set32(0,0x00030303);
 data_in_bv.set32(1,0x00030102);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0x02010002);
 addr = 0x02bd55f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0001030001000302);
 data_in_bv.set32(0,0x01030202);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x02030303);
 data_in_bv.set32(3,0x00030302);
 addr = 0x03d7943b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02030200010201);
 data_in_bv.set32(0,0x00020100);
 data_in_bv.set32(1,0x02000001);
 data_in_bv.set32(2,0x02010200);
 data_in_bv.set32(3,0x02010300);
 addr = 0x0283bb94;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd00030303030100);
 data_in_bv.set32(0,0x01020103);
 data_in_bv.set32(1,0x01010203);
 data_in_bv.set32(2,0x00030100);
 data_in_bv.set32(3,0xfe010303);
 addr = 0x01e0890e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0102ff03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102010101000000);
 data_in_bv.set32(0,0x00030103);
 data_in_bv.set32(1,0x03030002);
 data_in_bv.set32(2,0x03020003);
 data_in_bv.set32(3,0x03000001);
 addr = 0x03f237df;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00fb0003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000102020101);
 data_in_bv.set32(0,0x02030300);
 data_in_bv.set32(1,0x01000302);
 data_in_bv.set32(2,0x01030100);
 data_in_bv.set32(3,0x02020000);
 addr = 0x00a012b4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0303010101030302);
 data_in_bv.set32(0,0x01020100);
 data_in_bv.set32(1,0x00000303);
 data_in_bv.set32(2,0x01020101);
 data_in_bv.set32(3,0xfe020201);
 addr = 0x00c039c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc01000001030303);
 data_in_bv.set32(0,0x03030003);
 data_in_bv.set32(1,0x00000202);
 data_in_bv.set32(2,0x01010302);
 data_in_bv.set32(3,0x01010000);
 addr = 0x03de0e6c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x010101fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103010100020203);
 data_in_bv.set32(0,0x00000301);
 data_in_bv.set32(1,0x02020100);
 data_in_bv.set32(2,0x03030201);
 data_in_bv.set32(3,0xfe020101);
 addr = 0x01d0c581;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000ff05,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103020302000200);
 data_in_bv.set32(0,0x01000203);
 data_in_bv.set32(1,0x01030003);
 data_in_bv.set32(2,0x00020301);
 data_in_bv.set32(3,0xfd000200);
 addr = 0x00ec028d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0301000000020100);
 data_in_bv.set32(0,0x01010202);
 data_in_bv.set32(1,0x01030201);
 data_in_bv.set32(2,0x02020102);
 data_in_bv.set32(3,0x02020100);
 addr = 0x02b4c2d6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd03010001000300);
 data_in_bv.set32(0,0x03000103);
 data_in_bv.set32(1,0x03010202);
 data_in_bv.set32(2,0x01030101);
 data_in_bv.set32(3,0xfe000202);
 addr = 0x00db5e39;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc00030301020200);
 data_in_bv.set32(0,0x03000202);
 data_in_bv.set32(1,0x01000103);
 data_in_bv.set32(2,0x02000300);
 data_in_bv.set32(3,0xfd000202);
 addr = 0x02968616;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe02000102010102);
 data_in_bv.set32(0,0x01000002);
 data_in_bv.set32(1,0x00010100);
 data_in_bv.set32(2,0x00000301);
 data_in_bv.set32(3,0xfc010202);
 addr = 0x02c7e881;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0100b702,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0302030203020201);
 data_in_bv.set32(0,0x02000202);
 data_in_bv.set32(1,0x01010202);
 data_in_bv.set32(2,0x01000300);
 data_in_bv.set32(3,0x01030103);
 addr = 0x009dd4f8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc03020001000301);
 data_in_bv.set32(0,0x03020202);
 data_in_bv.set32(1,0x03000100);
 data_in_bv.set32(2,0x00000300);
 data_in_bv.set32(3,0x00020303);
 addr = 0x01ab19cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fe01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301020100020201);
 data_in_bv.set32(0,0x03010001);
 data_in_bv.set32(1,0x02000103);
 data_in_bv.set32(2,0x01000000);
 data_in_bv.set32(3,0xfe000300);
 addr = 0x03b5eee1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe0001fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02020201000200);
 data_in_bv.set32(0,0x00030303);
 data_in_bv.set32(1,0x02020102);
 data_in_bv.set32(2,0x03010303);
 data_in_bv.set32(3,0x01010203);
 addr = 0x02f97ba7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0202b702,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc02030101020003);
 data_in_bv.set32(0,0x00030001);
 data_in_bv.set32(1,0x02010202);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0xfc030201);
 addr = 0x02b1aadb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0203000103000103);
 data_in_bv.set32(0,0x03010103);
 data_in_bv.set32(1,0x03010001);
 data_in_bv.set32(2,0x02020000);
 data_in_bv.set32(3,0xff000303);
 addr = 0x01c8a1e5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff00ff06,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02000003030103);
 data_in_bv.set32(0,0x02000302);
 data_in_bv.set32(1,0x00010200);
 data_in_bv.set32(2,0x03010203);
 data_in_bv.set32(3,0x01010303);
 addr = 0x01911354;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff040203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02010301000200);
 data_in_bv.set32(0,0x02030101);
 data_in_bv.set32(1,0x02000201);
 data_in_bv.set32(2,0x01030002);
 data_in_bv.set32(3,0x03020303);
 addr = 0x02dc21ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0302b703,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff03020301010103);
 data_in_bv.set32(0,0x01030203);
 data_in_bv.set32(1,0x00030003);
 data_in_bv.set32(2,0x01030302);
 data_in_bv.set32(3,0x00020201);
 addr = 0x02dc80af;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003b703,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0000020303000302);
 data_in_bv.set32(0,0x01020201);
 data_in_bv.set32(1,0x00020003);
 data_in_bv.set32(2,0x02020200);
 data_in_bv.set32(3,0x03020300);
 addr = 0x038ed146;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x020200fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002030300000203);
 data_in_bv.set32(0,0x00020103);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xff000302);
 addr = 0x03e87ab6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01fb0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02030300030003);
 data_in_bv.set32(0,0x00010003);
 data_in_bv.set32(1,0x03030101);
 data_in_bv.set32(2,0x01010001);
 data_in_bv.set32(3,0xff020103);
 addr = 0x01b40794;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff040003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100030301020100);
 data_in_bv.set32(0,0x03020103);
 data_in_bv.set32(1,0x02020301);
 data_in_bv.set32(2,0x00000002);
 data_in_bv.set32(3,0xfc000001);
 addr = 0x01e563cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0000fe02,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203000303030303);
 data_in_bv.set32(0,0x03020100);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x02000102);
 data_in_bv.set32(3,0x01000102);
 addr = 0x01ba584e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0200fe05,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003000002010103);
 data_in_bv.set32(0,0x00030300);
 data_in_bv.set32(1,0x01020303);
 data_in_bv.set32(2,0x03030300);
 data_in_bv.set32(3,0xfc010300);
 addr = 0x03f5b99a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201000202010002);
 data_in_bv.set32(0,0x01010300);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x03030303);
 data_in_bv.set32(3,0x02020102);
 addr = 0x00931f9f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc00030100020001);
 data_in_bv.set32(0,0x01020302);
 data_in_bv.set32(1,0x01000301);
 data_in_bv.set32(2,0x00000201);
 data_in_bv.set32(3,0xfc020302);
 addr = 0x01a1dc98;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202010002020003);
 data_in_bv.set32(0,0x00010201);
 data_in_bv.set32(1,0x02030002);
 data_in_bv.set32(2,0x01020003);
 data_in_bv.set32(3,0x02010202);
 addr = 0x00ff47ae;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0002010203000100);
 data_in_bv.set32(0,0x03030001);
 data_in_bv.set32(1,0x01000301);
 data_in_bv.set32(2,0x03010303);
 data_in_bv.set32(3,0x00010302);
 addr = 0x02a2a32d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0100b701,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0301000203000100);
 data_in_bv.set32(0,0x01000300);
 data_in_bv.set32(1,0x02020001);
 data_in_bv.set32(2,0x02000301);
 data_in_bv.set32(3,0xfd030000);
 addr = 0x008a12ee;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0000010003030101);
 data_in_bv.set32(0,0x02020200);
 data_in_bv.set32(1,0x01010303);
 data_in_bv.set32(2,0x02030000);
 data_in_bv.set32(3,0x02000201);
 addr = 0x02ba476d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0200b701,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff03020100030203);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x03000203);
 data_in_bv.set32(2,0x00030201);
 data_in_bv.set32(3,0xfc000100);
 addr = 0x00d80595;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0100010001010301);
 data_in_bv.set32(0,0x02020003);
 data_in_bv.set32(1,0x01030001);
 data_in_bv.set32(2,0x01020301);
 data_in_bv.set32(3,0xfd010000);
 addr = 0x02c4980f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0202b703,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0101020100030202);
 data_in_bv.set32(0,0x01030203);
 data_in_bv.set32(1,0x02020301);
 data_in_bv.set32(2,0x00020003);
 data_in_bv.set32(3,0x01020300);
 addr = 0x00b57692;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd03010001010202);
 data_in_bv.set32(0,0x01000103);
 data_in_bv.set32(1,0x02000201);
 data_in_bv.set32(2,0x03010100);
 data_in_bv.set32(3,0x01010001);
 addr = 0x00d397a7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe02010100010002);
 data_in_bv.set32(0,0x03010300);
 data_in_bv.set32(1,0x00010201);
 data_in_bv.set32(2,0x02000101);
 data_in_bv.set32(3,0xfe000201);
 addr = 0x0188f0f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000010200020100);
 data_in_bv.set32(0,0x03000100);
 data_in_bv.set32(1,0x01020002);
 data_in_bv.set32(2,0x02030002);
 data_in_bv.set32(3,0x01020002);
 addr = 0x0193d315;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02020302000000);
 data_in_bv.set32(0,0xfe000100);
 data_in_bv.set32(1,0x01020002);
 data_in_bv.set32(2,0x02030002);
 data_in_bv.set32(3,0x01020002);
 addr = 0x0393d315;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03020001030101);
 data_in_bv.set32(0,0x02010002);
 data_in_bv.set32(1,0x01020001);
 data_in_bv.set32(2,0x00020203);
 data_in_bv.set32(3,0x01000002);
 addr = 0x01b78a4e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0002ff04,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002030203010301);
 data_in_bv.set32(0,0x01030301);
 data_in_bv.set32(1,0x00010202);
 data_in_bv.set32(2,0x02010302);
 data_in_bv.set32(3,0xfe000303);
 addr = 0x01b80186;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0103ff03,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100020201000000);
 data_in_bv.set32(0,0x03030002);
 data_in_bv.set32(1,0x00010201);
 data_in_bv.set32(2,0x02010101);
 data_in_bv.set32(3,0x01000201);
 addr = 0x00f6ef97;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0100010302020303);
 data_in_bv.set32(0,0x00000100);
 data_in_bv.set32(1,0x01030100);
 data_in_bv.set32(2,0x01000001);
 data_in_bv.set32(3,0xff030101);
 addr = 0x02c40ee0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff03b701,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc02030201020003);
 data_in_bv.set32(0,0x00010301);
 data_in_bv.set32(1,0x02000303);
 data_in_bv.set32(2,0x01020302);
 data_in_bv.set32(3,0x00020100);
 addr = 0x029fe408;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0001b701,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0000030201030302);
 data_in_bv.set32(0,0x02030000);
 data_in_bv.set32(1,0x03030100);
 data_in_bv.set32(2,0x02030002);
 data_in_bv.set32(3,0xfc020100);
 addr = 0x009a3dc8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0001030003030201);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x02000102);
 data_in_bv.set32(2,0x01010202);
 data_in_bv.set32(3,0xfc020200);
 addr = 0x009f870e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc00000300020003);
 data_in_bv.set32(0,0x01010203);
 data_in_bv.set32(1,0x02020200);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0xfe010203);
 addr = 0x01fa30bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe050200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03020101010203);
 data_in_bv.set32(0,0x01030202);
 data_in_bv.set32(1,0x01000103);
 data_in_bv.set32(2,0x03020201);
 data_in_bv.set32(3,0xff020003);
 addr = 0x03a50ea9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x010001fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00020200000202);
 data_in_bv.set32(0,0x02010100);
 data_in_bv.set32(1,0x02000303);
 data_in_bv.set32(2,0x00000303);
 data_in_bv.set32(3,0x03000003);
 addr = 0x02d4e92f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0200b703,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0103030000010201);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x00020303);
 data_in_bv.set32(2,0x00020101);
 data_in_bv.set32(3,0xfd030302);
 addr = 0x018d5da9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0002ff05,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103020002030202);
 data_in_bv.set32(0,0x00010302);
 data_in_bv.set32(1,0x02020200);
 data_in_bv.set32(2,0x01010200);
 data_in_bv.set32(3,0xfe000202);
 addr = 0x0297ec22;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0202b700,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd02020300010000);
 data_in_bv.set32(0,0x03030200);
 data_in_bv.set32(1,0x01020000);
 data_in_bv.set32(2,0x02030301);
 data_in_bv.set32(3,0xff000201);
 addr = 0x03b27139;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff03010300010102);
 data_in_bv.set32(0,0x01000303);
 data_in_bv.set32(1,0x02020003);
 data_in_bv.set32(2,0x03030203);
 data_in_bv.set32(3,0x01010301);
 addr = 0x01d38a54;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff050203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102020100000200);
 data_in_bv.set32(0,0x02000000);
 data_in_bv.set32(1,0x01030102);
 data_in_bv.set32(2,0x01020203);
 data_in_bv.set32(3,0xfc010103);
 addr = 0x03a5ca32;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201020300000003);
 data_in_bv.set32(0,0x02030301);
 data_in_bv.set32(1,0x01000101);
 data_in_bv.set32(2,0x03020300);
 data_in_bv.set32(3,0xff000201);
 addr = 0x00ab0878;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe02010200020101);
 data_in_bv.set32(0,0x02000302);
 data_in_bv.set32(1,0x00020102);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfd010003);
 addr = 0x00b2d8b2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd03010201000001);
 data_in_bv.set32(0,0x01010101);
 data_in_bv.set32(1,0x01020002);
 data_in_bv.set32(2,0x00010300);
 data_in_bv.set32(3,0x01020301);
 addr = 0x01c99398;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100010103010200);
 data_in_bv.set32(0,0x02010303);
 data_in_bv.set32(1,0x02030102);
 data_in_bv.set32(2,0x02030301);
 data_in_bv.set32(3,0x02000102);
 addr = 0x01d52adf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03030101020201);
 data_in_bv.set32(0,0x00000201);
 data_in_bv.set32(1,0x02010302);
 data_in_bv.set32(2,0x03020000);
 data_in_bv.set32(3,0xfd030302);
 addr = 0x019f55cd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0302fe01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03010201020002);
 data_in_bv.set32(0,0x00010102);
 data_in_bv.set32(1,0x01000202);
 data_in_bv.set32(2,0x03010002);
 data_in_bv.set32(3,0xfc030301);
 addr = 0x00808091;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe00030103020100);
 data_in_bv.set32(0,0x00020100);
 data_in_bv.set32(1,0x00010100);
 data_in_bv.set32(2,0x02030300);
 data_in_bv.set32(3,0xfc030003);
 addr = 0x03ba5b9a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003030002010200);
 data_in_bv.set32(0,0x02030200);
 data_in_bv.set32(1,0x03010003);
 data_in_bv.set32(2,0x00030101);
 data_in_bv.set32(3,0x03010200);
 addr = 0x01b2b4d7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00030203020102);
 data_in_bv.set32(0,0x01030101);
 data_in_bv.set32(1,0x00030203);
 data_in_bv.set32(2,0x00020203);
 data_in_bv.set32(3,0x03010100);
 addr = 0x02e06378;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc03030200010300);
 data_in_bv.set32(0,0x02000203);
 data_in_bv.set32(1,0x03010101);
 data_in_bv.set32(2,0x00000000);
 data_in_bv.set32(3,0xfc000202);
 addr = 0x00c9ae66;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe00030100020001);
 data_in_bv.set32(0,0x01010303);
 data_in_bv.set32(1,0x03020003);
 data_in_bv.set32(2,0x01020101);
 data_in_bv.set32(3,0xfc000003);
 addr = 0x0182b236;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303000301010202);
 data_in_bv.set32(0,0x01020303);
 data_in_bv.set32(1,0x00030103);
 data_in_bv.set32(2,0x02010101);
 data_in_bv.set32(3,0x00000201);
 addr = 0x00e8b94e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff01000201000303);
 data_in_bv.set32(0,0x03000203);
 data_in_bv.set32(1,0x01020201);
 data_in_bv.set32(2,0x03030100);
 data_in_bv.set32(3,0x01000201);
 addr = 0x02e52e4c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0303b700,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff02010102020103);
 data_in_bv.set32(0,0x03020303);
 data_in_bv.set32(1,0x00030302);
 data_in_bv.set32(2,0x02030301);
 data_in_bv.set32(3,0x00000003);
 addr = 0x03aa85eb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x000001fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02000303020303);
 data_in_bv.set32(0,0x03020102);
 data_in_bv.set32(1,0x00030300);
 data_in_bv.set32(2,0x03000302);
 data_in_bv.set32(3,0x02020303);
 addr = 0x01b6f02d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0003fe03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200010101030002);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x01010100);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x00000103);
 addr = 0x00b07dd5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0102010203030002);
 data_in_bv.set32(0,0x03030302);
 data_in_bv.set32(1,0x00030301);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0xfd030000);
 addr = 0x038abd17;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303030202030202);
 data_in_bv.set32(0,0x03000002);
 data_in_bv.set32(1,0x02010302);
 data_in_bv.set32(2,0x00030301);
 data_in_bv.set32(3,0xfe030203);
 addr = 0x03c8f33e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0302030003010000);
 data_in_bv.set32(0,0x02010100);
 data_in_bv.set32(1,0x01020103);
 data_in_bv.set32(2,0x03030303);
 data_in_bv.set32(3,0x00010201);
 addr = 0x02d18249;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0303b703,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff00030102000301);
 data_in_bv.set32(0,0x00030000);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0xfd010201);
 addr = 0x00918fc1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0302020200000000);
 data_in_bv.set32(0,0x03020003);
 data_in_bv.set32(1,0x02000101);
 data_in_bv.set32(2,0x02030102);
 data_in_bv.set32(3,0xff000301);
 addr = 0x02e44b72;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7000301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe03000002000101);
 data_in_bv.set32(0,0x00000302);
 data_in_bv.set32(1,0x02030302);
 data_in_bv.set32(2,0x02030103);
 data_in_bv.set32(3,0x03010003);
 addr = 0x00febcb2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe03030103030101);
 data_in_bv.set32(0,0x00020102);
 data_in_bv.set32(1,0x00000300);
 data_in_bv.set32(2,0x03020001);
 data_in_bv.set32(3,0x03010000);
 addr = 0x01f7d4e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0301fe01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00010102010203);
 data_in_bv.set32(0,0x01030102);
 data_in_bv.set32(1,0x00030001);
 data_in_bv.set32(2,0x01020301);
 data_in_bv.set32(3,0x03020103);
 addr = 0x00d62e7f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe01020302010102);
 data_in_bv.set32(0,0x03020202);
 data_in_bv.set32(1,0x03000003);
 data_in_bv.set32(2,0x02000202);
 data_in_bv.set32(3,0xfd000202);
 addr = 0x019837bd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03010300020102);
 data_in_bv.set32(0,0x02000103);
 data_in_bv.set32(1,0x01000203);
 data_in_bv.set32(2,0x03000303);
 data_in_bv.set32(3,0xff020003);
 addr = 0x00ca787d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc01010201000000);
 data_in_bv.set32(0,0x01010200);
 data_in_bv.set32(1,0x01020203);
 data_in_bv.set32(2,0x03030203);
 data_in_bv.set32(3,0xfe030101);
 addr = 0x03985612;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc03010303000300);
 data_in_bv.set32(0,0x00000203);
 data_in_bv.set32(1,0x03010203);
 data_in_bv.set32(2,0x02030202);
 data_in_bv.set32(3,0x00010101);
 addr = 0x03e83bcf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x020300fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102000300010203);
 data_in_bv.set32(0,0x01000300);
 data_in_bv.set32(1,0x02020103);
 data_in_bv.set32(2,0x03020102);
 data_in_bv.set32(3,0xfd010100);
 addr = 0x01a80c76;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff050100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301020100000100);
 data_in_bv.set32(0,0x00000000);
 data_in_bv.set32(1,0x02010303);
 data_in_bv.set32(2,0x01030201);
 data_in_bv.set32(3,0x01000001);
 addr = 0x00e8ed26;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0200020301000303);
 data_in_bv.set32(0,0x02010303);
 data_in_bv.set32(1,0x02020002);
 data_in_bv.set32(2,0x00030102);
 data_in_bv.set32(3,0x03010103);
 addr = 0x018b8695;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff050303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00000203030003);
 data_in_bv.set32(0,0x01010102);
 data_in_bv.set32(1,0x02000001);
 data_in_bv.set32(2,0x00010202);
 data_in_bv.set32(3,0x01030000);
 addr = 0x03d86342;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000101fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002030202010001);
 data_in_bv.set32(0,0x02010003);
 data_in_bv.set32(1,0x03030200);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0x01010302);
 addr = 0x03a8eb12;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201000002030101);
 data_in_bv.set32(0,0x03030203);
 data_in_bv.set32(1,0x01020100);
 data_in_bv.set32(2,0x01030202);
 data_in_bv.set32(3,0x02030201);
 addr = 0x028c4eb9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff01020101000100);
 data_in_bv.set32(0,0x03010002);
 data_in_bv.set32(1,0x01020302);
 data_in_bv.set32(2,0x02030101);
 data_in_bv.set32(3,0xfc030302);
 addr = 0x03877afb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300020202030300);
 data_in_bv.set32(0,0x01000102);
 data_in_bv.set32(1,0x00030303);
 data_in_bv.set32(2,0x03030303);
 data_in_bv.set32(3,0xfe030302);
 addr = 0x03ee01ef;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe0300fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101020002030100);
 data_in_bv.set32(0,0x01010302);
 data_in_bv.set32(1,0x02000102);
 data_in_bv.set32(2,0x02020103);
 data_in_bv.set32(3,0xfe000300);
 addr = 0x01c42ed1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe020103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103030303020302);
 data_in_bv.set32(0,0x00020301);
 data_in_bv.set32(1,0x01010103);
 data_in_bv.set32(2,0x02000102);
 data_in_bv.set32(3,0xfd000300);
 addr = 0x00daec2c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0002030302000101);
 data_in_bv.set32(0,0x01030101);
 data_in_bv.set32(1,0x03000300);
 data_in_bv.set32(2,0x01030200);
 data_in_bv.set32(3,0xfe010100);
 addr = 0x00d6a136;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0203030301030202);
 data_in_bv.set32(0,0x00030303);
 data_in_bv.set32(1,0x00020200);
 data_in_bv.set32(2,0x00010203);
 data_in_bv.set32(3,0xfd030003);
 addr = 0x0086353f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc02010303030100);
 data_in_bv.set32(0,0x01000303);
 data_in_bv.set32(1,0x02020301);
 data_in_bv.set32(2,0x00020103);
 data_in_bv.set32(3,0xfd030303);
 addr = 0x03b5b542;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000200fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303010102010002);
 data_in_bv.set32(0,0x02020201);
 data_in_bv.set32(1,0x01020103);
 data_in_bv.set32(2,0x02000002);
 data_in_bv.set32(3,0x00000200);
 addr = 0x03ba981b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100000300000301);
 data_in_bv.set32(0,0x00000201);
 data_in_bv.set32(1,0x03020300);
 data_in_bv.set32(2,0x00000203);
 data_in_bv.set32(3,0x03010101);
 addr = 0x02b7add6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0200010001000002);
 data_in_bv.set32(0,0x01000302);
 data_in_bv.set32(1,0x01020102);
 data_in_bv.set32(2,0x01020203);
 data_in_bv.set32(3,0xfd000203);
 addr = 0x03fec9ca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x010200fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02010202010203);
 data_in_bv.set32(0,0x01020202);
 data_in_bv.set32(1,0x02010302);
 data_in_bv.set32(2,0x02020100);
 data_in_bv.set32(3,0xfd030201);
 addr = 0x00f5e2d1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe01030103000202);
 data_in_bv.set32(0,0x01020302);
 data_in_bv.set32(1,0x02010303);
 data_in_bv.set32(2,0x03020301);
 data_in_bv.set32(3,0xff010103);
 addr = 0x01b4c23b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff02030201030002);
 data_in_bv.set32(0,0x00000301);
 data_in_bv.set32(1,0x02000002);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x03030103);
 addr = 0x02a3ee6f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0303b703,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0101000002000301);
 data_in_bv.set32(0,0x03020200);
 data_in_bv.set32(1,0x01030202);
 data_in_bv.set32(2,0x01010102);
 data_in_bv.set32(3,0x00030001);
 addr = 0x02e78739;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0102020003010001);
 data_in_bv.set32(0,0x03020202);
 data_in_bv.set32(1,0x01030003);
 data_in_bv.set32(2,0x02010000);
 data_in_bv.set32(3,0x03000302);
 addr = 0x02ffe4c7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0201b700,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc00020003020101);
 data_in_bv.set32(0,0x00000103);
 data_in_bv.set32(1,0x02000000);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0x00010303);
 addr = 0x02c3c00a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000b703,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff02020003030203);
 data_in_bv.set32(0,0x00000303);
 data_in_bv.set32(1,0x01030302);
 data_in_bv.set32(2,0x02010300);
 data_in_bv.set32(3,0x00030003);
 addr = 0x02aef83e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0100010201030301);
 data_in_bv.set32(0,0x01020100);
 data_in_bv.set32(1,0x03020101);
 data_in_bv.set32(2,0x01030100);
 data_in_bv.set32(3,0xfe020000);
 addr = 0x01f3a240;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0103fe01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00010001000302);
 data_in_bv.set32(0,0x00020302);
 data_in_bv.set32(1,0x01000100);
 data_in_bv.set32(2,0x03020003);
 data_in_bv.set32(3,0xfc020003);
 addr = 0x03ae30c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x030200fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02010101000001);
 data_in_bv.set32(0,0x03030101);
 data_in_bv.set32(1,0x00010102);
 data_in_bv.set32(2,0x01000102);
 data_in_bv.set32(3,0x01020100);
 addr = 0x02f576ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0102b700,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0103000302020102);
 data_in_bv.set32(0,0x01030000);
 data_in_bv.set32(1,0x03030001);
 data_in_bv.set32(2,0x00030002);
 data_in_bv.set32(3,0x03030202);
 addr = 0x01afcbc4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0003fe04,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00000201030202);
 data_in_bv.set32(0,0x01010000);
 data_in_bv.set32(1,0x02030203);
 data_in_bv.set32(2,0x00000103);
 data_in_bv.set32(3,0xff010203);
 addr = 0x03ca2b41;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000000fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303010301020101);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x01010001);
 data_in_bv.set32(2,0x03030200);
 data_in_bv.set32(3,0xff030101);
 addr = 0x03e2cca6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x010101fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303000101000300);
 data_in_bv.set32(0,0x02030103);
 data_in_bv.set32(1,0x01030302);
 data_in_bv.set32(2,0x00010001);
 data_in_bv.set32(3,0x01030303);
 addr = 0x03f38084;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x020300fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202010202020103);
 data_in_bv.set32(0,0x00000001);
 data_in_bv.set32(1,0x02020000);
 data_in_bv.set32(2,0x03020002);
 data_in_bv.set32(3,0x02000303);
 addr = 0x0092cb94;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0302010001000002);
 data_in_bv.set32(0,0x03030203);
 data_in_bv.set32(1,0x01020103);
 data_in_bv.set32(2,0x02020002);
 data_in_bv.set32(3,0x01010002);
 addr = 0x02c7237e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd03020101010203);
 data_in_bv.set32(0,0x02010201);
 data_in_bv.set32(1,0x02030300);
 data_in_bv.set32(2,0x01020203);
 data_in_bv.set32(3,0x01030203);
 addr = 0x00aef45e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff00020002030003);
 data_in_bv.set32(0,0x00000101);
 data_in_bv.set32(1,0x02020202);
 data_in_bv.set32(2,0x02010203);
 data_in_bv.set32(3,0xfc020302);
 addr = 0x008e89a3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe02010202020303);
 data_in_bv.set32(0,0x02020201);
 data_in_bv.set32(1,0x03000203);
 data_in_bv.set32(2,0x01020203);
 data_in_bv.set32(3,0xfd010201);
 addr = 0x029314f3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe02020200020200);
 data_in_bv.set32(0,0x00010201);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x03010302);
 data_in_bv.set32(3,0xfc000002);
 addr = 0x03fb476e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc0000fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02010202010000);
 data_in_bv.set32(0,0x00030303);
 data_in_bv.set32(1,0x02030103);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xff020201);
 addr = 0x019ea16b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff02ff01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03030003020202);
 data_in_bv.set32(0,0x00030302);
 data_in_bv.set32(1,0x00010001);
 data_in_bv.set32(2,0x03010001);
 data_in_bv.set32(3,0x02030201);
 addr = 0x008fcae8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0102010302000002);
 data_in_bv.set32(0,0x00030200);
 data_in_bv.set32(1,0x00010301);
 data_in_bv.set32(2,0x02000200);
 data_in_bv.set32(3,0xfe010301);
 addr = 0x02ee4fba;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0302000003030001);
 data_in_bv.set32(0,0x01010003);
 data_in_bv.set32(1,0x03000102);
 data_in_bv.set32(2,0x03010202);
 data_in_bv.set32(3,0xfc010303);
 addr = 0x009817de;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe01020202010000);
 data_in_bv.set32(0,0x03030202);
 data_in_bv.set32(1,0x02000200);
 data_in_bv.set32(2,0x03030302);
 data_in_bv.set32(3,0xfe010301);
 addr = 0x00ec8cc1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe01010301010303);
 data_in_bv.set32(0,0x01020201);
 data_in_bv.set32(1,0x00000001);
 data_in_bv.set32(2,0x00030101);
 data_in_bv.set32(3,0xfc020001);
 addr = 0x00f86646;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff01010101020202);
 data_in_bv.set32(0,0x01010100);
 data_in_bv.set32(1,0x01020201);
 data_in_bv.set32(2,0x01000301);
 data_in_bv.set32(3,0xfe010301);
 addr = 0x038661a8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x010200fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001010100000200);
 data_in_bv.set32(0,0x02000303);
 data_in_bv.set32(1,0x01010303);
 data_in_bv.set32(2,0x00030301);
 data_in_bv.set32(3,0xfc010202);
 addr = 0x02e0497c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0101020300010300);
 data_in_bv.set32(0,0x00020303);
 data_in_bv.set32(1,0x02030302);
 data_in_bv.set32(2,0x00020202);
 data_in_bv.set32(3,0x03030302);
 addr = 0x039ad14d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000200fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc00030200030203);
 data_in_bv.set32(0,0x00020002);
 data_in_bv.set32(1,0x01000101);
 data_in_bv.set32(2,0x00030303);
 data_in_bv.set32(3,0xff030303);
 addr = 0x01f4ad1f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe050002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100010002020300);
 data_in_bv.set32(0,0x02020101);
 data_in_bv.set32(1,0x02000101);
 data_in_bv.set32(2,0x03000102);
 data_in_bv.set32(3,0x01010100);
 addr = 0x02e8312e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0200b701,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0200010202020303);
 data_in_bv.set32(0,0x00010102);
 data_in_bv.set32(1,0x00010303);
 data_in_bv.set32(2,0x02010100);
 data_in_bv.set32(3,0xfe010303);
 addr = 0x03c2fc1f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03020202030200);
 data_in_bv.set32(0,0x00000300);
 data_in_bv.set32(1,0x01000201);
 data_in_bv.set32(2,0x02000003);
 data_in_bv.set32(3,0xfc010300);
 addr = 0x03ff44f6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001020102000001);
 data_in_bv.set32(0,0x03030201);
 data_in_bv.set32(1,0x01000201);
 data_in_bv.set32(2,0x03000303);
 data_in_bv.set32(3,0xfd010203);
 addr = 0x01eeb06f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd01ff04,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00010203000101);
 data_in_bv.set32(0,0x02030202);
 data_in_bv.set32(1,0x03030303);
 data_in_bv.set32(2,0x03020000);
 data_in_bv.set32(3,0xfd020200);
 addr = 0x03a8437b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000000203020002);
 data_in_bv.set32(0,0x02030202);
 data_in_bv.set32(1,0x03030303);
 data_in_bv.set32(2,0x03020000);
 data_in_bv.set32(3,0x01fb0200);
 addr = 0x02a8434c;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0302b700,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd01030301030000);
 data_in_bv.set32(0,0x02010203);
 data_in_bv.set32(1,0x03000302);
 data_in_bv.set32(2,0x01030303);
 data_in_bv.set32(3,0xfc020000);
 addr = 0x01c182a4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0300fe02,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0303020303000101);
 data_in_bv.set32(0,0x03020203);
 data_in_bv.set32(1,0x00030103);
 data_in_bv.set32(2,0x00000202);
 data_in_bv.set32(3,0x03010003);
 addr = 0x03a1820c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x030201fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00010303010100);
 data_in_bv.set32(0,0x01020103);
 data_in_bv.set32(1,0x01020201);
 data_in_bv.set32(2,0x03010103);
 data_in_bv.set32(3,0x03020101);
 addr = 0x0097e0ec;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe01020301030300);
 data_in_bv.set32(0,0x02020002);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x00010202);
 data_in_bv.set32(3,0x03010001);
 addr = 0x00d7aec8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc01000302020301);
 data_in_bv.set32(0,0x03010200);
 data_in_bv.set32(1,0x03020003);
 data_in_bv.set32(2,0x01010001);
 data_in_bv.set32(3,0xfc010303);
 addr = 0x00ac0802;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0101030201020101);
 data_in_bv.set32(0,0x01030203);
 data_in_bv.set32(1,0x02010203);
 data_in_bv.set32(2,0x01020302);
 data_in_bv.set32(3,0x01020100);
 addr = 0x02965bd7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0301000100000103);
 data_in_bv.set32(0,0x03010302);
 data_in_bv.set32(1,0x01010200);
 data_in_bv.set32(2,0x01020102);
 data_in_bv.set32(3,0x01030200);
 addr = 0x03eb0c93;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00010203010302);
 data_in_bv.set32(0,0x03020302);
 data_in_bv.set32(1,0x01030001);
 data_in_bv.set32(2,0x01030102);
 data_in_bv.set32(3,0xff010101);
 addr = 0x019ec6e2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff01ff03,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003020103010302);
 data_in_bv.set32(0,0x01010203);
 data_in_bv.set32(1,0x00000303);
 data_in_bv.set32(2,0x01020303);
 data_in_bv.set32(3,0x03030300);
 addr = 0x03a260fe;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00fb0300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103000202010002);
 data_in_bv.set32(0,0x03010302);
 data_in_bv.set32(1,0x03020103);
 data_in_bv.set32(2,0x01030002);
 data_in_bv.set32(3,0x02010200);
 addr = 0x03a62db5;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd01000201020200);
 data_in_bv.set32(0,0x03010302);
 data_in_bv.set32(1,0x00fb0103);
 data_in_bv.set32(2,0x01030002);
 data_in_bv.set32(3,0x02010200);
 addr = 0x00a62d8b;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00fb0103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff00010003020203);
 data_in_bv.set32(0,0x02010000);
 data_in_bv.set32(1,0x00010002);
 data_in_bv.set32(2,0x02010102);
 data_in_bv.set32(3,0x01000003);
 addr = 0x03aa099f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02010303000002);
 data_in_bv.set32(0,0x02030002);
 data_in_bv.set32(1,0x00030101);
 data_in_bv.set32(2,0x01020301);
 data_in_bv.set32(3,0xfc010100);
 addr = 0x02b522c4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0102b701,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfd03030100030203);
 data_in_bv.set32(0,0x03030000);
 data_in_bv.set32(1,0x00030103);
 data_in_bv.set32(2,0x03020302);
 data_in_bv.set32(3,0x02020002);
 addr = 0x00aa1bcc;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff01030203000201);
 data_in_bv.set32(0,0x01030302);
 data_in_bv.set32(1,0x00000201);
 data_in_bv.set32(2,0x03030003);
 data_in_bv.set32(3,0xfd010200);
 addr = 0x00b0bcf0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0202030102000000);
 data_in_bv.set32(0,0x02020300);
 data_in_bv.set32(1,0x00030101);
 data_in_bv.set32(2,0x01030000);
 data_in_bv.set32(3,0xfc030100);
 addr = 0x02e535c1;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0103b700,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc00000001030102);
 data_in_bv.set32(0,0x03000001);
 data_in_bv.set32(1,0x01010203);
 data_in_bv.set32(2,0x02010303);
 data_in_bv.set32(3,0x01030202);
 addr = 0x03a46a0f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x030000fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003010201020102);
 data_in_bv.set32(0,0x00030101);
 data_in_bv.set32(1,0x02010201);
 data_in_bv.set32(2,0x03020201);
 data_in_bv.set32(3,0xfd000202);
 addr = 0x03c07b89;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000300fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000201010303);
 data_in_bv.set32(0,0x03010201);
 data_in_bv.set32(1,0x02010003);
 data_in_bv.set32(2,0x00010300);
 data_in_bv.set32(3,0xfe010303);
 addr = 0x02faa9f4;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0001010302020000);
 data_in_bv.set32(0,0x03020103);
 data_in_bv.set32(1,0x02010301);
 data_in_bv.set32(2,0x01020002);
 data_in_bv.set32(3,0x02030301);
 addr = 0x01e1257b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100030200010001);
 data_in_bv.set32(0,0x03030200);
 data_in_bv.set32(1,0x01000002);
 data_in_bv.set32(2,0x03000103);
 data_in_bv.set32(3,0x02020302);
 addr = 0x03d1859d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0202010000010201);
 data_in_bv.set32(0,0x03030000);
 data_in_bv.set32(1,0x01000102);
 data_in_bv.set32(2,0x01030002);
 data_in_bv.set32(3,0x02030002);
 addr = 0x03db789b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd00000202020103);
 data_in_bv.set32(0,0x02020003);
 data_in_bv.set32(1,0x02000303);
 data_in_bv.set32(2,0x00000203);
 data_in_bv.set32(3,0xfe010101);
 addr = 0x01d2d01c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xfe050003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02030000010101);
 data_in_bv.set32(0,0x01030301);
 data_in_bv.set32(1,0x01010101);
 data_in_bv.set32(2,0x01030301);
 data_in_bv.set32(3,0x02010202);
 addr = 0x03de845b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02030302020001);
 data_in_bv.set32(0,0x02000003);
 data_in_bv.set32(1,0x00010101);
 data_in_bv.set32(2,0x03020201);
 data_in_bv.set32(3,0x02010303);
 addr = 0x038b38d9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0301020201000102);
 data_in_bv.set32(0,0x03010202);
 data_in_bv.set32(1,0x02030302);
 data_in_bv.set32(2,0x00020300);
 data_in_bv.set32(3,0x01010302);
 addr = 0x028d71fb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7010302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc03000100010202);
 data_in_bv.set32(0,0x03020103);
 data_in_bv.set32(1,0x01030100);
 data_in_bv.set32(2,0x03030301);
 data_in_bv.set32(3,0x00020301);
 addr = 0x01d829d9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff050301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03030101020301);
 data_in_bv.set32(0,0x03020103);
 data_in_bv.set32(1,0x01030100);
 data_in_bv.set32(2,0xff050301);
 data_in_bv.set32(3,0x00020301);
 addr = 0x02d829b8;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff050301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0301010203010101);
 data_in_bv.set32(0,0x01020100);
 data_in_bv.set32(1,0x02000202);
 data_in_bv.set32(2,0x01030201);
 data_in_bv.set32(3,0x03020300);
 addr = 0x00b152ce;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020100,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0303020002010003);
 data_in_bv.set32(0,0x03020301);
 data_in_bv.set32(1,0x02000200);
 data_in_bv.set32(2,0x00010203);
 data_in_bv.set32(3,0xfd020302);
 addr = 0x019c9533;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001000101010003);
 data_in_bv.set32(0,0x00010102);
 data_in_bv.set32(1,0x01030100);
 data_in_bv.set32(2,0x00030201);
 data_in_bv.set32(3,0x02000200);
 addr = 0x02bab2b7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7030100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0001020301030300);
 data_in_bv.set32(0,0x03010202);
 data_in_bv.set32(1,0x03020201);
 data_in_bv.set32(2,0x03030300);
 data_in_bv.set32(3,0x02020000);
 addr = 0x01fc8d11;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xff010202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0101010301000203);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x02010002);
 data_in_bv.set32(2,0x02000102);
 data_in_bv.set32(3,0xfe030002);
 addr = 0x039e0156;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01fb0102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd03010001020000);
 data_in_bv.set32(0,0x00010101);
 data_in_bv.set32(1,0x01000001);
 data_in_bv.set32(2,0x00030000);
 data_in_bv.set32(3,0xfc020103);
 addr = 0x0092d485;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0202020103030200);
 data_in_bv.set32(0,0x01000303);
 data_in_bv.set32(1,0x02000203);
 data_in_bv.set32(2,0x03020003);
 data_in_bv.set32(3,0x00000303);
 addr = 0x00be172c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0101010000010300);
 data_in_bv.set32(0,0x00010300);
 data_in_bv.set32(1,0x01020100);
 data_in_bv.set32(2,0x02000302);
 data_in_bv.set32(3,0x03010301);
 addr = 0x00827b5c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0000030000020301);
 data_in_bv.set32(0,0x00020301);
 data_in_bv.set32(1,0x00020101);
 data_in_bv.set32(2,0x00020000);
 data_in_bv.set32(3,0xfe000101);
 addr = 0x02b23d93;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7020301,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe000101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff01010203030201);
 data_in_bv.set32(0,0x03010000);
 data_in_bv.set32(1,0x01030302);
 data_in_bv.set32(2,0x00000203);
 data_in_bv.set32(3,0xfc010300);
 addr = 0x01b88866;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc01fe01,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01020100010203);
 data_in_bv.set32(0,0x01010200);
 data_in_bv.set32(1,0x03020100);
 data_in_bv.set32(2,0x01010001);
 data_in_bv.set32(3,0xfc020003);
 addr = 0x019fb321;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0302fe03,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02020200020303);
 data_in_bv.set32(0,0x02020202);
 data_in_bv.set32(1,0x00020200);
 data_in_bv.set32(2,0x03020300);
 data_in_bv.set32(3,0x03020302);
 addr = 0x01a8093e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe050200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00020301020001);
 data_in_bv.set32(0,0x02030001);
 data_in_bv.set32(1,0x02020302);
 data_in_bv.set32(2,0x01010002);
 data_in_bv.set32(3,0xfd010002);
 addr = 0x0085ec1c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0101030001030300);
 data_in_bv.set32(0,0x00030102);
 data_in_bv.set32(1,0x03010100);
 data_in_bv.set32(2,0x00020201);
 data_in_bv.set32(3,0xff000302);
 addr = 0x00c85519;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0303010303020100);
 data_in_bv.set32(0,0x03020002);
 data_in_bv.set32(1,0x01030002);
 data_in_bv.set32(2,0x02030300);
 data_in_bv.set32(3,0x00000302);
 addr = 0x008f06df;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0202010203010101);
 data_in_bv.set32(0,0x03020200);
 data_in_bv.set32(1,0x01030103);
 data_in_bv.set32(2,0x02010103);
 data_in_bv.set32(3,0xff010003);
 addr = 0x02e69891;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7020200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0303020300020100);
 data_in_bv.set32(0,0x01020101);
 data_in_bv.set32(1,0x01000200);
 data_in_bv.set32(2,0x01010202);
 data_in_bv.set32(3,0xfe010100);
 addr = 0x0080217e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01000200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff03030301030201);
 data_in_bv.set32(0,0x01000300);
 data_in_bv.set32(1,0x01010201);
 data_in_bv.set32(2,0x01000003);
 data_in_bv.set32(3,0xfe030303);
 addr = 0x0099bc6d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01000300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd00000303020303);
 data_in_bv.set32(0,0x01030202);
 data_in_bv.set32(1,0x03000303);
 data_in_bv.set32(2,0x00010003);
 data_in_bv.set32(3,0xff010200);
 addr = 0x02e5bbd8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc03020002010101);
 data_in_bv.set32(0,0x01030202);
 data_in_bv.set32(1,0x03000303);
 data_in_bv.set32(2,0xb7010003);
 data_in_bv.set32(3,0xff010200);
 addr = 0x00e5bba7;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7010003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff010200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0302000302020101);
 data_in_bv.set32(0,0x03020101);
 data_in_bv.set32(1,0x01010000);
 data_in_bv.set32(2,0x01030002);
 data_in_bv.set32(3,0xfd030000);
 addr = 0x02c8f9e3;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd03b700,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0101010101030202);
 data_in_bv.set32(0,0x03010203);
 data_in_bv.set32(1,0x00000101);
 data_in_bv.set32(2,0x01030003);
 data_in_bv.set32(3,0xfe030002);
 addr = 0x02bd4cf2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfe03030201020300);
 data_in_bv.set32(0,0x00010300);
 data_in_bv.set32(1,0x01030201);
 data_in_bv.set32(2,0x01020001);
 data_in_bv.set32(3,0x03000201);
 addr = 0x01ca80d2;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe030001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc02030200010103);
 data_in_bv.set32(0,0x03010102);
 data_in_bv.set32(1,0x03020103);
 data_in_bv.set32(2,0x00030003);
 data_in_bv.set32(3,0xfc010102);
 addr = 0x01d89a72;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03010102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00030003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff040102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0000030203010302);
 data_in_bv.set32(0,0x00010103);
 data_in_bv.set32(1,0x00030000);
 data_in_bv.set32(2,0x03020303);
 data_in_bv.set32(3,0xfd020301);
 addr = 0x03b87900;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x000100fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0200000002010202);
 data_in_bv.set32(0,0x02030302);
 data_in_bv.set32(1,0x01020100);
 data_in_bv.set32(2,0x01000002);
 data_in_bv.set32(3,0xfc000202);
 addr = 0x029ca64f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0100b702,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc02020102010001);
 data_in_bv.set32(0,0x03000202);
 data_in_bv.set32(1,0x00030200);
 data_in_bv.set32(2,0x01000101);
 data_in_bv.set32(3,0xfe030202);
 addr = 0x00f91b77;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0003030000010300);
 data_in_bv.set32(0,0x03000202);
 data_in_bv.set32(1,0x03000201);
 data_in_bv.set32(2,0x02020102);
 data_in_bv.set32(3,0x00000000);
 addr = 0x018f0238;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xfe010201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02000002010001);
 data_in_bv.set32(0,0x00010203);
 data_in_bv.set32(1,0x02030102);
 data_in_bv.set32(2,0x00020102);
 data_in_bv.set32(3,0xfd030300);
 addr = 0x02c722a8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x0203b702,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020102,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0302020003030002);
 data_in_bv.set32(0,0x01020101);
 data_in_bv.set32(1,0x00020001);
 data_in_bv.set32(2,0x01030200);
 data_in_bv.set32(3,0x02010001);
 addr = 0x0387ac06;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x010200fb,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe00000301020303);
 data_in_bv.set32(0,0x02020303);
 data_in_bv.set32(1,0x00000101);
 data_in_bv.set32(2,0x03020300);
 data_in_bv.set32(3,0xff020103);
 addr = 0x029329f0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020303,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xb7020103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0002030301010001);
 data_in_bv.set32(0,0x02010203);
 data_in_bv.set32(1,0x03020202);
 data_in_bv.set32(2,0x03000201);
 data_in_bv.set32(3,0xfe030300);
 addr = 0x009e2ba8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0303020103000002);
 data_in_bv.set32(0,0x00030002);
 data_in_bv.set32(1,0x03020100);
 data_in_bv.set32(2,0x03010103);
 data_in_bv.set32(3,0x01020000);
 addr = 0x0087eaff;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010103,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0002000202030203);
 data_in_bv.set32(0,0x01030302);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x00000001);
 data_in_bv.set32(3,0xfd010101);
 addr = 0x00cf36cf;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd010101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xff01030303020102);
 data_in_bv.set32(0,0x02020001);
 data_in_bv.set32(1,0x03030202);
 data_in_bv.set32(2,0x02020302);
 data_in_bv.set32(3,0x00010201);
 addr = 0x00a34ed9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0102030001030102);
 data_in_bv.set32(0,0x02010201);
 data_in_bv.set32(1,0x00010003);
 data_in_bv.set32(2,0x03030200);
 data_in_bv.set32(3,0x02030101);
 addr = 0x00ca91b0;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd01010303030302);
 data_in_bv.set32(0,0x01020201);
 data_in_bv.set32(1,0x03000302);
 data_in_bv.set32(2,0x02030302);
 data_in_bv.set32(3,0x00020003);
 addr = 0x00aa622e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020201,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020003,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0101010100030300);
 data_in_bv.set32(0,0x01010003);
 data_in_bv.set32(1,0x01020303);
 data_in_bv.set32(2,0x00010000);
 data_in_bv.set32(3,0x01020301);
 addr = 0x01c7fe49;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01010003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020303,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0001fe00,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe02000000010001);
 data_in_bv.set32(0,0x00020202);
 data_in_bv.set32(1,0x03010301);
 data_in_bv.set32(2,0x03000003);
 data_in_bv.set32(3,0x01030302);
 addr = 0x00e80917;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0301020000010102);
 data_in_bv.set32(0,0x02030001);
 data_in_bv.set32(1,0x01020101);
 data_in_bv.set32(2,0x03010101);
 data_in_bv.set32(3,0xfd020301);
 addr = 0x0187ad5d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff030101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd020301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103000200020300);
 data_in_bv.set32(0,0x03020002);
 data_in_bv.set32(1,0x03020101);
 data_in_bv.set32(2,0x03010301);
 data_in_bv.set32(3,0xff000202);
 addr = 0x03995391;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010301,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff01030200020101);
 data_in_bv.set32(0,0x01020000);
 data_in_bv.set32(1,0x01010003);
 data_in_bv.set32(2,0x03030203);
 data_in_bv.set32(3,0xfd020103);
 addr = 0x019ddb72;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe030103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0100000002000301);
 data_in_bv.set32(0,0x00000102);
 data_in_bv.set32(1,0x03020101);
 data_in_bv.set32(2,0x02020203);
 data_in_bv.set32(3,0x00030300);
 addr = 0x02d0d907;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0000b702,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00030300,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0003010300000000);
 data_in_bv.set32(0,0x01030102);
 data_in_bv.set32(1,0x03030002);
 data_in_bv.set32(2,0x01030100);
 data_in_bv.set32(3,0x00000201);
 addr = 0x01c32bdd;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03030002,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00000201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203010200020001);
 data_in_bv.set32(0,0x02020302);
 data_in_bv.set32(1,0x01020200);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0xfd030101);
 addr = 0x03a1f17a;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0003020002020100);
 data_in_bv.set32(0,0x02020302);
 data_in_bv.set32(1,0x01020200);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0x01fb0101);
 addr = 0x00a1f156;
 forwarding =  true;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0101,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfe00030301020100);
 data_in_bv.set32(0,0x01020102);
 data_in_bv.set32(1,0x03000203);
 data_in_bv.set32(2,0x03020003);
 data_in_bv.set32(3,0xfc030002);
 addr = 0x03d5c8a9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x030000fb,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020003,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfc01000103030300);
 data_in_bv.set32(0,0x00000302);
 data_in_bv.set32(1,0x00010000);
 data_in_bv.set32(2,0x00020001);
 data_in_bv.set32(3,0x00000202);
 addr = 0x02e58d6b;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00020001,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x0000b702,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0102010300020001);
 data_in_bv.set32(0,0x00000203);
 data_in_bv.set32(1,0x02000300);
 data_in_bv.set32(2,0x02030100);
 data_in_bv.set32(3,0xfe010303);
 addr = 0x018313d8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xff040100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfe010303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0201000201010203);
 data_in_bv.set32(0,0x03030203);
 data_in_bv.set32(1,0x02000302);
 data_in_bv.set32(2,0x03000202);
 data_in_bv.set32(3,0x02030002);
 addr = 0x03b2fdca;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x030001fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02030002,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0203010102030300);
 data_in_bv.set32(0,0x00020001);
 data_in_bv.set32(1,0x01030000);
 data_in_bv.set32(2,0x02000002);
 data_in_bv.set32(3,0xff000100);
 addr = 0x02efbf07;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x0002b701,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0203020101020302);
 data_in_bv.set32(0,0x03010203);
 data_in_bv.set32(1,0x00010101);
 data_in_bv.set32(2,0x01000100);
 data_in_bv.set32(3,0xff030000);
 addr = 0x03b3a411;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff030000,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002000201010301);
 data_in_bv.set32(0,0x02020002);
 data_in_bv.set32(1,0x01010300);
 data_in_bv.set32(2,0x03000303);
 data_in_bv.set32(3,0xfc030301);
 addr = 0x03f52af8;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010300,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01fb0301,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0002030100010301);
 data_in_bv.set32(0,0x02030300);
 data_in_bv.set32(1,0x02010100);
 data_in_bv.set32(2,0x01020300);
 data_in_bv.set32(3,0xfc010103);
 addr = 0x00d36c17;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030300,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01020300,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc010103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd01000003010100);
 data_in_bv.set32(0,0x01030102);
 data_in_bv.set32(1,0x03020203);
 data_in_bv.set32(2,0x01000303);
 data_in_bv.set32(3,0xfc000100);
 addr = 0x009bc73e;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01030102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000303,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0002030200000000);
 data_in_bv.set32(0,0x03010200);
 data_in_bv.set32(1,0x01010000);
 data_in_bv.set32(2,0x01010203);
 data_in_bv.set32(3,0xff020303);
 addr = 0x03bc1b92;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01010203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff020303,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfe03000301030301);
 data_in_bv.set32(0,0x02010200);
 data_in_bv.set32(1,0x02000003);
 data_in_bv.set32(2,0x03030202);
 data_in_bv.set32(3,0xfd000203);
 addr = 0x02a7b29f;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0xb7010200,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000003,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030202,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xff02010103030201);
 data_in_bv.set32(0,0x02000103);
 data_in_bv.set32(1,0x02000302);
 data_in_bv.set32(2,0x00010303);
 data_in_bv.set32(3,0x00020100);
 addr = 0x03d89a4c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02000103,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000302,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x000101fb,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x00020100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xff00020102000103);
 data_in_bv.set32(0,0x01020302);
 data_in_bv.set32(1,0x00030301);
 data_in_bv.set32(2,0x01000002);
 data_in_bv.set32(3,0xfc030100);
 addr = 0x03c6a666;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020302,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01000002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc0301fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02010301020303);
 data_in_bv.set32(0,0x00020003);
 data_in_bv.set32(1,0x00020000);
 data_in_bv.set32(2,0x00010100);
 data_in_bv.set32(3,0x00020102);
 addr = 0x038c2b64;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00020003,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00020000,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x000201fb,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0102030103000100);
 data_in_bv.set32(0,0x01020202);
 data_in_bv.set32(1,0x03020200);
 data_in_bv.set32(2,0x00000100);
 data_in_bv.set32(3,0xfd000001);
 addr = 0x03a2a295;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00fb0202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00000100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000001,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0103030100000002);
 data_in_bv.set32(0,0x00000202);
 data_in_bv.set32(1,0x00020103);
 data_in_bv.set32(2,0x00010201);
 data_in_bv.set32(3,0xfc020203);
 addr = 0x02eccab7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xb7020103,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x00010201,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc020203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0200020302030103);
 data_in_bv.set32(0,0x02020203);
 data_in_bv.set32(1,0x02030301);
 data_in_bv.set32(2,0x02020203);
 data_in_bv.set32(3,0x03000203);
 addr = 0x01a39ad7;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02020203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02030301,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xfe050203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03000203,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0001010301030001);
 data_in_bv.set32(0,0x03020102);
 data_in_bv.set32(1,0x01030201);
 data_in_bv.set32(2,0x03020203);
 data_in_bv.set32(3,0xff000200);
 addr = 0x00a4aed6;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03020102,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01030201,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03020203,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfc03010000000002);
 data_in_bv.set32(0,0x03000202);
 data_in_bv.set32(1,0x02020102);
 data_in_bv.set32(2,0x00000101);
 data_in_bv.set32(3,0x02010102);
 addr = 0x02e2a352;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x03000202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02020102,data_out_bv.get_word(32,32));
 EXPECT_EQ(0xb7000101,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x02010102,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0x0203010000020200);
 data_in_bv.set32(0,0x00030202);
 data_in_bv.set32(1,0x03030202);
 data_in_bv.set32(2,0x01030302);
 data_in_bv.set32(3,0xfd000103);
 addr = 0x01b262bb;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00030202,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0xff030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x01030302,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd000103,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0x0300030302020103);
 data_in_bv.set32(0,0x01020101);
 data_in_bv.set32(1,0x00000101);
 data_in_bv.set32(2,0x03010200);
 data_in_bv.set32(3,0x01000202);
 addr = 0x00bf8634;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01020101,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00000101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03010200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x01000202,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0xfd00030302020002);
 data_in_bv.set32(0,0x02030203);
 data_in_bv.set32(1,0x01010100);
 data_in_bv.set32(2,0x02030200);
 data_in_bv.set32(3,0xfd030202);
 addr = 0x02e55ee9;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02030203,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x01010100,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02030200,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfd03b702,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00024000,action_out);
 phv_data_word = UINT64_C(0xfc02020102020102);
 data_in_bv.set32(0,0x02010000);
 data_in_bv.set32(1,0x00030202);
 data_in_bv.set32(2,0x03030100);
 data_in_bv.set32(3,0xfc030201);
 addr = 0x00c0de3d;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x02010000,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x00030202,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x03030100,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xfc030201,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00028000,action_out);
 phv_data_word = UINT64_C(0x0202030300030001);
 data_in_bv.set32(0,0x00010002);
 data_in_bv.set32(1,0x02000203);
 data_in_bv.set32(2,0x01000200);
 data_in_bv.set32(3,0x03020200);
 addr = 0x01bc9d41;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x00010002,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02000203,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x0100fe01,data_out_bv.get_word(64,32));
 EXPECT_EQ(0x03020200,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
 phv_data_word = UINT64_C(0xfd02000300010101);
 data_in_bv.set32(0,0x01020001);
 data_in_bv.set32(1,0x02010101);
 data_in_bv.set32(2,0x02010002);
 data_in_bv.set32(3,0xff000100);
 addr = 0x03eec81c;
 forwarding = false;
 salu->calculate_output(addr,phv_data_word,&data_in_bv,&data_out_bv,&action_out,forwarding);
 EXPECT_EQ(0x01fb0001,data_out_bv.get_word( 0,32));
 EXPECT_EQ(0x02010101,data_out_bv.get_word(32,32));
 EXPECT_EQ(0x02010002,data_out_bv.get_word(64,32));
 EXPECT_EQ(0xff000100,data_out_bv.get_word(96,32));
 EXPECT_EQ(0x00000000,action_out);
// ********** end extracted from log
